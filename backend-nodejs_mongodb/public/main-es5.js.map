{"version":3,"sources":["webpack:///./$_lazy_route_resource lazy namespace object","webpack:///./src/app/app.component.html","webpack:///./src/app/components/dialogs/ended-dialog/ended-dialog.component.html","webpack:///./src/app/components/dialogs/ohli-dialog/ohli-dialog.component.html","webpack:///./src/app/components/dialogs/search-dialog/search-dialog.component.html","webpack:///./src/app/components/dialogs/studio-dialog/studio-dialog.component.html","webpack:///./src/app/components/dialogs/text-field-dialog/text-field-dialog.component.html","webpack:///./src/app/components/home/home.component.html","webpack:///./src/app/components/movie/movie.component.html","webpack:///./src/app/components/no-page/no-page.component.html","webpack:///./src/app/components/plan/plan.component.html","webpack:///./src/app/components/tva/tva.component.html","webpack:///./src/app/components/watching/watching.component.html","webpack:///./src/app/app-routing.module.ts","webpack:///./src/app/app.component.css","webpack:///./src/app/app.component.ts","webpack:///./src/app/app.module.ts","webpack:///./src/app/components/dialogs/ended-dialog/ended-dialog.component.css","webpack:///./src/app/components/dialogs/ended-dialog/ended-dialog.component.ts","webpack:///./src/app/components/dialogs/ohli-dialog/ohli-dialog.component.css","webpack:///./src/app/components/dialogs/ohli-dialog/ohli-dialog.component.ts","webpack:///./src/app/components/dialogs/search-dialog/search-dialog.component.css","webpack:///./src/app/components/dialogs/search-dialog/search-dialog.component.ts","webpack:///./src/app/components/dialogs/studio-dialog/studio-dialog.component.css","webpack:///./src/app/components/dialogs/studio-dialog/studio-dialog.component.ts","webpack:///./src/app/components/dialogs/text-field-dialog/text-field-dialog.component.css","webpack:///./src/app/components/dialogs/text-field-dialog/text-field-dialog.component.ts","webpack:///./src/app/components/home/home.component.css","webpack:///./src/app/components/home/home.component.model.ts","webpack:///./src/app/components/home/home.component.ts","webpack:///./src/app/components/movie/movie.component.css","webpack:///./src/app/components/movie/movie.component.ts","webpack:///./src/app/components/no-page/no-page.component.css","webpack:///./src/app/components/no-page/no-page.component.ts","webpack:///./src/app/components/plan/plan.component.css","webpack:///./src/app/components/plan/plan.component.ts","webpack:///./src/app/components/tva/tva.component.css","webpack:///./src/app/components/tva/tva.component.ts","webpack:///./src/app/components/watching/watching.component.css","webpack:///./src/app/components/watching/watching.component.ts","webpack:///./src/app/interceptors/content.type.interceptor.ts","webpack:///./src/app/models/headerAlign.ts","webpack:///./src/app/models/item.ts","webpack:///./src/app/models/searched.ts","webpack:///./src/app/pipes/safe.html.ts","webpack:///./src/app/pipes/safe.url.ts","webpack:///./src/app/services/movie.service.ts","webpack:///./src/app/services/plan.service.ts","webpack:///./src/app/services/search.service.ts","webpack:///./src/app/services/title.service.ts","webpack:///./src/app/services/tva.service.ts","webpack:///./src/app/services/watching.service.ts","webpack:///./src/environments/environment.ts","webpack:///./src/main.ts"],"names":[],"mappings":"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","file":"main-es5.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./$$_lazy_route_resource lazy recursive\";","module.exports = \"<table id=\\\"scroll-button\\\">\\n    <tr>\\n        <td class=\\\"clickable\\\" (click)=\\\"scrollUp()\\\"><mat-icon>keyboard_arrow_up</mat-icon></td>\\n    </tr>\\n    <tr>\\n        <td class=\\\"clickable\\\" (click)=\\\"scrollDown()\\\"><mat-icon>keyboard_arrow_down</mat-icon></td>\\n    </tr>\\n</table>\\n\\n<nav class=\\\"navbar navbar-expand-lg navbar-light bg-light rounded navbar-fixed-top mdl-shadow--2dp\\\">\\n    <a class=\\\"navbar-brand\\\" routerLink=\\\"/\\\">AnimeLog W</a>\\n    <button class=\\\"navbar-toggler\\\" type=\\\"button\\\" data-toggle=\\\"collapse\\\" data-target=\\\"#navbar\\\" aria-controls=\\\"navbar\\\" aria-expanded=\\\"false\\\" aria-label=\\\"Toggle navigation\\\">\\n        <span class=\\\"navbar-toggler-icon\\\"></span>\\n    </button>\\n\\n    <div class=\\\"collapse navbar-collapse\\\" id=\\\"navbar\\\">\\n        <ul></ul>\\n        <nav mat-tab-nav-bar>\\n            <a mat-tab-link\\n                class=\\\"mat-tabs\\\"\\n                *ngFor=\\\"let link of navLinks\\\"\\n                [routerLink]=\\\"link.path\\\"\\n                routerLinkActive #rla=\\\"routerLinkActive\\\"\\n                [active]=\\\"rla.isActive\\\">\\n                {{link.label}}\\n            </a>\\n        </nav>\\n    </div>\\n</nav>\\n<ng-flash-message></ng-flash-message>\\n\\n<div id=\\\"main-part\\\" class=\\\"bg-dark\\\">\\n    <div *ngIf=\\\"router.url != '/'\\\">\\n        <br><br><br><br>\\n    </div>\\n    <main role=\\\"main\\\">\\n        <router-outlet></router-outlet>\\n    </main>\\n    <br><br><br>\\n</div>\\n\\n<footer class=\\\"text-muted py-5 bg-secondary\\\" id=\\\"footer\\\">\\n    <div class=\\\"container\\\">\\n        <p><b>Powered by ParkJH</b></p><br>\\n        <div class=\\\"row\\\">\\n            <div class=\\\"col-sm\\\">\\n                <p><b>MEAN Stack</b></p>\\n                <p><a target=\\\"_blank\\\" href=\\\"https://www.mongodb.com\\\">MongoDB</a></p>\\n                <p><a target=\\\"_blank\\\" href=\\\"https://expressjs.com/ko/\\\">Express</a></p>\\n                <p><a target=\\\"_blank\\\" href=\\\"https://angular.kr/\\\">Angular</a></p>\\n                <p><a target=\\\"_blank\\\" href=\\\"https://nodejs.org/ko/\\\">Node.js</a></p>\\n                <p><a target=\\\"_blank\\\" href=\\\"https://github.com/theta14/AnimeLog_w.git\\\">Github</a></p>\\n            </div>\\n            <div class=\\\"col-sm\\\">\\n                <p><b>CSS</b></p>\\n                <p><a target=\\\"_blank\\\" href=\\\"https://getbootstrap.com/\\\">Bootstrap</a></p>\\n                <p><a target=\\\"_blank\\\" href=\\\"https://material.angular.io/\\\">Angular Material</a></p>\\n                <p><a target=\\\"_blank\\\" href=\\\"https://getmdl.io/\\\">Material Design Lite</a></p>\\n                <p><a target=\\\"_blank\\\" href=\\\"https://material.io/resources/icons/?style=baseline\\\">Material Icons</a></p>\\n                <p><a target=\\\"_blank\\\" href=\\\"https://www.svgbackgrounds.com/\\\">SVG Backgrounds</a></p>\\n            </div>\\n            <div class=\\\"col-sm\\\">\\n                <p><b>Resources</b></p>\\n                <p><a target=\\\"_blank\\\" href=\\\"https://myanimelist.net/\\\">MyAnimeList</a></p>\\n                <p><a target=\\\"_blank\\\" href=\\\"http://onnada.com/\\\">Onnada</a></p>\\n                <p><a target=\\\"_blank\\\" href=\\\"https://nyaa.si/\\\">Nyaa</a></p>\\n                <p><a target=\\\"_blank\\\" href=\\\"http://raws.ohys.net/t/\\\">Ohys</a></p>\\n                <p><a target=\\\"_blank\\\" href=\\\"https://ohli.moe/\\\">OHLI</a></p>\\n            </div>\\n        </div>\\n    </div>\\n</footer>\\n\"","module.exports = \"<h2 mat-dialog-title>{{data.title[data.title.rv]}}</h2>\\n<div mat-dialog-content *ngIf=\\\"!year\\\">\\n  <mat-spinner></mat-spinner><br>\\n  필요한 정보를 불러오는 중...\\n</div>\\n<div mat-dialog-content *ngIf=\\\"year\\\">\\n\\n  <div class=\\\"container\\\">\\n    <table class=\\\"table table-borderless\\\" style=\\\"width: 65%; margin: auto;\\\">\\n      <tr>\\n        <td style=\\\"text-align: center;\\\">\\n          <img [src]=\\\"data.img\\\">\\n        </td>\\n        <td style=\\\"text-align: center; vertical-align: middle;\\\">\\n          <button mat-stroked-button (click)=\\\"findOhliId()\\\">자막 찾기</button><br><br>\\n          <a mat-stroked-button [href]=\\\"'https://www.google.com/search?q=' + data.title.kor + ' 토렌트'\\\" target=\\\"_blank\\\" class=\\\"btn-link\\\">구글 검색</a>\\n        </td>\\n      </tr>\\n    </table>\\n\\n    <br>\\n  \\n    <table class=\\\"table\\\">\\n      <caption>Nyaa</caption>\\n      <tr *ngIf=\\\"!videos\\\">\\n        <td colspan=\\\"4\\\">\\n          <mat-progress-bar mode=\\\"indeterminate\\\"></mat-progress-bar>\\n        </td>\\n      </tr>\\n      <ng-container *ngIf=\\\"videos\\\">\\n        <tr *ngFor=\\\"let video of videos\\\">\\n          <td>{{getDate(video.date)}}</td>\\n          <td>{{video.name}}</td>\\n          <td>{{getSize(video.size)}}</td>\\n          <td>\\n            <a [href]=\\\"video.magnet | safeUrl\\\" class=\\\"download-link\\\">▶</a>\\n          </td>\\n        </tr>\\n      </ng-container>\\n    </table>\\n  \\n    <hr><br>\\n  \\n    <table class=\\\"table\\\">\\n      <caption>Ohys</caption>\\n      <tr *ngIf=\\\"!ohyses\\\">\\n        <td colspan=\\\"2\\\">\\n          <mat-progress-bar mode=\\\"indeterminate\\\"></mat-progress-bar>\\n        </td>\\n      </tr>\\n      <ng-container *ngIf=\\\"ohyses\\\">\\n        <tr *ngFor=\\\"let ohys of ohyses\\\">\\n          <td>{{ohys.name}}</td>\\n          <td>\\n            <a [href]=\\\"ohys.link\\\" class=\\\"download-link\\\" download>▶</a>\\n          </td>\\n        </tr>\\n      </ng-container>\\n    </table>\\n  \\n    <hr><br>\\n  \\n    <table class=\\\"table\\\">\\n      <caption>OHLI</caption>\\n      <tr *ngIf=\\\"!subtitles\\\">\\n        <td colspan=\\\"4\\\">\\n          <mat-progress-bar mode=\\\"indeterminate\\\"></mat-progress-bar>\\n        </td>\\n      </tr>\\n      <ng-container *ngIf=\\\"subtitles\\\">\\n        <tr *ngFor=\\\"let subtitle of subtitles\\\">\\n          <td>{{getDate(subtitle.date)}}</td>\\n          <td>제{{subtitle.episode}}화</td>\\n          <td>{{subtitle.by}}</td>\\n          <td><a class=\\\"download-link\\\" [href]=\\\"subtitle.link\\\" target=\\\"_blank\\\">페이지로 이동</a></td>\\n        </tr>\\n      </ng-container>\\n    </table>\\n\\n  </div>\\n\\n</div>\\n<div mat-dialog-actions>\\n  <button mat-button tabindex=\\\"-1\\\" (click)=\\\"onClose()\\\">닫기</button>\\n</div>\\n\"","module.exports = \"<h2 mat-dialog-title *ngIf=\\\"!loading\\\">[ {{data.title}} ] 검색 결과</h2>\\n<div mat-dialog-content>\\n  \\n  <div *ngIf=\\\"loading\\\" style=\\\"text-align: center;\\\">\\n    <mat-spinner></mat-spinner><br>\\n    결과를 가져오는 중...\\n  </div>\\n  <div class=\\\"container\\\" *ngIf=\\\"!loading\\\">\\n    <ng-container *ngFor=\\\"let ohli of ohlis; index as i\\\">\\n      <table class=\\\"table\\\">\\n        <tr>\\n          <td style=\\\"text-align: center; vertical-align: middle;\\\" rowspan=\\\"4\\\">\\n            <img [src]=\\\"ohli.img\\\">\\n          </td>\\n          <th>OHLI</th>\\n          <td>{{ohli.id}}</td>\\n        </tr>\\n        <tr>\\n          <th>제목</th>\\n          <td>{{ohli.title}}</td>\\n        </tr>\\n        <tr>\\n          <th>방영 시작일</th>\\n          <td>{{ohli.aired}}</td>\\n        </tr>\\n        <tr>\\n          <td colspan=\\\"2\\\" style=\\\"text-align: center;\\\">\\n            <button (click)=\\\"selectItem(i)\\\" mat-button>선택</button>\\n          </td>\\n        </tr>\\n      </table>\\n    </ng-container>\\n    \\n  </div>\\n\\n</div>\\n<div mat-dialog-actions>\\n  <button mat-button tabindex=\\\"-1\\\" (click)=\\\"onClose()\\\">닫기</button>\\n</div>\\n\"","module.exports = \"<h2 mat-dialog-title *ngIf=\\\"!loading\\\">[ {{data.search.text}} ] 검색 결과</h2>\\n<div mat-dialog-content>\\n  \\n  <div *ngIf=\\\"loading\\\" style=\\\"text-align: center;\\\">\\n    <mat-spinner></mat-spinner><br>\\n    결과를 가져오는 중...\\n  </div>\\n  <div class=\\\"container\\\" *ngIf=\\\"!loading\\\">\\n    <ng-container *ngFor=\\\"let searched of searches; index as i\\\">\\n      <table class=\\\"table\\\">\\n        <tr>\\n          <td style=\\\"text-align: center; vertical-align: middle;\\\" rowspan=\\\"5\\\">\\n            <img [src]=\\\"searched.img\\\">\\n          </td>\\n          <th>타입</th>\\n          <td>{{searched.type}}</td>\\n        </tr>\\n        <tr>\\n          <th>제목</th>\\n          <td>{{searched.title}}</td>\\n        </tr>\\n        <tr>\\n          <th>방영 분기</th>\\n          <td>\\n            {{searched.premiered.year}}년 {{searched.premiered.quarter}}분기\\n          </td>\\n        </tr>\\n        <tr>\\n          <th>MyAnimeList</th>\\n          <td>\\n            <a [href]=\\\"'https://myanimelist.net/anime/' + searched.mal_id\\\" target=\\\"_blank\\\">\\n              {{searched.mal_id}}\\n            </a>\\n          </td>\\n        </tr>\\n        <tr>\\n          <td colspan=\\\"2\\\" style=\\\"text-align: center;\\\">\\n            <button (click)=\\\"selectItem(i)\\\" mat-button>선택</button>\\n          </td>\\n        </tr>\\n      </table>\\n    </ng-container>\\n    <div *ngIf=\\\"searches.length == 0\\\">\\n      <p>검색결과가 없거나 에러가 발생하였습니다.</p>\\n      <p><a [href]=\\\"getLink()\\\" target=\\\"_blank\\\">직접 검색해보기</a></p>\\n    </div>\\n    \\n  </div>\\n\\n</div>\\n<div mat-dialog-actions>\\n  <button mat-button tabindex=\\\"-1\\\" (click)=\\\"onClose()\\\">닫기</button>\\n</div>\\n\"","module.exports = \"<h2 mat-dialog-title>{{data}}</h2>\\n<div mat-dialog-content>\\n  <ul *ngIf=\\\"tvas.length > 0 || movies.length > 0\\\">\\n    <li *ngIf=\\\"tvas.length > 0\\\">TVA ({{tvas.length}})\\n      <ul>\\n        <li *ngFor=\\\"let item of tvas; index as i\\\">\\n          <hr *ngIf=\\\"yearChanged(i)\\\">\\n          <a [routerLink]=\\\"getLink('tva', item)\\\" target=\\\"_blank\\\">\\n            {{item.title[item.title.rv]}} <span style=\\\"font-size: 80%;\\\">({{getFormattedDate(item.date)}})</span>\\n          </a>\\n        </li>\\n      </ul>\\n    </li>\\n    <br *ngIf=\\\"movies.length > 0\\\">\\n    <li *ngIf=\\\"movies.length > 0\\\">극장판 ({{movies.length}})\\n      <ul>\\n        <li *ngFor=\\\"let item of movies\\\">\\n          <a [routerLink]=\\\"getLink('movie', item)\\\" target=\\\"_blank\\\">\\n            {{item.title[item.title.rv]}} <span style=\\\"font-size: 80%;\\\">({{getFormattedDate(item.date)}})</span>\\n          </a>\\n        </li>\\n      </ul>\\n    </li>\\n  </ul>\\n  <p *ngIf=\\\"tvas.length == 0 && movies.length == 0\\\">시청 항목이 존재하지 않습니다.</p>\\n</div>\\n<div mat-dialog-actions>\\n  <button mat-button tabindex=\\\"-1\\\" (click)=\\\"onClose()\\\">닫기</button>\\n</div>\\n\"","module.exports = \"<h2 mat-dialog-title>{{data.title}}</h2>\\n<div mat-dialog-content>\\n  <p>{{data.explain}}</p>\\n  <mat-form-field style=\\\"width: 100%;\\\">\\n    <input matInput [(ngModel)]=\\\"data.text\\\" [placeholder]=\\\"data.placeholder\\\" #_self (click)=\\\"_self.select()\\\">\\n  </mat-form-field>\\n</div>\\n<div mat-dialog-actions>\\n  <button mat-button tabindex=\\\"-1\\\" (click)=\\\"onClose()\\\">닫기</button>\\n  <button mat-button tabindex=\\\"-1\\\" [mat-dialog-close]=\\\"data.text\\\" cdkFocusInitial>확인</button>\\n</div>\\n\"","module.exports = \"<div id=\\\"rwCarousel\\\" class=\\\"carousel slide mdl-shadow--2dp\\\" data-ride=\\\"carousel\\\">\\n\\n  <ol class=\\\"carousel-indicators\\\">\\n    <li data-target=\\\"#rwCarousel\\\" data-slide-to=\\\"0\\\" class=\\\"active\\\"></li>\\n    <li data-target=\\\"#rwCarousel\\\" data-slide-to=\\\"1\\\"></li>\\n    <li data-target=\\\"#rwCarousel\\\" data-slide-to=\\\"2\\\"></li>\\n    <li data-target=\\\"#rwCarousel\\\" data-slide-to=\\\"3\\\"></li>\\n  </ol>\\n\\n  <div class=\\\"carousel-inner\\\">\\n    <div [class]=\\\"'carousel-item active bg-svg-' + backgrounds[0]\\\">\\n      <div class=\\\"container\\\">\\n        <div class=\\\"carousel-caption text-left\\\">\\n          <h3>{{carousel[0]?.type}}</h3>\\n          <h4>{{carousel[0]?.title}}</h4>\\n          <p>{{carousel[0]?.content}}</p>\\n          <p><a mat-flat-button [routerLink]=\\\"carousel[0]?.link\\\" role=\\\"button\\\" class=\\\"carousel-button\\\">보기</a></p>\\n        </div>\\n      </div>\\n    </div>\\n\\n    <div [class]=\\\"'carousel-item bg-svg-' + backgrounds[1]\\\">\\n      <div class=\\\"container\\\">\\n        <div class=\\\"carousel-caption\\\">\\n          <h3>{{carousel[1]?.type}}</h3>\\n          <h4>{{carousel[1]?.title}}</h4>\\n          <p>{{carousel[1]?.content}}</p>\\n          <p><a mat-flat-button [routerLink]=\\\"carousel[1]?.link\\\" role=\\\"button\\\" class=\\\"carousel-button\\\">보기</a></p>\\n        </div>\\n      </div>\\n    </div>\\n\\n    <div [class]=\\\"'carousel-item bg-svg-' + backgrounds[2]\\\">\\n      <div class=\\\"container\\\">\\n        <div class=\\\"carousel-caption text-right\\\">\\n          <h3>{{carousel[2]?.type}}</h3>\\n          <h4>{{carousel[2]?.title}}</h4>\\n          <p>{{carousel[2]?.content}}</p>\\n          <p><a mat-flat-button [routerLink]=\\\"carousel[2]?.link\\\" role=\\\"button\\\" class=\\\"carousel-button\\\">보기</a></p>\\n        </div>\\n      </div>\\n    </div>\\n\\n    <div [class]=\\\"'carousel-item bg-svg-' + backgrounds[3]\\\">\\n      <div class=\\\"container\\\">\\n        <div class=\\\"carousel-caption\\\">\\n          <h3>{{carousel[3]?.type}}</h3>\\n          <h4>{{carousel[3]?.title}}</h4>\\n          <p>{{carousel[3]?.content}}</p>\\n          <p><a mat-flat-button [routerLink]=\\\"carousel[3]?.link\\\" role=\\\"button\\\" class=\\\"carousel-button\\\">보기</a></p>\\n        </div>\\n      </div>\\n    </div>\\n  </div>\\n\\n  <a class=\\\"carousel-control-prev\\\" href=\\\"#rwCarousel\\\" role=\\\"button\\\" data-slide=\\\"prev\\\">\\n    <span class=\\\"carousel-control-prev-icon\\\" aria-hidden=\\\"true\\\"></span>\\n    <span class=\\\"sr-only\\\">Previous</span>\\n  </a>\\n  <a class=\\\"carousel-control-next\\\" href=\\\"#rwCarousel\\\" role=\\\"button\\\" data-slide=\\\"next\\\">\\n    <span class=\\\"carousel-control-next-icon\\\" aria-hidden=\\\"true\\\"></span>\\n    <span class=\\\"sr-only\\\">Next</span>\\n  </a>\\n</div>\\n\\n<section></section>\\n\\n<section class=\\\"container\\\">\\n  <table class=\\\"table table-dark\\\">\\n    <tr>\\n      <th>TVA</th>\\n      <td>{{allItems?.tvas.length}}개</td>\\n    </tr>\\n    <tr>\\n      <th>극장판</th>\\n      <td>{{allItems?.movies.length}}개</td>\\n    </tr>\\n    <tr>\\n      <th>시청 중</th>\\n      <td>{{allItems?.watchings.length}}개</td>\\n    </tr>\\n    <tr>\\n      <th>시청 예정</th>\\n      <td>{{allItems?.plans.length}}개</td>\\n    </tr>\\n  </table>\\n</section>\\n\\n<section class=\\\"container\\\">\\n  <table class=\\\"table table-secondary\\\">\\n    <tr>\\n      <td>\\n        <div style=\\\"margin: auto; width: 60%; color: black;\\\">\\n          <mat-form-field appearance=\\\"outline\\\" style=\\\"width: 80%;\\\">\\n            <mat-label>검색</mat-label>\\n            <input matInput placeholder=\\\"검색어를 입력해주세요.\\\" (keyup.enter)=\\\"search(text.value)\\\" #text>\\n          </mat-form-field>\\n          <button mat-flat-button type=\\\"button\\\" (click)=\\\"search(text.value)\\\">\\n            <mat-icon>search</mat-icon>\\n          </button>\\n        </div>\\n      </td>\\n    </tr>\\n  </table>\\n\\n  <div *ngIf=\\\"searchedText\\\">\\n    <p><b>{{searchedText}}</b> 검색결과 : {{searchedItems.tvas.length + searchedItems.movies.length + searchedItems.watchings.length + searchedItems.plans.length}}건</p>\\n\\n    <table class=\\\"table table-dark\\\">\\n      <caption>TVA ({{searchedItems.tvas.length}}건)</caption>\\n      <thead>\\n        <tr>\\n          <th>시리즈</th>\\n          <th>제목</th>\\n          <th>시즌</th>\\n          <th colspan=\\\"120\\\">제작사</th>\\n          <th>화수</th>\\n          <th>방영분기</th>\\n        </tr>\\n      </thead>\\n      <tbody>\\n        <ng-container *ngFor=\\\"let tva of searchedItems.tvas | slice: pageEvents.tva.pageIndex * pageEvents.tva.pageSize : (pageEvents.tva.pageIndex + 1) * pageEvents.tva.pageSize; index as t\\\">\\n          <tr>\\n            <td><span *ngIf=\\\"tva.seriesTitle != tva.title[tva.title.rv]\\\">{{tva.seriesTitle}}</span></td>\\n            <td>\\n              <a [routerLink]=\\\"['/tva', tva._id, tva.series, tva.sequence]\\\" class=\\\"searched-link\\\">{{tva.title[tva.title.rv]}}</a>\\n            </td>\\n            <td>{{tva.season}}</td>\\n            <td *ngFor=\\\"let studio of tva.studios\\\" [attr.colspan]=\\\"120 / tva.studios.length\\\">\\n              <span class=\\\"clickable\\\" (click)=\\\"findByStudio(studio)\\\">{{studio}}</span>\\n            </td>\\n            <td>{{tva.episodes}}</td>\\n            <td>'{{tva.premiered.year.toString().substring(2)}} - {{tva.premiered.quarter}}</td>\\n          </tr>\\n        </ng-container>\\n      </tbody>\\n    </table>\\n\\n    <mat-paginator *ngIf=\\\"searchedItems.tvas.length > pageSizeOptions[0]\\\"\\n      [length]=\\\"searchedItems.tvas.length\\\"\\n      [pageSize]=\\\"pageSize\\\"\\n      [pageSizeOptions]=\\\"pageSizeOptions\\\"\\n      (page)=\\\"pageEvents.tva = $event\\\"></mat-paginator><br><br>\\n\\n    <table class=\\\"table table-dark\\\">\\n      <caption>극장판 ({{searchedItems.movies.length}}건)</caption>\\n      <thead>\\n        <tr>\\n          <th>시리즈</th>\\n          <th>제목</th>\\n          <th>순서</th>\\n          <th colspan=\\\"120\\\">제작사</th>\\n          <th>개봉일</th>\\n        </tr>\\n      </thead>\\n      <tbody>\\n        <ng-container *ngFor=\\\"let movie of searchedItems.movies | slice: pageEvents.movie.pageIndex * pageEvents.movie.pageSize : (pageEvents.movie.pageIndex + 1) * pageEvents.movie.pageSize; index as m\\\">\\n          <tr>\\n            <td><span *ngIf=\\\"movie.seriesTitle != movie.title[movie.title.rv]\\\">{{movie.seriesTitle}}</span></td>\\n            <td>\\n              <a [routerLink]=\\\"['/movie', movie._id, movie.series, movie.sequence]\\\" class=\\\"searched-link\\\">{{movie.title[movie.title.rv]}}</a>\\n            </td>\\n            <td>{{movie.order}}</td>\\n            <td *ngFor=\\\"let studio of movie.studios\\\" [attr.colspan]=\\\"120 / movie.studios.length\\\">\\n              <span class=\\\"clickable\\\" (click)=\\\"findByStudio(studio)\\\">{{studio}}</span>\\n            </td>\\n            <td>{{movie.aired}}</td>\\n          </tr>\\n        </ng-container>\\n      </tbody>\\n    </table>\\n\\n    <mat-paginator *ngIf=\\\"searchedItems.movies.length > pageSizeOptions[0]\\\"\\n      [length]=\\\"searchedItems.movies.length\\\"\\n      [pageSize]=\\\"pageSize\\\"\\n      [pageSizeOptions]=\\\"pageSizeOptions\\\"\\n      (page)=\\\"pageEvents.movie = $event\\\"></mat-paginator><br><br>\\n\\n    <table class=\\\"table table-dark\\\">\\n      <caption>시청 중인 목록 ({{searchedItems.watchings.length}}건)</caption>\\n      <thead>\\n        <tr>\\n          <th>타입</th>\\n          <th>방영중</th>\\n          <th>제목</th>\\n          <th colspan=\\\"120\\\">제작사</th>\\n          <th>방영분기</th>\\n        </tr>\\n      </thead>\\n      <tbody>\\n        <ng-container *ngFor=\\\"let item of searchedItems.watchings | slice: pageEvents.watching.pageIndex * pageEvents.watching.pageSize : (pageEvents.watching.pageIndex + 1) * pageEvents.watching.pageSize; index as i\\\">\\n          <tr>\\n            <td *ngIf=\\\"item.type == 'tva'\\\">TVA</td>\\n            <td *ngIf=\\\"item.type == 'movie'\\\">극장판</td>\\n            <td *ngIf=\\\"item.ohli_id\\\">O</td>\\n            <td *ngIf=\\\"!item.ohli_id\\\">X</td>\\n            <td>\\n              <a [routerLink]=\\\"['/watching', item._id]\\\" class=\\\"searched-link\\\">{{item.title[item.title.rv]}}</a>\\n            </td>\\n            <td *ngFor=\\\"let studio of item.studios\\\" [attr.colspan]=\\\"120 / item.studios.length\\\">\\n              <span class=\\\"clickable\\\" (click)=\\\"findByStudio(studio)\\\">{{studio}}</span>\\n            </td>\\n            <td>'{{item.premiered.year.toString().substring(2)}} - {{item.premiered.quarter}}</td>\\n          </tr>\\n        </ng-container>\\n      </tbody>\\n    </table>\\n\\n    <mat-paginator *ngIf=\\\"searchedItems.watchings.length > pageSizeOptions[0]\\\"\\n      [length]=\\\"searchedItems.watchings.length\\\"\\n      [pageSize]=\\\"pageSize\\\"\\n      [pageSizeOptions]=\\\"pageSizeOptions\\\"\\n      (page)=\\\"pageEvents.watching = $event\\\"></mat-paginator><br><br>\\n\\n    <table class=\\\"table table-dark\\\">\\n      <caption>시청 예정 목록 ({{searchedItems.plans.length}}건)</caption>\\n      <thead>\\n        <tr>\\n          <th>타입</th>\\n          <th>제목</th>\\n          <th colspan=\\\"120\\\">제작사</th>\\n          <th>방영분기</th>\\n        </tr>\\n      </thead>\\n      <tbody>\\n        <ng-container *ngFor=\\\"let item of searchedItems.plans | slice: pageEvents.plan.pageIndex * pageEvents.plan.pageSize : (pageEvents.plan.pageIndex + 1) * pageEvents.plan.pageSize; index as i\\\">\\n          <tr>\\n            <td *ngIf=\\\"item.type == 'tva'\\\">TVA</td>\\n            <td *ngIf=\\\"item.type == 'movie'\\\">극장판</td>\\n            <td>\\n              <a [routerLink]=\\\"['/plan', item._id]\\\" class=\\\"searched-link\\\">{{item.title[item.title.rv]}}</a>\\n            </td>\\n            <td colspan=\\\"120\\\" *ngIf=\\\"item.studios.length == 0\\\">-</td>\\n            <ng-container *ngIf=\\\"item.studios.length > 0\\\">\\n              <td *ngFor=\\\"let studio of item.studios\\\" [attr.colspan]=\\\"120 / item.studios.length\\\">\\n                <span class=\\\"clickable\\\" (click)=\\\"findByStudio(studio)\\\">{{studio}}</span>\\n              </td>\\n            </ng-container>\\n            <td>{{getQuarterFromAiredDate(item.aired)}}</td>\\n          </tr>\\n        </ng-container>\\n      </tbody>\\n    </table>\\n\\n    <mat-paginator *ngIf=\\\"searchedItems.plans.length > pageSizeOptions[0]\\\"\\n      [length]=\\\"searchedItems.plans.length\\\"\\n      [pageSize]=\\\"pageSize\\\"\\n      [pageSizeOptions]=\\\"pageSizeOptions\\\"\\n      (page)=\\\"pageEvents.plan = $event\\\"></mat-paginator><br><br>\\n  </div>\\n\\n</section>\\n\"","module.exports = \"<section class=\\\"container\\\">\\n  <div class=\\\"border border-secondary info-area\\\">\\n    <h4>극장판</h4>\\n    <p>카테고리 수: {{movies?.length}}</p>\\n    <p>극장판 수: {{count()}}</p>\\n    <p>\\n      <button mat-flat-button (click)=\\\"openAll()\\\">전체 열기</button>&nbsp;\\n      <button mat-flat-button (click)=\\\"closeAll()\\\">전체 닫기</button>&nbsp;\\n      <button mat-flat-button (click)=\\\"writeMovie(); writingArea.scrollIntoView()\\\">새 항목 작성</button>\\n    </p>\\n  </div>\\n</section>\\n\\n<section class=\\\"container\\\">\\n  <mat-progress-bar *ngIf=\\\"!movies\\\" mode=\\\"indeterminate\\\"></mat-progress-bar>\\n  <table class=\\\"table table-dark\\\" *ngIf=\\\"movies\\\">\\n    <thead>\\n      <tr>\\n        <th (click)=\\\"align(0, 0)\\\">카테고리</th>\\n        <th (click)=\\\"align(0, 1)\\\">시리즈</th>\\n        <th (click)=\\\"align(0, 2)\\\">제목</th>\\n        <th>순서</th>\\n        <th (click)=\\\"align(0, 3)\\\" colspan=\\\"120\\\">제작사</th>\\n        <th (click)=\\\"align(0, 4)\\\">개봉일</th>\\n      </tr>\\n    </thead>\\n    <tbody>\\n      <ng-container *ngFor=\\\"let movie of movies; index as m\\\">\\n\\n        <ng-container *ngFor=\\\"let series of movie.series; index as i\\\">\\n          <ng-container *ngFor=\\\"let sequence of series.sequences; index as j\\\">\\n            <tr [attr.id]=\\\"movie._id\\\">\\n              <td *ngIf=\\\"movie.series.length > 1 && i == 0 && j == 0\\\" [attr.rowspan]=\\\"allElementsLength(m)\\\"\\n                class=\\\"table-category\\\" style=\\\"vertical-align: middle;\\\">{{movie.category}}</td>\\n              <td *ngIf=\\\"movie.series.length > 1 && j == 0\\\" class=\\\"table-series\\\"\\n                [attr.rowspan]=\\\"movie.series[i].sequences.length\\\" style=\\\"vertical-align: middle;\\\">{{series.title}}</td>\\n              <td *ngIf=\\\"movie.series.length == 1 && movie.series[0].sequences.length > 1 && j == 0\\\"\\n                [attr.rowspan]=\\\"movie.series[0].sequences.length\\\" colspan=\\\"2\\\" class=\\\"table-category\\\"\\n                style=\\\"vertical-align: middle; text-align: center;\\\">{{movie.category}}</td>\\n              <td *ngIf=\\\"movie.series.length == 1 && movie.series[0].sequences.length == 1\\\" colspan=\\\"2\\\"></td>\\n              <td>\\n                <span class=\\\"clickable\\\" (click)=\\\"clickMovie(m, i, j)\\\">{{sequence.title[sequence.title.rv]}}</span>\\n              </td>\\n              <td *ngIf=\\\"movie.series.length == 1 && movie.series[0].sequences.length == 1; else orderTemplate\\\"></td>\\n              <ng-template #orderTemplate>\\n                <td>{{sequence.order}}</td>\\n              </ng-template>\\n              <td *ngFor=\\\"let studio of sequence.studios\\\" [attr.colspan]=\\\"120 / sequence.studios.length\\\">\\n                <span class=\\\"clickable\\\" (click)=\\\"findByStudio(studio)\\\">{{studio}}</span>\\n              </td>\\n              <td>{{sequence.aired}}</td>\\n            </tr>\\n            <tr *ngIf=\\\"movie.opened && i == movie.series.length-1 && j == series.sequences.length-1\\\">\\n              <td colspan=\\\"125\\\" style=\\\"padding: 0px;\\\">\\n\\n                <!-- detail -->\\n                <table class=\\\"table table-dark table-hover\\\">\\n                  <tr>\\n                    <td style=\\\"text-align: center; vertical-align: middle;\\\"\\n                      [attr.rowspan]=\\\"11 + movie.series[movie.opened.series].sequences[movie.opened.sequence].studios.length\\\">\\n                      <img [src]=\\\"movie.series[movie.opened.series].sequences[movie.opened.sequence].img\\\">\\n                    </td>\\n                    <th>카테고리</th>\\n                    <td>\\n                      <span class=\\\"clickable\\\" (click)=\\\"editCategory(m)\\\">{{movie.category}}</span>\\n                    </td>\\n                  </tr>\\n                  <tr>\\n                    <th>TVA</th>\\n                    <td>\\n                      <mat-progress-bar *ngIf=\\\"!movie.opened.linked\\\" mode=\\\"indeterminate\\\"></mat-progress-bar>\\n                      <a *ngIf=\\\"movie.opened.linked\\\" class=\\\"detail-link\\\"\\n                        [routerLink]=\\\"['/tva', movie.opened.linked._id, movie.opened.linked.series, 0]\\\">\\n                        {{movie.opened.linked.title}}\\n                      </a>\\n                    </td>\\n                  </tr>\\n                  <tr>\\n                    <th>시리즈 메모</th>\\n                    <td>{{movie.series[movie.opened.series].memo}}</td>\\n                  </tr>\\n                  <tr><td></td><td></td></tr>\\n                  <tr>\\n                    <th rowspan=\\\"3\\\" style=\\\"vertical-align: middle;\\\">제목</th>\\n                    <td *ngIf=\\\"movie.series[movie.opened.series].sequences[movie.opened.sequence].title.rv == 'kor'\\\">\\n                      <b>\\n                        {{movie.series[movie.opened.series].sequences[movie.opened.sequence].title.kor}}\\n                      </b>\\n                    </td>\\n                    <td *ngIf=\\\"movie.series[movie.opened.series].sequences[movie.opened.sequence].title.rv != 'kor'\\\">\\n                      {{movie.series[movie.opened.series].sequences[movie.opened.sequence].title.kor}}\\n                    </td>\\n                  </tr>\\n                  <tr>\\n                    <td *ngIf=\\\"movie.series[movie.opened.series].sequences[movie.opened.sequence].title.rv == 'eng'\\\">\\n                      <b>\\n                        {{movie.series[movie.opened.series].sequences[movie.opened.sequence].title.eng}}\\n                      </b>\\n                    </td>\\n                    <td *ngIf=\\\"movie.series[movie.opened.series].sequences[movie.opened.sequence].title.rv != 'eng'\\\">\\n                      {{movie.series[movie.opened.series].sequences[movie.opened.sequence].title.eng}}\\n                    </td>\\n                  </tr>\\n                  <tr>\\n                    <td *ngIf=\\\"movie.series[movie.opened.series].sequences[movie.opened.sequence].title.rv == 'jpn'\\\">\\n                      <b>\\n                        {{movie.series[movie.opened.series].sequences[movie.opened.sequence].title.jpn}}\\n                      </b>\\n                    </td>\\n                    <td *ngIf=\\\"movie.series[movie.opened.series].sequences[movie.opened.sequence].title.rv != 'jpn'\\\">\\n                      {{movie.series[movie.opened.series].sequences[movie.opened.sequence].title.jpn}}\\n                    </td>\\n                  </tr>\\n                  <tr>\\n                    <th>개봉일</th>\\n                    <td>\\n                      {{movie.series[movie.opened.series].sequences[movie.opened.sequence].aired}}\\n                    </td>\\n                  </tr>\\n                  <tr *ngFor=\\\"let studio of movie.series[movie.opened.series].sequences[movie.opened.sequence].studios; index as s\\\">\\n                    <th *ngIf=\\\"s == 0\\\" style=\\\"vertical-align: middle;\\\"\\n                      [attr.rowspan]=\\\"movie.series[movie.opened.series].sequences[movie.opened.sequence].studios.length\\\">제작사</th>\\n                    <td>\\n                      <span class=\\\"clickable\\\" (click)=\\\"findByStudio(studio)\\\">{{studio}}</span>\\n                    </td>\\n                  </tr>\\n                  <tr>\\n                    <th>메모</th>\\n                    <td>{{movie.series[movie.opened.series].sequences[movie.opened.sequence].memo}}</td>\\n                  </tr>\\n                  <tr>\\n                    <th>MyAnimeList</th>\\n                    <td>\\n                      <a [href]=\\\"'https://myanimelist.net/anime/' + movie.series[movie.opened.series].sequences[movie.opened.sequence].mal_id\\\" target=\\\"_blank\\\" class=\\\"detail-link\\\">\\n                        {{movie.series[movie.opened.series].sequences[movie.opened.sequence].mal_id}}\\n                      </a>\\n                    </td>\\n                  </tr>\\n                  <tr>\\n                    <td colspan=\\\"2\\\" style=\\\"text-align: center;\\\">\\n                      <a mat-button [href]=\\\"searchService.namuwiki(movie?.opened?.linked?.title)\\\" target=\\\"_blank\\\" [matTooltip]=\\\"searchService.namuwiki_label()\\\" class=\\\"no-hover-link\\\">\\n                        <mat-icon>{{searchService.namuwiki_icon()}}</mat-icon>\\n                      </a>\\n                      <button mat-button (click)=\\\"modifyMovie(m, movie.opened.series, movie.opened.sequence)\\\" matTooltip=\\\"수정\\\">\\n                        <mat-icon>create</mat-icon>\\n                      </button>\\n                      <button mat-button (click)=\\\"removeMovie(m, movie.opened.series, movie.opened.sequence)\\\" matTooltip=\\\"삭제\\\">\\n                        <mat-icon>delete</mat-icon>\\n                      </button>\\n                    </td>\\n                  </tr>\\n                </table>\\n\\n              </td>\\n            </tr>\\n            <tr *ngIf=\\\"movie.modifying && i == movie.series.length-1 && j == series.sequences.length-1\\\">\\n              <td colspan=\\\"125\\\">\\n\\n                <!-- modifying -->\\n                <form (submit)=\\\"onModifySubmit(m, modifying.series, modifying.sequence)\\\">\\n                  <table class=\\\"table table-secondary\\\" style=\\\"width: 70%; margin: auto;\\\">\\n                    <tr>\\n                      <th style=\\\"width: 30%;\\\">검색</th>\\n                      <td>\\n                        <mat-form-field class=\\\"form-item-select\\\">\\n                          <mat-label>검색옵션</mat-label>\\n                          <mat-select #searchOption>\\n                            <mat-option value=\\\"onnada\\\">Onnada</mat-option>\\n                            <mat-option value=\\\"mal\\\">MyAnimeList</mat-option>\\n                            <mat-option value=\\\"mal_id\\\">MyAnimeList ID</mat-option>\\n                          </mat-select>\\n                        </mat-form-field>\\n                        <mat-form-field appearance=\\\"outline\\\">\\n                          <mat-label>검색어를 입력해주세요.</mat-label>\\n                          <input matInput #searchBox (keyup.enter)=\\\"searchMovie(searchOption.value, searchBox.value, m)\\\">\\n                        </mat-form-field>\\n                        <button mat-flat-button type=\\\"button\\\" (click)=\\\"searchMovie(searchOption.value, searchBox.value, m)\\\">\\n                          <mat-icon>search</mat-icon>\\n                        </button>\\n                      </td>\\n                    </tr>\\n                    <tr><td colspan=\\\"2\\\"><mat-progress-bar *ngIf=\\\"loading\\\" mode=\\\"indeterminate\\\"></mat-progress-bar></td></tr>\\n                    <tr>\\n                      <th rowspan=\\\"2\\\">TVA</th>\\n                      <td>\\n                        <mat-progress-bar *ngIf=\\\"!tvas\\\" mode=\\\"indeterminate\\\"></mat-progress-bar>\\n                        <mat-form-field *ngIf=\\\"tvas\\\" class=\\\"form-item\\\">\\n                          <mat-label>카테고리</mat-label>\\n                          <mat-select [(ngModel)]=\\\"linked.idx\\\" name=\\\"tva_category\\\">\\n                            <mat-option *ngFor=\\\"let tva of tvas; index as t\\\" [value]=\\\"t\\\">{{tva.category}}</mat-option>\\n                          </mat-select>\\n                        </mat-form-field>\\n                      </td>\\n                    </tr>\\n                    <tr>\\n                      <td>\\n                        <mat-form-field *ngIf=\\\"tvas && linked\\\" class=\\\"form-item\\\">\\n                          <mat-label>시리즈</mat-label>\\n                          <mat-select [(ngModel)]=\\\"linked.series\\\" name=\\\"tva_series\\\" class=\\\"form-item\\\">\\n                            <mat-option *ngFor=\\\"let series of tvas[linked.idx].series; index as r\\\" [value]=\\\"r\\\">{{series.title}}</mat-option>\\n                          </mat-select>\\n                        </mat-form-field>\\n                      </td>\\n                    </tr>\\n                    <tr>\\n                      <th>제목</th>\\n                      <td>\\n                        <mat-radio-group [(ngModel)]=\\\"movie.modifying.title.rv\\\" name=\\\"rv\\\">\\n                          <table class=\\\"table table-borderless inner-table\\\">\\n                            <tr>\\n                              <th><mat-radio-button value=\\\"kor\\\">KOR</mat-radio-button></th>\\n                              <td>\\n                                <mat-form-field class=\\\"form-item\\\">\\n                                  <input matInput placeholder=\\\"한국어 제목\\\" [(ngModel)]=\\\"movie.modifying.title.kor\\\" name=\\\"kor\\\">\\n                                </mat-form-field>\\n                              </td>\\n                            </tr>\\n                            <tr>\\n                              <th><mat-radio-button value=\\\"eng\\\">ENG</mat-radio-button></th>\\n                              <td>\\n                                <mat-form-field class=\\\"form-item\\\">\\n                                  <input matInput placeholder=\\\"알파벳 제목\\\" [(ngModel)]=\\\"movie.modifying.title.eng\\\" name=\\\"eng\\\">\\n                                </mat-form-field>\\n                              </td>\\n                            </tr>\\n                            <tr>\\n                              <th><mat-radio-button value=\\\"jpn\\\">JPN</mat-radio-button></th>\\n                              <td>\\n                                <mat-form-field class=\\\"form-item\\\">\\n                                  <input matInput placeholder=\\\"일어 제목\\\" [(ngModel)]=\\\"movie.modifying.title.jpn\\\" name=\\\"jpn\\\">\\n                                </mat-form-field>\\n                              </td>\\n                            </tr>\\n                          </table>\\n                        </mat-radio-group>\\n                      </td>\\n                    </tr>\\n                    <tr>\\n                      <th>순서</th>\\n                      <td>\\n                        <mat-form-field>\\n                          <input matInput type=\\\"number\\\" [(ngModel)]=\\\"movie.modifying.order\\\" name=\\\"order\\\" min=\\\"1\\\">\\n                          <span matSuffix>번째</span>\\n                        </mat-form-field>\\n                      </td>\\n                    </tr>\\n                    <tr>\\n                      <th>방영 시기</th>\\n                      <td>\\n                        <mat-form-field>\\n                          <input matInput placeholder=\\\"개봉일\\\" [(ngModel)]=\\\"movie.modifying.aired\\\" name=\\\"aired\\\">\\n                        </mat-form-field>\\n                      </td>\\n                    </tr>\\n                    <tr>\\n                      <th>제작사</th>\\n                      <td>\\n                        <mat-form-field class=\\\"form-item\\\">\\n                          <textarea matInput placeholder=\\\"제작사\\\" [(ngModel)]=\\\"modifying.studios\\\" name=\\\"studios\\\" rows=\\\"4\\\"></textarea>\\n                          <mat-hint>여러 개의 경우, 줄을 나눠서 입력해주세요.</mat-hint>\\n                        </mat-form-field>\\n                      </td>\\n                    </tr>\\n                    <tr>\\n                      <th>메모</th>\\n                      <td>\\n                        <mat-form-field class=\\\"form-item\\\">\\n                          <textarea matInput placeholder=\\\"메모\\\" [(ngModel)]=\\\"movie.modifying.memo\\\" name=\\\"memo\\\" rows=\\\"4\\\"></textarea>\\n                        </mat-form-field>\\n                      </td>\\n                    </tr>\\n                    <tr>\\n                      <td colspan=\\\"2\\\" style=\\\"text-align: center;\\\">\\n                        <button mat-button type=\\\"submit\\\">\\n                          <mat-icon>check_circle_outline</mat-icon>\\n                        </button>\\n                        <button mat-button type=\\\"button\\\" (click)=\\\"cancelModify(m)\\\">\\n                          <mat-icon>cancel</mat-icon>\\n                        </button>\\n                      </td>\\n                    </tr>\\n                  </table>\\n                </form>\\n\\n              </td>\\n            </tr>\\n\\n          </ng-container>\\n        </ng-container>\\n\\n      </ng-container>\\n    </tbody>\\n  </table>\\n</section>\\n\\n<section>\\n  <div class=\\\"container\\\" id=\\\"writing-area\\\" #writingArea>\\n    <table *ngIf=\\\"!writing\\\" class=\\\"table table-dark\\\">\\n      <tr>\\n        <td>\\n          <span class=\\\"clickable\\\" (click)=\\\"writeMovie()\\\">+ 새로 작성하기</span>\\n        </td>\\n      </tr>\\n    </table>\\n    <form (submit)=\\\"onWriteSubmit()\\\" *ngIf=\\\"writing\\\">\\n      <table class=\\\"table table-secondary\\\" style=\\\"width: 70%; margin: auto;\\\">\\n        <tr>\\n          <th style=\\\"width: 30%;\\\">검색</th>\\n          <td>\\n            <mat-form-field class=\\\"form-item-select\\\">\\n              <mat-label>검색옵션</mat-label>\\n              <mat-select #writeSearchOption>\\n                <mat-option value=\\\"onnada\\\">Onnada</mat-option>\\n                <mat-option value=\\\"mal\\\">MyAnimeList</mat-option>\\n                <mat-option value=\\\"mal_id\\\">MyAnimeList ID</mat-option>\\n              </mat-select>\\n            </mat-form-field>\\n            <mat-form-field appearance=\\\"outline\\\">\\n              <mat-label>검색어를 입력해주세요.</mat-label>\\n              <input matInput #writeSearchBox (keyup.enter)=\\\"searchMovie(writeSearchOption.value, writeSearchBox.value)\\\">\\n            </mat-form-field>\\n            <button mat-flat-button type=\\\"button\\\" (click)=\\\"searchMovie(writeSearchOption.value, writeSearchBox.value)\\\">\\n              <mat-icon>search</mat-icon>\\n            </button>\\n          </td>\\n        </tr>\\n        <tr><td colspan=\\\"2\\\"><mat-progress-bar *ngIf=\\\"loading\\\" mode=\\\"indeterminate\\\"></mat-progress-bar></td></tr>\\n        <tr>\\n          <th rowspan=\\\"2\\\">TVA</th>\\n          <td>\\n            <mat-progress-bar *ngIf=\\\"!tvas\\\" mode=\\\"indeterminate\\\"></mat-progress-bar>\\n            <mat-form-field *ngIf=\\\"tvas\\\" class=\\\"form-item\\\">\\n              <mat-label>카테고리</mat-label>\\n              <mat-select [(ngModel)]=\\\"linked.idx\\\" name=\\\"tva_category\\\">\\n                <mat-option *ngFor=\\\"let tva of tvas; index as t\\\" [value]=\\\"t\\\">{{tva.category}}</mat-option>\\n              </mat-select>\\n            </mat-form-field>\\n          </td>\\n        </tr>\\n        <tr>\\n          <td>\\n            <mat-form-field *ngIf=\\\"tvas && linked\\\" class=\\\"form-item\\\">\\n              <mat-label>시리즈</mat-label>\\n              <mat-select [(ngModel)]=\\\"linked.series\\\" name=\\\"tva_series\\\" (selectionChange)=\\\"seriesSelect()\\\">\\n                <mat-option *ngFor=\\\"let series of tvas[linked.idx].series; index as r\\\" [value]=\\\"r\\\">{{series.title}}</mat-option>\\n              </mat-select>\\n            </mat-form-field>\\n          </td>\\n        </tr>\\n        <tr>\\n          <th>시리즈 메모</th>\\n          <td>\\n            <mat-form-field class=\\\"form-item\\\">\\n              <textarea matInput placeholder=\\\"시리즈 메모\\\" [(ngModel)]=\\\"seriesMemo\\\" name=\\\"seriesMemo\\\" rows=\\\"4\\\"></textarea>\\n            </mat-form-field>\\n          </td>\\n        </tr>\\n        <tr>\\n          <th>제목</th>\\n          <td>\\n            <mat-radio-group [(ngModel)]=\\\"writingMovie.title.rv\\\" name=\\\"rv\\\">\\n              <table class=\\\"table table-borderless\\\">\\n                <tr>\\n                  <th><mat-radio-button value=\\\"kor\\\">KOR</mat-radio-button></th>\\n                  <td>\\n                    <mat-form-field class=\\\"form-item\\\">\\n                      <input matInput placeholder=\\\"한국어 제목\\\" [(ngModel)]=\\\"writingMovie.title.kor\\\" name=\\\"kor\\\">\\n                    </mat-form-field>\\n                  </td>\\n                </tr>\\n                <tr>\\n                  <th><mat-radio-button value=\\\"eng\\\">ENG</mat-radio-button></th>\\n                  <td>\\n                    <mat-form-field class=\\\"form-item\\\">\\n                      <input matInput placeholder=\\\"알파벳 제목\\\" [(ngModel)]=\\\"writingMovie.title.eng\\\" name=\\\"eng\\\">\\n                    </mat-form-field>\\n                  </td>\\n                </tr>\\n                <tr>\\n                  <th><mat-radio-button value=\\\"jpn\\\">JPN</mat-radio-button></th>\\n                  <td>\\n                    <mat-form-field class=\\\"form-item\\\">\\n                      <input matInput placeholder=\\\"일어 제목\\\" [(ngModel)]=\\\"writingMovie.title.jpn\\\" name=\\\"jpn\\\">\\n                    </mat-form-field>\\n                  </td>\\n                </tr>\\n              </table>\\n            </mat-radio-group>\\n          </td>\\n        </tr>\\n        <tr>\\n          <th>순서</th>\\n          <td>\\n            <mat-form-field>\\n              <input matInput type=\\\"number\\\" [(ngModel)]=\\\"writingMovie.order\\\" name=\\\"order\\\" min=\\\"1\\\">\\n              <span matSuffix>번째</span>\\n            </mat-form-field>\\n          </td>\\n        </tr>\\n        <tr>\\n          <th>방영 시기</th>\\n          <td>\\n            <mat-form-field>\\n              <input matInput placeholder=\\\"개봉일\\\" [(ngModel)]=\\\"writingMovie.aired\\\" name=\\\"aired\\\">\\n            </mat-form-field>\\n          </td>\\n        </tr>\\n        <tr>\\n          <th>제작사</th>\\n          <td>\\n            <mat-form-field class=\\\"form-item\\\">\\n              <textarea matInput placeholder=\\\"제작사\\\" [(ngModel)]=\\\"modifying.studios\\\" name=\\\"studios\\\" rows=\\\"4\\\"></textarea>\\n              <mat-hint>여러 개의 경우, 줄을 나눠서 입력해주세요.</mat-hint>\\n            </mat-form-field>\\n          </td>\\n        </tr>\\n        <tr>\\n          <th>메모</th>\\n          <td>\\n            <mat-form-field class=\\\"form-item\\\">\\n              <textarea matInput placeholder=\\\"메모\\\" [(ngModel)]=\\\"writingMovie.memo\\\" name=\\\"memo\\\" rows=\\\"4\\\"></textarea>\\n            </mat-form-field>\\n          </td>\\n        </tr>\\n        <tr>\\n          <td colspan=\\\"2\\\" style=\\\"text-align: center;\\\">\\n            <button mat-button type=\\\"submit\\\">\\n              <mat-icon>check_circle_outline</mat-icon>\\n            </button>\\n            <button mat-button type=\\\"button\\\" (click)=\\\"cancelWrite()\\\">\\n              <mat-icon>cancel</mat-icon>\\n            </button>\\n          </td>\\n        </tr>\\n      </table>\\n    </form>\\n  </div>\\n</section>\\n\"","module.exports = \"<section></section>\\n\\n<section class=\\\"container\\\">\\n  <h3>페이지가 존재하지 않습니다.</h3><br>\\n  <a mat-flat-button routerLink=\\\"/\\\">홈으로</a>\\n</section>\\n\\n<section class=\\\"container\\\"></section>\\n\"","module.exports = \"<section class=\\\"container\\\">\\n  <div class=\\\"border border-secondary info-area\\\">\\n    <h4>시청 예정</h4>\\n    <p>항목 수: {{plans?.length}}</p>\\n    <p>\\n      <button mat-flat-button (click)=\\\"openAll()\\\">전체 열기</button>&nbsp;\\n      <button mat-flat-button (click)=\\\"closeAll()\\\">전체 닫기</button>&nbsp;\\n      <button mat-flat-button (click)=\\\"write(); writingArea.scrollIntoView()\\\">새 항목 작성</button>\\n    </p>\\n  </div>\\n</section>\\n\\n<section class=\\\"container\\\">\\n  <mat-progress-bar *ngIf=\\\"!plans\\\" mode=\\\"indeterminate\\\"></mat-progress-bar>\\n  <table class=\\\"table table-dark\\\" *ngIf=\\\"plans\\\">\\n    <thead>\\n      <tr>\\n        <th (click)=\\\"align(0, 0)\\\">타입</th>\\n        <th (click)=\\\"align(0, 1)\\\">제목</th>\\n        <th (click)=\\\"align(0, 2)\\\" colspan=\\\"120\\\">제작사</th>\\n        <th (click)=\\\"align(0, 3)\\\">방영분기</th>\\n      </tr>\\n    </thead>\\n    <tbody>\\n      <ng-container *ngFor=\\\"let item of plans; index as i\\\">\\n\\n        <tr [attr.id]=\\\"item._id\\\">\\n          <td *ngIf=\\\"item.type == 'tva'\\\">TVA</td>\\n          <td *ngIf=\\\"item.type == 'movie'\\\">극장판</td>\\n          <td>\\n            <span class=\\\"clickable\\\" (click)=\\\"click(item._id)\\\">{{item.title[item.title.rv]}}</span>\\n          </td>\\n          <td colspan=\\\"120\\\" *ngIf=\\\"item.studios.length == 0\\\">-</td>\\n          <ng-container *ngIf=\\\"item.studios.length > 0\\\">\\n            <td *ngFor=\\\"let studio of item.studios\\\" [attr.colspan]=\\\"120 / item.studios.length\\\">\\n              <span class=\\\"clickable\\\" (click)=\\\"findByStudio(studio)\\\">{{studio}}</span>\\n            </td>\\n          </ng-container>\\n          <td>{{getQuarterFromAiredDate(item.aired)}}</td>\\n        </tr>\\n        <tr *ngIf=\\\"item.opened\\\">\\n          <td colspan=\\\"123\\\" style=\\\"padding: 0px;\\\">\\n          \\n            <!-- detail -->\\n            <table class=\\\"table table-dark\\\">\\n              <tr>\\n                <td [attr.rowspan]=\\\"8 + item.studios.length\\\" style=\\\"text-align: center; vertical-align: middle;\\\" *ngIf=\\\"item.img\\\">\\n                  <img [src]=\\\"item.img\\\">\\n                </td>\\n                <td [attr.rowspan]=\\\"8 + item.studios.length\\\" style=\\\"text-align: center; vertical-align: middle;\\\" *ngIf=\\\"!item.img\\\">\\n                  <img src=\\\"assets/no_image.jpg\\\">\\n                </td>\\n                <th>타입</th>\\n                <td *ngIf=\\\"item.type == 'tva'\\\">TVA</td>\\n                <td *ngIf=\\\"item.type == 'movie'\\\">극장판</td>\\n              </tr>\\n              <tr>\\n                <th rowspan=\\\"3\\\" style=\\\"vertical-align: middle;\\\">제목</th>\\n                <td *ngIf=\\\"item.title.rv == 'kor'\\\">\\n                  <b>\\n                    {{item.title.kor}}\\n                  </b>\\n                </td>\\n                <td *ngIf=\\\"item.title.rv != 'kor' && item.title.kor\\\">\\n                  {{item.title.kor}}\\n                </td>\\n                <td *ngIf=\\\"!item.title.kor\\\" class=\\\"no-item\\\">-</td>\\n              </tr>\\n              <tr>\\n                <td *ngIf=\\\"item.title.rv == 'eng'\\\">\\n                  <b>\\n                    {{item.title.eng}}\\n                  </b>\\n                </td>\\n                <td *ngIf=\\\"item.title.rv != 'eng' && item.title.eng\\\">\\n                  {{item.title.eng}}\\n                </td>\\n                <td *ngIf=\\\"!item.title.eng\\\" class=\\\"no-item\\\">-</td>\\n              </tr>\\n              <tr>\\n                <td *ngIf=\\\"item.title.rv == 'jpn'\\\">\\n                  <b>\\n                    {{item.title.jpn}}\\n                  </b>\\n                </td>\\n                <td *ngIf=\\\"item.title.rv != 'jpn' && item.title.jpn\\\">\\n                  {{item.title.jpn}}\\n                </td>\\n                <td *ngIf=\\\"!item.title.jpn\\\" class=\\\"no-item\\\">-</td>\\n              </tr>\\n              <tr>\\n                <th>방영 시기</th>\\n                <td>{{item.aired}}</td>\\n              </tr>\\n              <tr *ngFor=\\\"let studio of item.studios; index as j\\\">\\n                <th *ngIf=\\\"j == 0\\\" [attr.rowspan]=\\\"item.studios.length\\\" style=\\\"vertical-align: middle;\\\">제작사</th>\\n                <td>\\n                  <span class=\\\"clickable\\\" (click)=\\\"findByStudio(studio)\\\">{{studio}}</span>\\n                </td>\\n              </tr>\\n              <tr>\\n                <th>메모</th>\\n                <td>{{item.memo}}</td>\\n              </tr>\\n              <tr>\\n                <th>MyAnimeList</th>\\n                <td>\\n                  <a [href]=\\\"'https://myanimelist.net/anime/' + item.mal_id\\\" target=\\\"_blank\\\" *ngIf=\\\"item.mal_id\\\" class=\\\"detail-link\\\">\\n                    {{item.mal_id}}\\n                  </a>\\n                  <span *ngIf=\\\"!item.mal_id\\\" class=\\\"no-item\\\">-</span>\\n                </td>\\n              </tr>\\n              <tr>\\n                <td colspan=\\\"2\\\" style=\\\"text-align: center;\\\">\\n                  <a mat-button [href]=\\\"searchService.namuwiki(item.title[item.title.rv])\\\" target=\\\"_blank\\\" [matTooltip]=\\\"searchService.namuwiki_label()\\\" class=\\\"no-hover-link\\\">\\n                    <mat-icon>{{searchService.namuwiki_icon()}}</mat-icon>\\n                  </a>\\n                  <button mat-button (click)=\\\"modify(item._id)\\\" matTooltip=\\\"수정\\\">\\n                    <mat-icon>create</mat-icon>\\n                  </button>\\n                  <a mat-button [routerLink]=\\\"['/', planMap.get(item._id).type, 'data-from-plan', item._id]\\\" class=\\\"no-hover-link\\\" matTooltip=\\\"시청 완료 목록으로\\\">\\n                    <mat-icon>input</mat-icon>\\n                  </a>\\n                  <a mat-button [routerLink]=\\\"['/watching/data-from-plan', item._id]\\\" class=\\\"no-hover-link\\\" matTooltip=\\\"시청 중인 목록으로\\\">\\n                    <mat-icon>add_to_queue</mat-icon>\\n                  </a>\\n                  <button mat-button (click)=\\\"remove(item._id, i, true)\\\" matTooltip=\\\"삭제\\\">\\n                    <mat-icon>delete</mat-icon>\\n                  </button>\\n                </td>\\n              </tr>\\n            </table>\\n\\n          </td>\\n        </tr>\\n        <tr *ngIf=\\\"item.modifying\\\">\\n          <td colspan=\\\"122\\\">\\n            \\n            <!-- modifying -->\\n            <form (submit)=\\\"onModifySubmit(item._id, i, true)\\\">\\n              <table class=\\\"table table-secondary\\\" style=\\\"width: 70%; margin: auto;\\\">\\n                <tr>\\n                  <th style=\\\"width: 30%;\\\">검색</th>\\n                  <td>\\n                    <mat-form-field class=\\\"form-item-select\\\">\\n                      <mat-label>검색옵션</mat-label>\\n                      <mat-select #searchOption>\\n                        <mat-option value=\\\"onnada\\\">Onnada</mat-option>\\n                        <mat-option value=\\\"mal\\\">MyAnimeList</mat-option>\\n                        <mat-option value=\\\"mal_id\\\">MyAnimeList ID</mat-option>\\n                      </mat-select>\\n                    </mat-form-field>\\n                    <mat-form-field appearance=\\\"outline\\\">\\n                      <mat-label>검색어를 입력해주세요.</mat-label>\\n                      <input matInput #searchBox (keyup.enter)=\\\"search(searchOption.value, searchBox.value, item.modifying)\\\">\\n                    </mat-form-field>\\n                    <button mat-flat-button type=\\\"button\\\" (click)=\\\"search(searchOption.value, searchBox.value, item.modifying)\\\">\\n                      <mat-icon>search</mat-icon>\\n                    </button>\\n                  </td>\\n                </tr>\\n                <tr><td colspan=\\\"2\\\"><mat-progress-bar *ngIf=\\\"loading\\\" mode=\\\"indeterminate\\\"></mat-progress-bar></td></tr>\\n                <tr>\\n                  <th>제목</th>\\n                  <td>\\n                    <mat-radio-group [(ngModel)]=\\\"item.modifying.title.rv\\\" name=\\\"rv\\\">\\n                      <table class=\\\"table table-borderless inner-table\\\">\\n                        <tr>\\n                          <th><mat-radio-button value=\\\"kor\\\">KOR</mat-radio-button></th>\\n                          <td>\\n                            <mat-form-field class=\\\"form-item\\\">\\n                              <input matInput placeholder=\\\"한국어 제목\\\" [(ngModel)]=\\\"item.modifying.title.kor\\\" name=\\\"kor\\\">\\n                            </mat-form-field>\\n                          </td>\\n                        </tr>\\n                        <tr>\\n                          <th><mat-radio-button value=\\\"eng\\\">ENG</mat-radio-button></th>\\n                          <td>\\n                            <mat-form-field class=\\\"form-item\\\">\\n                              <input matInput placeholder=\\\"알파벳 제목\\\" [(ngModel)]=\\\"item.modifying.title.eng\\\" name=\\\"eng\\\">\\n                            </mat-form-field>\\n                          </td>\\n                        </tr>\\n                        <tr>\\n                          <th><mat-radio-button value=\\\"jpn\\\">JPN</mat-radio-button></th>\\n                          <td>\\n                            <mat-form-field class=\\\"form-item\\\">\\n                              <input matInput placeholder=\\\"일어 제목\\\" [(ngModel)]=\\\"item.modifying.title.jpn\\\" name=\\\"jpn\\\">\\n                            </mat-form-field>\\n                          </td>\\n                        </tr>\\n                      </table>\\n                    </mat-radio-group>\\n                  </td>\\n                </tr>\\n                <tr>\\n                  <th>방영 시기</th>\\n                  <td>\\n                    <mat-form-field>\\n                      <input matInput placeholder=\\\"방영 시작일\\\" [(ngModel)]=\\\"item.modifying.aired\\\" name=\\\"aired\\\">\\n                    </mat-form-field>\\n                  </td>\\n                </tr>\\n                <tr>\\n                  <th>제작사</th>\\n                  <td>\\n                    <mat-form-field class=\\\"form-item\\\">\\n                      <textarea matInput placeholder=\\\"제작사\\\" [(ngModel)]=\\\"studios\\\" name=\\\"studios\\\" rows=\\\"4\\\"></textarea>\\n                      <mat-hint>여러 개의 경우, 줄을 나눠서 입력해주세요.</mat-hint>\\n                    </mat-form-field>\\n                  </td>\\n                </tr>\\n                <tr>\\n                  <th>메모</th>\\n                  <td>\\n                    <mat-form-field class=\\\"form-item\\\">\\n                      <textarea matInput placeholder=\\\"메모\\\" [(ngModel)]=\\\"item.modifying.memo\\\" name=\\\"memo\\\" rows=\\\"4\\\"></textarea>\\n                    </mat-form-field>\\n                  </td>\\n                </tr>\\n                <tr>\\n                  <td colspan=\\\"2\\\" style=\\\"text-align: center;\\\">\\n                    <button mat-button type=\\\"submit\\\">\\n                      <mat-icon>check_circle_outline</mat-icon>\\n                    </button>\\n                    <button mat-button type=\\\"button\\\" (click)=\\\"closeEdit(item._id)\\\">\\n                      <mat-icon>cancel</mat-icon>\\n                    </button>\\n                  </td>\\n                </tr>\\n              </table>\\n            </form>\\n\\n          </td>\\n        </tr>\\n\\n      </ng-container>\\n    </tbody>\\n  </table>\\n</section>\\n\\n<section>\\n  <div class=\\\"container\\\" #writingArea>\\n    <table *ngIf=\\\"!writing\\\" class=\\\"table table-dark\\\">\\n      <tr>\\n        <td>\\n          <span class=\\\"clickable\\\" (click)=\\\"write()\\\">+ 새로 작성하기</span>\\n        </td>\\n      </tr>\\n    </table>\\n    <form (submit)=\\\"onWriteSubmit()\\\" *ngIf=\\\"writing\\\">\\n      <table class=\\\"table table-secondary\\\" style=\\\"width: 70%; margin: auto;\\\">\\n        <tr>\\n          <th style=\\\"width: 30%;\\\">검색</th>\\n          <td>\\n            <mat-form-field class=\\\"form-item-select\\\">\\n              <mat-label>검색옵션</mat-label>\\n              <mat-select #searchOption>\\n                <mat-option value=\\\"onnada\\\">Onnada</mat-option>\\n                <mat-option value=\\\"mal\\\">MyAnimeList</mat-option>\\n                <mat-option value=\\\"mal_id\\\">MyAnimeList ID</mat-option>\\n              </mat-select>\\n            </mat-form-field>\\n            <mat-form-field appearance=\\\"outline\\\">\\n              <mat-label>검색어를 입력해주세요.</mat-label>\\n              <input matInput #searchBox (keyup.enter)=\\\"search(searchOption.value, searchBox.value, writing)\\\">\\n            </mat-form-field>\\n            <button mat-flat-button type=\\\"button\\\" (click)=\\\"search(searchOption.value, searchBox.value, writing)\\\">\\n              <mat-icon>search</mat-icon>\\n            </button>\\n          </td>\\n        </tr>\\n        <tr><td colspan=\\\"2\\\"><mat-progress-bar *ngIf=\\\"loading\\\" mode=\\\"indeterminate\\\"></mat-progress-bar></td></tr>\\n        <tr>\\n          <th>타입</th>\\n          <td>\\n            <mat-form-field>\\n              <mat-label>타입</mat-label>\\n              <mat-select [(ngModel)]=\\\"writing.type\\\" name=\\\"type\\\">\\n                <mat-option value=\\\"tva\\\">TVA</mat-option>\\n                <mat-option value=\\\"movie\\\">극장판</mat-option>\\n              </mat-select>\\n            </mat-form-field>\\n          </td>\\n        </tr>\\n        <tr>\\n          <th>제목</th>\\n          <td>\\n            <mat-radio-group [(ngModel)]=\\\"writing.title.rv\\\" name=\\\"rv\\\">\\n              <table class=\\\"table table-borderless\\\">\\n                <tr>\\n                  <th><mat-radio-button value=\\\"kor\\\">KOR</mat-radio-button></th>\\n                  <td>\\n                    <mat-form-field class=\\\"form-item\\\">\\n                      <input matInput placeholder=\\\"한국어 제목\\\" [(ngModel)]=\\\"writing.title.kor\\\" name=\\\"kor\\\">\\n                    </mat-form-field>\\n                  </td>\\n                </tr>\\n                <tr>\\n                  <th><mat-radio-button value=\\\"eng\\\">ENG</mat-radio-button></th>\\n                  <td>\\n                    <mat-form-field class=\\\"form-item\\\">\\n                      <input matInput placeholder=\\\"알파벳 제목\\\" [(ngModel)]=\\\"writing.title.eng\\\" name=\\\"eng\\\">\\n                    </mat-form-field>\\n                  </td>\\n                </tr>\\n                <tr>\\n                  <th><mat-radio-button value=\\\"jpn\\\">JPN</mat-radio-button></th>\\n                  <td>\\n                    <mat-form-field class=\\\"form-item\\\">\\n                      <input matInput placeholder=\\\"일어 제목\\\" [(ngModel)]=\\\"writing.title.jpn\\\" name=\\\"jpn\\\">\\n                    </mat-form-field>\\n                  </td>\\n                </tr>\\n              </table>\\n            </mat-radio-group>\\n          </td>\\n        </tr>\\n        <tr>\\n          <th>방영 시기</th>\\n          <td>\\n            <mat-form-field>\\n              <input matInput placeholder=\\\"방영 시작일\\\" [(ngModel)]=\\\"writing.aired\\\" name=\\\"aired\\\">\\n            </mat-form-field>\\n          </td>\\n        </tr>\\n        <tr>\\n          <th>제작사</th>\\n          <td>\\n            <mat-form-field class=\\\"form-item\\\">\\n              <textarea matInput placeholder=\\\"제작사\\\" [(ngModel)]=\\\"studios\\\" name=\\\"studios\\\" rows=\\\"4\\\"></textarea>\\n              <mat-hint>여러 개의 경우, 줄을 나눠서 입력해주세요.</mat-hint>\\n            </mat-form-field>\\n          </td>\\n        </tr>\\n        <tr>\\n          <th>메모</th>\\n          <td>\\n            <mat-form-field class=\\\"form-item\\\">\\n              <textarea matInput placeholder=\\\"메모\\\" [(ngModel)]=\\\"writing.memo\\\" name=\\\"memo\\\" rows=\\\"4\\\"></textarea>\\n            </mat-form-field>\\n          </td>\\n        </tr>\\n        <tr>\\n          <td colspan=\\\"2\\\" style=\\\"text-align: center;\\\">\\n            <button mat-button type=\\\"submit\\\">\\n              <mat-icon>check_circle_outline</mat-icon>\\n            </button>\\n            <button mat-button type=\\\"button\\\" (click)=\\\"closeEdit()\\\">\\n              <mat-icon>cancel</mat-icon>\\n            </button>\\n          </td>\\n        </tr>\\n      </table>\\n    </form>\\n  </div>\\n</section>\\n\"","module.exports = \"<section class=\\\"container\\\">\\n  <div class=\\\"border border-secondary info-area\\\">\\n    <h4>TVA</h4>\\n    <p>카테고리 수: {{tvas?.length}}</p>\\n    <!-- <p>TVA 수: {{count()}}</p> -->\\n    <p>TVA 수: {{counts.sequences}}</p>\\n    <p>에피소드 수: {{counts.episodes}}</p>\\n    <p>\\n      <button mat-flat-button (click)=\\\"openAll()\\\">전체 열기</button>&nbsp;\\n      <button mat-flat-button (click)=\\\"closeAll()\\\">전체 닫기</button>&nbsp;\\n      <button mat-flat-button (click)=\\\"writeTva(); writingArea.scrollIntoView()\\\">새 항목 작성</button>\\n    </p>\\n  </div>\\n</section>\\n\\n<section class=\\\"container\\\">\\n  <mat-progress-bar *ngIf=\\\"!tvas\\\" mode=\\\"indeterminate\\\"></mat-progress-bar>\\n  <div *ngIf=\\\"tvas\\\">\\n    <table class=\\\"table table-dark\\\">\\n      <thead>\\n        <tr>\\n          <th (click)=\\\"align(0, 0)\\\">카테고리</th>\\n          <th (click)=\\\"align(0, 1)\\\">시리즈</th>\\n          <th (click)=\\\"align(0, 2)\\\">제목</th>\\n          <th>시즌</th>\\n          <th (click)=\\\"align(0, 3)\\\" colspan=\\\"120\\\">제작사</th>\\n          <th (click)=\\\"align(0, 4)\\\">화수</th>\\n          <th (click)=\\\"align(0, 5)\\\">방영분기</th>\\n        </tr>\\n      </thead>\\n      <tbody>\\n        <ng-container *ngFor=\\\"let tva of tvas; index as t\\\">\\n\\n          <ng-container *ngFor=\\\"let series of tva.series; index as i\\\">\\n            <ng-container *ngFor=\\\"let sequence of series.sequences; index as j\\\">\\n              <tr [attr.id]=\\\"tva._id\\\">\\n                <td *ngIf=\\\"tva.series.length > 1 && i == 0 && j == 0\\\" [attr.rowspan]=\\\"allElementsLength(t)\\\"\\n                  class=\\\"table-category\\\" style=\\\"vertical-align: middle;\\\">{{tva.category}}</td>\\n                <td *ngIf=\\\"tva.series.length > 1 && j == 0\\\" class=\\\"table-series\\\"\\n                  [attr.rowspan]=\\\"tva.series[i].sequences.length\\\" style=\\\"vertical-align: middle;\\\">{{series.title}}</td>\\n                <td *ngIf=\\\"tva.series.length == 1 && tva.series[0].sequences.length > 1 && j == 0\\\"\\n                  [attr.rowspan]=\\\"tva.series[0].sequences.length\\\" colspan=\\\"2\\\" class=\\\"table-category\\\"\\n                  style=\\\"vertical-align: middle; text-align: center;\\\">{{tva.category}}</td>\\n                <td *ngIf=\\\"tva.series.length == 1 && tva.series[0].sequences.length == 1\\\" colspan=\\\"2\\\"></td>\\n                <td>\\n                  <span class=\\\"clickable\\\" (click)=\\\"clickTva(t, i, j)\\\">{{sequence.title[sequence.title.rv]}}</span>\\n                </td>\\n                <td *ngIf=\\\"tva.series.length == 1 && tva.series[0].sequences.length == 1; else seasonTemplate\\\"></td>\\n                <ng-template #seasonTemplate>\\n                  <td>{{sequence.season}}</td>\\n                </ng-template>\\n                <td *ngFor=\\\"let studio of sequence.studios\\\" [attr.colspan]=\\\"120 / sequence.studios.length\\\">\\n                  <span class=\\\"clickable\\\" (click)=\\\"findByStudio(studio)\\\">{{studio}}</span>\\n                </td>\\n                <td>{{sequence.episodes}}</td>\\n                <td>'{{sequence.premiered.year.toString().substring(2)}} - {{sequence.premiered.quarter}}</td>\\n              </tr>\\n              <tr *ngIf=\\\"tva.opened && i == tva.series.length-1 && j == series.sequences.length-1\\\">\\n                <td colspan=\\\"126\\\" style=\\\"padding: 0px;\\\">\\n\\n                  <!-- detail -->\\n                  <table class=\\\"table table-dark table-hover\\\">\\n                    <tr>\\n                      <td style=\\\"text-align: center; vertical-align: middle;\\\"\\n                        [attr.rowspan]=\\\"(tva.category_movie ? 14 : 13) + tva.series[tva.opened.series].sequences[tva.opened.sequence].studios.length\\\">\\n                        <img [src]=\\\"tva.series[tva.opened.series].sequences[tva.opened.sequence].img\\\">\\n                      </td>\\n                      <th>카테고리</th>\\n                      <td>\\n                        <span class=\\\"clickable\\\" (click)=\\\"editCategory(t)\\\">{{tva.category}}</span>\\n                      </td>\\n                    </tr>\\n                    <tr *ngIf=\\\"tva.opened.linked\\\">\\n                      <th>극장판</th>\\n                      <td>\\n                        <a [routerLink]=\\\"['/movie', tva.opened.linked._id, tva.opened.linked.series, 0]\\\" class=\\\"detail-link\\\">\\n                          {{tva.opened.linked.title}}\\n                        </a>\\n                      </td>\\n                    </tr>\\n                    <tr>\\n                      <th>시리즈</th>\\n                      <td>{{tva.series[tva.opened.series].title}}</td>\\n                    </tr>\\n                    <tr>\\n                      <th>시리즈 메모</th>\\n                      <td>{{tva.series[tva.opened.series].memo}}</td>\\n                    </tr>\\n                    <tr><td></td><td></td></tr>\\n                    <tr>\\n                      <th rowspan=\\\"3\\\" style=\\\"vertical-align: middle;\\\">제목</th>\\n                      <td *ngIf=\\\"tva.series[tva.opened.series].sequences[tva.opened.sequence].title.rv == 'kor'\\\">\\n                        <b>\\n                          {{tva.series[tva.opened.series].sequences[tva.opened.sequence].title.kor}}\\n                        </b>\\n                      </td>\\n                      <td *ngIf=\\\"tva.series[tva.opened.series].sequences[tva.opened.sequence].title.rv != 'kor'\\\">\\n                        {{tva.series[tva.opened.series].sequences[tva.opened.sequence].title.kor}}\\n                      </td>\\n                    </tr>\\n                    <tr>\\n                      <td *ngIf=\\\"tva.series[tva.opened.series].sequences[tva.opened.sequence].title.rv == 'eng'\\\">\\n                        <b>\\n                          {{tva.series[tva.opened.series].sequences[tva.opened.sequence].title.eng}}\\n                        </b>\\n                      </td>\\n                      <td *ngIf=\\\"tva.series[tva.opened.series].sequences[tva.opened.sequence].title.rv != 'eng'\\\">\\n                        {{tva.series[tva.opened.series].sequences[tva.opened.sequence].title.eng}}\\n                      </td>\\n                    </tr>\\n                    <tr>\\n                      <td *ngIf=\\\"tva.series[tva.opened.series].sequences[tva.opened.sequence].title.rv == 'jpn'\\\">\\n                        <b>\\n                          {{tva.series[tva.opened.series].sequences[tva.opened.sequence].title.jpn}}\\n                        </b>\\n                      </td>\\n                      <td *ngIf=\\\"tva.series[tva.opened.series].sequences[tva.opened.sequence].title.rv != 'jpn'\\\">\\n                        {{tva.series[tva.opened.series].sequences[tva.opened.sequence].title.jpn}}\\n                      </td>\\n                    </tr>\\n                    <tr>\\n                      <th>방영 분기</th>\\n                      <td>\\n                        {{tva.series[tva.opened.series].sequences[tva.opened.sequence].premiered.year}}년 {{tva.series[tva.opened.series].sequences[tva.opened.sequence].premiered.quarter}}분기\\n                      </td>\\n                    </tr>\\n                    <tr>\\n                      <th>방영 시기</th>\\n                      <td>\\n                        {{tva.series[tva.opened.series].sequences[tva.opened.sequence].aired.start}} ~ {{tva.series[tva.opened.series].sequences[tva.opened.sequence].aired.end}}\\n                      </td>\\n                    </tr>\\n                    <tr>\\n                      <th>방영 화수</th>\\n                      <td>{{tva.series[tva.opened.series].sequences[tva.opened.sequence].episodes}}화</td>\\n                    </tr>\\n                    <tr *ngFor=\\\"let studio of tva.series[tva.opened.series].sequences[tva.opened.sequence].studios; index as s\\\">\\n                      <th *ngIf=\\\"s == 0\\\" style=\\\"vertical-align: middle;\\\"\\n                        [attr.rowspan]=\\\"tva.series[tva.opened.series].sequences[tva.opened.sequence].studios.length\\\">제작사</th>\\n                      <td>\\n                        <span class=\\\"clickable\\\" (click)=\\\"findByStudio(studio)\\\">{{studio}}</span>\\n                      </td>\\n                    </tr>\\n                    <tr>\\n                      <th>메모</th>\\n                      <td>{{tva.series[tva.opened.series].sequences[tva.opened.sequence].memo}}</td>\\n                    </tr>\\n                    <tr>\\n                      <th>MyAnimeList</th>\\n                      <td>\\n                        <a [href]=\\\"'https://myanimelist.net/anime/' + tva.series[tva.opened.series].sequences[tva.opened.sequence].mal_id\\\" target=\\\"_blank\\\" class=\\\"detail-link\\\">\\n                          {{tva.series[tva.opened.series].sequences[tva.opened.sequence].mal_id}}\\n                        </a>\\n                      </td>\\n                    </tr>\\n                    <tr>\\n                      <td colspan=\\\"2\\\" style=\\\"text-align: center;\\\">\\n                        <a mat-button [href]=\\\"searchService.namuwiki(tva.series[tva.opened.series].title)\\\" target=\\\"_blank\\\" [matTooltip]=\\\"searchService.namuwiki_label()\\\" class=\\\"no-hover-link\\\">\\n                          <mat-icon>{{searchService.namuwiki_icon()}}</mat-icon>\\n                        </a>\\n                        <button mat-button (click)=\\\"modifyTva(t, tva.opened.series, tva.opened.sequence)\\\" matTooltip=\\\"수정\\\">\\n                          <mat-icon>create</mat-icon>\\n                        </button>\\n                        <button mat-button (click)=\\\"removeTva(t, tva.opened.series, tva.opened.sequence)\\\" matTooltip=\\\"삭제\\\">\\n                          <mat-icon>delete</mat-icon>\\n                        </button>\\n                      </td>\\n                    </tr>\\n                  </table>\\n\\n                </td>\\n              </tr>\\n              <tr *ngIf=\\\"tva.modifying && i == tva.series.length-1 && j == series.sequences.length-1\\\">\\n                <td colspan=\\\"126\\\">\\n                  \\n                  <!-- modifying -->\\n                  <form (submit)=\\\"onModifySubmit(t, modifying.series, modifying.sequence)\\\">\\n                    <table class=\\\"table table-secondary\\\" style=\\\"width: 70%; margin: auto;\\\">\\n                      <tr>\\n                        <th style=\\\"width: 30%;\\\">검색</th>\\n                        <td>\\n                          <mat-form-field class=\\\"form-item-select\\\">\\n                            <mat-label>검색옵션</mat-label>\\n                            <mat-select #searchOption>\\n                              <mat-option value=\\\"onnada\\\">Onnada</mat-option>\\n                              <mat-option value=\\\"mal\\\">MyAnimeList</mat-option>\\n                              <mat-option value=\\\"mal_id\\\">MyAnimeList ID</mat-option>\\n                            </mat-select>\\n                          </mat-form-field>\\n                          <mat-form-field appearance=\\\"outline\\\">\\n                            <mat-label>검색어를 입력해주세요.</mat-label>\\n                            <input matInput #searchBox (keyup.enter)=\\\"searchTva(searchOption.value, searchBox.value, t)\\\">\\n                          </mat-form-field>\\n                          <button mat-flat-button type=\\\"button\\\" (click)=\\\"searchTva(searchOption.value, searchBox.value, t)\\\">\\n                            <mat-icon>search</mat-icon>\\n                          </button>\\n                        </td>\\n                      </tr>\\n                      <tr><td colspan=\\\"2\\\"><mat-progress-bar *ngIf=\\\"loading\\\" mode=\\\"indeterminate\\\"></mat-progress-bar></td></tr>\\n                      <tr>\\n                        <th>시리즈</th>\\n                        <td>\\n                          <mat-form-field class=\\\"form-item\\\">\\n                            <input matInput placeholder=\\\"시리즈\\\" [formControl]=\\\"seriesControl\\\" [matAutocomplete]=\\\"auto\\\" name=\\\"seriesTitle\\\">\\n                            <mat-autocomplete #auto=\\\"matAutocomplete\\\">\\n                              <mat-option *ngFor=\\\"let option of seriesFilteredOptions | async\\\" [value]=\\\"option\\\">{{option}}</mat-option>\\n                            </mat-autocomplete>\\n                          </mat-form-field>\\n                        </td>\\n                      </tr>\\n                      <tr>\\n                        <th>제목</th>\\n                        <td>\\n                          <mat-radio-group [(ngModel)]=\\\"tva.modifying.title.rv\\\" name=\\\"rv\\\">\\n                            <table class=\\\"table table-borderless inner-table\\\">\\n                              <tr>\\n                                <th><mat-radio-button value=\\\"kor\\\">KOR</mat-radio-button></th>\\n                                <td>\\n                                  <mat-form-field class=\\\"form-item\\\">\\n                                    <input matInput placeholder=\\\"한국어 제목\\\" [(ngModel)]=\\\"tva.modifying.title.kor\\\" name=\\\"kor\\\">\\n                                  </mat-form-field>\\n                                </td>\\n                              </tr>\\n                              <tr>\\n                                <th><mat-radio-button value=\\\"eng\\\">ENG</mat-radio-button></th>\\n                                <td>\\n                                  <mat-form-field class=\\\"form-item\\\">\\n                                    <input matInput placeholder=\\\"알파벳 제목\\\" [(ngModel)]=\\\"tva.modifying.title.eng\\\" name=\\\"eng\\\">\\n                                  </mat-form-field>\\n                                </td>\\n                              </tr>\\n                              <tr>\\n                                <th><mat-radio-button value=\\\"jpn\\\">JPN</mat-radio-button></th>\\n                                <td>\\n                                  <mat-form-field class=\\\"form-item\\\">\\n                                    <input matInput placeholder=\\\"일어 제목\\\" [(ngModel)]=\\\"tva.modifying.title.jpn\\\" name=\\\"jpn\\\">\\n                                  </mat-form-field>\\n                                </td>\\n                              </tr>\\n                            </table>\\n                          </mat-radio-group>\\n                        </td>\\n                      </tr>\\n                      <tr>\\n                        <th>시즌</th>\\n                        <td>\\n                          <mat-form-field>\\n                            <input matInput type=\\\"number\\\" [(ngModel)]=\\\"tva.modifying.season\\\" name=\\\"season\\\" min=\\\"1\\\">\\n                            <span matSuffix>기</span>\\n                          </mat-form-field>\\n                        </td>\\n                      </tr>\\n                      <tr>\\n                        <th rowspan=\\\"2\\\">방영 분기</th>\\n                        <td>\\n                          <mat-form-field>\\n                            <input matInput placeholder=\\\"연도\\\" type=\\\"number\\\" [(ngModel)]=\\\"tva.modifying.premiered.year\\\" name=\\\"year\\\">\\n                            <span matSuffix>년</span>\\n                          </mat-form-field>\\n                        </td>\\n                      </tr>\\n                      <tr>\\n                        <td>\\n                          <mat-form-field>\\n                            <input matInput placeholder=\\\"분기\\\" type=\\\"number\\\" [(ngModel)]=\\\"tva.modifying.premiered.quarter\\\" name=\\\"quarter\\\" max=\\\"4\\\" min=\\\"1\\\">\\n                            <span matSuffix>분기</span>\\n                          </mat-form-field>\\n                        </td>\\n                      </tr>\\n                      <tr>\\n                        <th rowspan=\\\"2\\\">방영 시기</th>\\n                        <td>\\n                          <mat-form-field>\\n                            <input matInput placeholder=\\\"방영 시작일\\\" [(ngModel)]=\\\"tva.modifying.aired.start\\\" name=\\\"aired_start\\\">\\n                          </mat-form-field>\\n                        </td>\\n                      </tr>\\n                      <tr>\\n                        <td>\\n                          <mat-form-field>\\n                            <input matInput placeholder=\\\"방영 종료일\\\" [(ngModel)]=\\\"tva.modifying.aired.end\\\" name=\\\"aired_end\\\">\\n                          </mat-form-field>\\n                        </td>\\n                      </tr>\\n                      <tr>\\n                        <th>방영 화수</th>\\n                        <td>\\n                          <mat-form-field>\\n                            <input matInput type=\\\"number\\\" [(ngModel)]=\\\"tva.modifying.episodes\\\" name=\\\"episodes\\\" min=\\\"1\\\">\\n                            <span matSuffix>화</span>\\n                          </mat-form-field>\\n                        </td>\\n                      </tr>\\n                      <tr>\\n                        <th>제작사</th>\\n                        <td>\\n                          <mat-form-field class=\\\"form-item\\\">\\n                            <textarea matInput placeholder=\\\"제작사\\\" [(ngModel)]=\\\"modifying.studios\\\" name=\\\"studios\\\" rows=\\\"4\\\"></textarea>\\n                            <mat-hint>여러 개의 경우, 줄을 나눠서 입력해주세요.</mat-hint>\\n                          </mat-form-field>\\n                        </td>\\n                      </tr>\\n                      <tr>\\n                        <th>메모</th>\\n                        <td>\\n                          <mat-form-field class=\\\"form-item\\\">\\n                            <textarea matInput placeholder=\\\"메모\\\" [(ngModel)]=\\\"tva.modifying.memo\\\" name=\\\"memo\\\" rows=\\\"4\\\"></textarea>\\n                          </mat-form-field>\\n                        </td>\\n                      </tr>\\n                      <tr>\\n                        <td colspan=\\\"2\\\" style=\\\"text-align: center;\\\">\\n                          <button mat-button type=\\\"submit\\\">\\n                            <mat-icon>check_circle_outline</mat-icon>\\n                          </button>\\n                          <button mat-button type=\\\"button\\\" (click)=\\\"cancelModify(t)\\\">\\n                            <mat-icon>cancel</mat-icon>\\n                          </button>\\n                        </td>\\n                      </tr>\\n                    </table>\\n                  </form>\\n\\n                </td>\\n              </tr>\\n            </ng-container>\\n          </ng-container>\\n\\n        </ng-container>\\n      </tbody>\\n    </table>\\n  </div>\\n\\n</section>\\n\\n<section>\\n  <div class=\\\"container\\\" id=\\\"writing-area\\\" #writingArea>\\n    <table *ngIf=\\\"!writing\\\" class=\\\"table table-dark\\\">\\n      <tr>\\n        <td>\\n          <span class=\\\"clickable\\\" (click)=\\\"writeTva()\\\">+ 새로 작성하기</span>\\n        </td>\\n      </tr>\\n    </table>\\n    <form (submit)=\\\"onWriteSubmit()\\\" *ngIf=\\\"writing\\\">\\n      <table class=\\\"table table-secondary\\\" style=\\\"width: 70%; margin: auto;\\\">\\n        <tr>\\n          <th style=\\\"width: 30%;\\\">검색</th>\\n          <td>\\n            <mat-form-field class=\\\"form-item-select\\\">\\n              <mat-label>검색옵션</mat-label>\\n              <mat-select #writeSearchOption>\\n                <mat-option value=\\\"onnada\\\">Onnada</mat-option>\\n                <mat-option value=\\\"mal\\\">MyAnimeList</mat-option>\\n                <mat-option value=\\\"mal_id\\\">MyAnimeList ID</mat-option>\\n              </mat-select>\\n            </mat-form-field>\\n            <mat-form-field appearance=\\\"outline\\\">\\n              <mat-label>검색어를 입력해주세요.</mat-label>\\n              <input matInput #writeSearchBox (keyup.enter)=\\\"searchTva(writeSearchOption.value, writeSearchBox.value)\\\">\\n            </mat-form-field>\\n            <button mat-flat-button type=\\\"button\\\" (click)=\\\"searchTva(writeSearchOption.value, writeSearchBox.value)\\\">\\n              <mat-icon>search</mat-icon>\\n            </button>\\n          </td>\\n        </tr>\\n        <tr><td colspan=\\\"2\\\"><mat-progress-bar *ngIf=\\\"loading\\\" mode=\\\"indeterminate\\\"></mat-progress-bar></td></tr>\\n        <tr>\\n          <th>카테고리</th>\\n          <td>\\n            <mat-form-field class=\\\"form-item\\\">\\n              <input matInput placeholder=\\\"카테고리\\\" [formControl]=\\\"categoryControl\\\" [matAutocomplete]=\\\"autoWriteCategory\\\" name=\\\"categoryTitle\\\">\\n              <mat-autocomplete #autoWriteCategory=\\\"matAutocomplete\\\" (optionSelected)=\\\"categoryInput($event)\\\">\\n                <mat-option *ngFor=\\\"let option of categoryFilteredOptions | async\\\" [value]=\\\"option\\\">{{option}}</mat-option>\\n              </mat-autocomplete>\\n            </mat-form-field>\\n          </td>\\n        </tr>\\n        <tr>\\n          <th>시리즈</th>\\n          <td>\\n            <mat-form-field [formGroup]=\\\"writeFormGroup\\\" class=\\\"form-item\\\">\\n              <input matInput placeholder=\\\"시리즈\\\" [matAutocomplete]=\\\"autoWriteSeries\\\" formControlName=\\\"writeSeriesControl\\\">\\n              <mat-autocomplete #autoWriteSeries=\\\"matAutocomplete\\\" (optionSelected)=\\\"seriesInput($event)\\\">\\n                <mat-option *ngFor=\\\"let option of seriesFilteredOptions | async\\\" [value]=\\\"option\\\">{{option}}</mat-option>\\n              </mat-autocomplete>\\n            </mat-form-field>\\n          </td>\\n        </tr>\\n        <tr>\\n          <th>시리즈 메모</th>\\n          <td>\\n            <mat-form-field class=\\\"form-item\\\">\\n              <textarea matInput placeholder=\\\"시리즈 메모\\\" [(ngModel)]=\\\"seriesMemo\\\" name=\\\"seriesMemo\\\" rows=\\\"4\\\"></textarea>\\n            </mat-form-field>\\n          </td>\\n        </tr>\\n        <tr>\\n          <th>제목</th>\\n          <td>\\n            <mat-radio-group [(ngModel)]=\\\"writingTva.title.rv\\\" name=\\\"rv\\\">\\n              <table class=\\\"table table-borderless\\\">\\n                <tr>\\n                  <th><mat-radio-button value=\\\"kor\\\">KOR</mat-radio-button></th>\\n                  <td>\\n                    <mat-form-field class=\\\"form-item\\\">\\n                      <input matInput placeholder=\\\"한국어 제목\\\" [(ngModel)]=\\\"writingTva.title.kor\\\" name=\\\"kor\\\">\\n                    </mat-form-field>\\n                    <button mat-icon-button (click)=\\\"toCategory('kor')\\\" type=\\\"button\\\">\\n                      <mat-icon>swap_vert</mat-icon>\\n                    </button>\\n                  </td>\\n                </tr>\\n                <tr>\\n                  <th><mat-radio-button value=\\\"eng\\\">ENG</mat-radio-button></th>\\n                  <td>\\n                    <mat-form-field class=\\\"form-item\\\">\\n                      <input matInput placeholder=\\\"알파벳 제목\\\" [(ngModel)]=\\\"writingTva.title.eng\\\" name=\\\"eng\\\">\\n                    </mat-form-field>\\n                    <button mat-icon-button (click)=\\\"toCategory('eng')\\\" type=\\\"button\\\">\\n                      <mat-icon>swap_vert</mat-icon>\\n                    </button>\\n                  </td>\\n                </tr>\\n                <tr>\\n                  <th><mat-radio-button value=\\\"jpn\\\">JPN</mat-radio-button></th>\\n                  <td>\\n                    <mat-form-field class=\\\"form-item\\\">\\n                      <input matInput placeholder=\\\"일어 제목\\\" [(ngModel)]=\\\"writingTva.title.jpn\\\" name=\\\"jpn\\\">\\n                    </mat-form-field>\\n                    <button mat-icon-button (click)=\\\"toCategory('jpn')\\\" type=\\\"button\\\">\\n                      <mat-icon>swap_vert</mat-icon>\\n                    </button>\\n                  </td>\\n                </tr>\\n              </table>\\n            </mat-radio-group>\\n          </td>\\n        </tr>\\n        <tr>\\n          <th>시즌</th>\\n          <td>\\n            <mat-form-field>\\n              <input matInput type=\\\"number\\\" [(ngModel)]=\\\"writingTva.season\\\" name=\\\"season\\\" min=\\\"1\\\">\\n              <span matSuffix>기</span>\\n            </mat-form-field>\\n          </td>\\n        </tr>\\n        <tr>\\n          <th rowspan=\\\"2\\\">방영 분기</th>\\n          <td>\\n            <mat-form-field>\\n              <input matInput placeholder=\\\"연도\\\" type=\\\"number\\\" [(ngModel)]=\\\"writingTva.premiered.year\\\" name=\\\"year\\\">\\n              <span matSuffix>년</span>\\n            </mat-form-field>\\n          </td>\\n        </tr>\\n        <tr>\\n          <td>\\n            <mat-form-field>\\n              <input matInput placeholder=\\\"분기\\\" type=\\\"number\\\" [(ngModel)]=\\\"writingTva.premiered.quarter\\\" name=\\\"quarter\\\" max=\\\"4\\\" min=\\\"1\\\">\\n              <span matSuffix>분기</span>\\n            </mat-form-field>\\n          </td>\\n        </tr>\\n        <tr>\\n          <th rowspan=\\\"2\\\">방영 시기</th>\\n          <td>\\n            <mat-form-field>\\n              <input matInput placeholder=\\\"방영 시작일\\\" [(ngModel)]=\\\"writingTva.aired.start\\\" name=\\\"aired_start\\\">\\n            </mat-form-field>\\n          </td>\\n        </tr>\\n        <tr>\\n          <td>\\n            <mat-form-field>\\n              <input matInput placeholder=\\\"방영 종료일\\\" [(ngModel)]=\\\"writingTva.aired.end\\\" name=\\\"aired_end\\\">\\n            </mat-form-field>\\n          </td>\\n        </tr>\\n        <tr>\\n          <th>방영 화수</th>\\n          <td>\\n            <mat-form-field>\\n              <input matInput type=\\\"number\\\" [(ngModel)]=\\\"writingTva.episodes\\\" name=\\\"episodes\\\" min=\\\"1\\\">\\n              <span matSuffix>화</span>\\n            </mat-form-field>\\n          </td>\\n        </tr>\\n        <tr>\\n          <th>제작사</th>\\n          <td>\\n            <mat-form-field class=\\\"form-item\\\">\\n              <textarea matInput placeholder=\\\"제작사\\\" [(ngModel)]=\\\"modifying.studios\\\" name=\\\"studios\\\" rows=\\\"4\\\"></textarea>\\n              <mat-hint>여러 개의 경우, 줄을 나눠서 입력해주세요.</mat-hint>\\n            </mat-form-field>\\n          </td>\\n        </tr>\\n        <tr>\\n          <th>메모</th>\\n          <td>\\n            <mat-form-field class=\\\"form-item\\\">\\n              <textarea matInput placeholder=\\\"메모\\\" [(ngModel)]=\\\"writingTva.memo\\\" name=\\\"memo\\\" rows=\\\"4\\\"></textarea>\\n            </mat-form-field>\\n          </td>\\n        </tr>\\n        <tr>\\n          <td colspan=\\\"2\\\" style=\\\"text-align: center;\\\">\\n            <button mat-button type=\\\"submit\\\">\\n              <mat-icon>check_circle_outline</mat-icon>\\n            </button>\\n            <button mat-button type=\\\"button\\\" (click)=\\\"cancelWrite()\\\">\\n              <mat-icon>cancel</mat-icon>\\n            </button>\\n          </td>\\n        </tr>\\n      </table>\\n    </form>\\n  </div>\\n</section>\\n\"","module.exports = \"<section class=\\\"container\\\">\\n  <div class=\\\"border border-secondary info-area\\\">\\n    <h4>시청 중</h4>\\n    <p>방영 중인 항목 수: {{airings?.length}}</p>\\n    <p>완결작 수: {{ends?.length}}</p>\\n    <p class=\\\"info-button-area\\\">\\n      <button mat-flat-button (click)=\\\"openAll()\\\">전체 열기</button>&nbsp;\\n      <button mat-flat-button (click)=\\\"closeAll()\\\">전체 닫기</button>&nbsp;\\n      <button mat-flat-button (click)=\\\"write(); writingArea.scrollIntoView()\\\">새 항목 작성</button>&nbsp;\\n      <button mat-flat-button (click)=\\\"openTodayAiring()\\\" title=\\\"오늘이라고 적었긴 한데 그냥 24시간 이내 방영작임\\\">오늘 방영작 펼치기</button>\\n    </p>\\n  </div>\\n</section>\\n\\n<section class=\\\"container\\\">\\n  <mat-progress-bar *ngIf=\\\"!airings\\\" mode=\\\"indeterminate\\\"></mat-progress-bar>\\n  <table class=\\\"table table-dark\\\" *ngIf=\\\"airings\\\">\\n    <caption>방영 중인 목록</caption>\\n    <thead>\\n      <tr>\\n        <th (click)=\\\"align(0, 0)\\\">타입</th>\\n        <th (click)=\\\"align(0, 1)\\\">제목</th>\\n        <th (click)=\\\"align(0, 2)\\\" colspan=\\\"120\\\">제작사</th>\\n        <th (click)=\\\"align(0, 4)\\\">방영요일</th>\\n      </tr>\\n    </thead>\\n    <tbody>\\n      <ng-container *ngFor=\\\"let item of airings; index as i\\\">\\n\\n        <tr [attr.id]=\\\"item._id\\\">\\n          <td *ngIf=\\\"item.type == 'tva'\\\">TVA</td>\\n          <td *ngIf=\\\"item.type == 'movie'\\\">극장판</td>\\n          <td>\\n            <span class=\\\"clickable\\\" (click)=\\\"click(item._id)\\\">{{item.title[item.title.rv]}}</span>\\n          </td>\\n          <td *ngFor=\\\"let studio of item.studios\\\" [attr.colspan]=\\\"120 / item.studios.length\\\">\\n            <span class=\\\"clickable\\\" (click)=\\\"findByStudio(studio)\\\">{{studio}}</span>\\n          </td>\\n          <td>{{getDay(item.broadcast)}}</td>\\n        </tr>\\n        <tr *ngIf=\\\"item.opened\\\">\\n          <td colspan=\\\"123\\\" style=\\\"padding: 0px;\\\">\\n          \\n            <!-- detail -->\\n            <table class=\\\"table table-dark\\\">\\n              <tr>\\n                <td [attr.rowspan]=\\\"8 + item.studios.length\\\" style=\\\"text-align: center; vertical-align: middle;\\\">\\n                  <img [src]=\\\"item.img\\\">\\n                </td>\\n                <th>타입</th>\\n                <td *ngIf=\\\"item.type == 'tva'\\\">TVA</td>\\n                <td *ngIf=\\\"item.type == 'movie'\\\">극장판</td>\\n              </tr>\\n              <tr>\\n                <th rowspan=\\\"3\\\" style=\\\"vertical-align: middle;\\\">제목</th>\\n                <td *ngIf=\\\"item.title.rv == 'kor'\\\">\\n                  <b>\\n                    {{item.title.kor}}\\n                  </b>\\n                </td>\\n                <td *ngIf=\\\"item.title.rv != 'kor'\\\">\\n                  {{item.title.kor}}\\n                </td>\\n              </tr>\\n              <tr>\\n                <td *ngIf=\\\"item.title.rv == 'eng'\\\">\\n                  <b>\\n                    {{item.title.eng}}\\n                  </b>\\n                </td>\\n                <td *ngIf=\\\"item.title.rv != 'eng'\\\">\\n                  {{item.title.eng}}\\n                </td>\\n              </tr>\\n              <tr>\\n                <td *ngIf=\\\"item.title.rv == 'jpn'\\\">\\n                  <b>\\n                    {{item.title.jpn}}\\n                  </b>\\n                </td>\\n                <td *ngIf=\\\"item.title.rv != 'jpn'\\\">\\n                  {{item.title.jpn}}\\n                </td>\\n              </tr>\\n              <tr>\\n                <th>방영 분기</th>\\n                <td>{{item.premiered.year}}년 {{item.premiered.quarter}}분기</td>\\n              </tr>\\n              <tr>\\n                <th>방영 시기</th>\\n                <td>{{item.aired}}</td>\\n              </tr>\\n              <tr *ngFor=\\\"let studio of item.studios; index as j\\\">\\n                <th *ngIf=\\\"j == 0\\\" [attr.rowspan]=\\\"item.studios.length\\\" style=\\\"vertical-align: middle;\\\">제작사</th>\\n                <td>\\n                  <span class=\\\"clickable\\\" (click)=\\\"findByStudio(studio)\\\">{{studio}}</span>\\n                </td>\\n              </tr>\\n              <tr>\\n                <th>메모</th>\\n                <td>{{item.memo}}</td>\\n              </tr>\\n              <tr>\\n                <th>MyAnimeList</th>\\n                <td>\\n                  <a [href]=\\\"'https://myanimelist.net/anime/' + item.mal_id\\\" target=\\\"_blank\\\" class=\\\"detail-link\\\">\\n                    {{item.mal_id}}\\n                  </a>\\n                </td>\\n              </tr>\\n              <tr><td colspan=\\\"3\\\">오늘: {{getToday()}}</td></tr>\\n              <tr>\\n                <td colspan=\\\"3\\\" class=\\\"inner-table-section\\\" *ngIf=\\\"!item.videos || (item.videos && item.videos.length > 0)\\\">\\n\\n                  <mat-progress-bar *ngIf=\\\"!item.videos\\\" mode=\\\"indeterminate\\\"></mat-progress-bar>\\n                  <table class=\\\"table table-dark\\\" *ngIf=\\\"item.videos\\\">\\n                    <tr *ngFor=\\\"let video of item.videos\\\">\\n                      <td>{{getDate(video.date)}}</td>\\n                      <td>{{video.name}}</td>\\n                      <td>{{getSize(video.size)}}</td>\\n                      <td>\\n                        <a [href]=\\\"video.magnet | safeUrl\\\" class=\\\"download-link\\\">▶</a>\\n                      </td>\\n                    </tr>\\n                  </table>\\n\\n                </td>\\n              </tr>\\n\\n              <tr *ngIf=\\\"!item.videos || (item.videos && item.videos.length > 0)\\\"><td colspan=\\\"3\\\"></td></tr>\\n\\n              <tr>\\n                <td colspan=\\\"3\\\" class=\\\"inner-table-section\\\" *ngIf=\\\"!item.ohys || (item.ohys && item.ohys.length > 0)\\\">\\n\\n                  <mat-progress-bar *ngIf=\\\"!item.ohys\\\" mode=\\\"indeterminate\\\"></mat-progress-bar>\\n                  <table class=\\\"table table-dark\\\" *ngIf=\\\"item.ohys\\\">\\n                    <tr *ngFor=\\\"let ohys of item.ohys\\\">\\n                      <td>{{ohys.name}}</td>\\n                      <td>\\n                        <a [href]=\\\"ohys.link\\\" class=\\\"download-link\\\" download>▶</a>\\n                      </td>\\n                    </tr>\\n                  </table>\\n\\n                </td>\\n              </tr>\\n\\n              <tr *ngIf=\\\"!item.ohys || (item.ohys && item.ohys.length > 0)\\\"><td colspan=\\\"3\\\"></td></tr>\\n\\n              <tr>\\n                <td colspan=\\\"3\\\" class=\\\"inner-table-section\\\" *ngIf=\\\"!item.subtitles || (item.subtitles && item.subtitles.length > 0)\\\">\\n\\n                  <mat-progress-bar *ngIf=\\\"!item.subtitles\\\" mode=\\\"indeterminate\\\"></mat-progress-bar>\\n                  <table class=\\\"table table-dark\\\" *ngIf=\\\"item.subtitles\\\">\\n                    <tr *ngFor=\\\"let subtitle of item.subtitles\\\">\\n                      <td>{{getDate(subtitle.date)}}</td>\\n                      <td>제{{subtitle.episode}}화</td>\\n                      <td>{{subtitle.by}}</td>\\n                      <td><a class=\\\"download-link\\\" [href]=\\\"subtitle.link\\\" target=\\\"_blank\\\">페이지로 이동</a></td>\\n                    </tr>\\n                  </table>\\n\\n                </td>\\n              </tr>\\n              <tr>\\n                <td colspan=\\\"3\\\" style=\\\"text-align: center;\\\">\\n                  <a mat-button [href]=\\\"searchService.namuwiki(item.title[item.title.rv])\\\" target=\\\"_blank\\\" [matTooltip]=\\\"searchService.namuwiki_label()\\\" class=\\\"no-hover-link\\\">\\n                    <mat-icon>{{searchService.namuwiki_icon()}}</mat-icon>\\n                  </a>\\n                  <button mat-button (click)=\\\"modify(item._id)\\\" matTooltip=\\\"수정\\\">\\n                    <mat-icon>create</mat-icon>\\n                  </button>\\n                  <a mat-button class=\\\"no-hover-link\\\" [routerLink]=\\\"['/', watchingMap.get(item._id).type, 'data-from-watching', item._id]\\\" matTooltip=\\\"시청 완료\\\">\\n                    <mat-icon>input</mat-icon>\\n                  </a>\\n                  <button mat-button (click)=\\\"remove(item._id, i, true)\\\" matTooltip=\\\"삭제\\\">\\n                    <mat-icon>delete</mat-icon>\\n                  </button>\\n                </td>\\n              </tr>\\n            </table>\\n\\n          </td>\\n        </tr>\\n        <tr *ngIf=\\\"item.modifying\\\">\\n          <td colspan=\\\"122\\\">\\n            \\n            <!-- modifying -->\\n            <form (submit)=\\\"onModifySubmit(item._id, i, true)\\\">\\n              <table class=\\\"table table-secondary\\\" style=\\\"width: 70%; margin: auto;\\\">\\n                <tr>\\n                  <th style=\\\"width: 30%;\\\">검색</th>\\n                  <td>\\n                    <mat-form-field class=\\\"form-item-select\\\">\\n                      <mat-label>검색옵션</mat-label>\\n                      <mat-select #searchOption>\\n                        <mat-option value=\\\"onnada\\\">Onnada</mat-option>\\n                        <mat-option value=\\\"mal\\\">MyAnimeList</mat-option>\\n                        <mat-option value=\\\"mal_id\\\">MyAnimeList ID</mat-option>\\n                      </mat-select>\\n                    </mat-form-field>\\n                    <mat-form-field appearance=\\\"outline\\\">\\n                      <mat-label>검색어를 입력해주세요.</mat-label>\\n                      <input matInput #searchBox (keyup.enter)=\\\"search(searchOption.value, searchBox.value, item.modifying)\\\">\\n                    </mat-form-field>\\n                    <button mat-flat-button type=\\\"button\\\" (click)=\\\"search(searchOption.value, searchBox.value, item.modifying)\\\">\\n                      <mat-icon>search</mat-icon>\\n                    </button>\\n                  </td>\\n                </tr>\\n                <tr><td colspan=\\\"2\\\"><mat-progress-bar *ngIf=\\\"loading\\\" mode=\\\"indeterminate\\\"></mat-progress-bar></td></tr>\\n                <tr>\\n                  <th>제목</th>\\n                  <td>\\n                    <mat-radio-group [(ngModel)]=\\\"item.modifying.title.rv\\\" name=\\\"rv\\\">\\n                      <table class=\\\"table table-borderless inner-table\\\">\\n                        <tr>\\n                          <th><mat-radio-button value=\\\"kor\\\">KOR</mat-radio-button></th>\\n                          <td>\\n                            <mat-form-field class=\\\"form-item\\\">\\n                              <input matInput placeholder=\\\"한국어 제목\\\" [(ngModel)]=\\\"item.modifying.title.kor\\\" name=\\\"kor\\\">\\n                            </mat-form-field>\\n                          </td>\\n                        </tr>\\n                        <tr>\\n                          <th><mat-radio-button value=\\\"eng\\\">ENG</mat-radio-button></th>\\n                          <td>\\n                            <mat-form-field class=\\\"form-item\\\">\\n                              <input matInput placeholder=\\\"알파벳 제목\\\" [(ngModel)]=\\\"item.modifying.title.eng\\\" name=\\\"eng\\\">\\n                            </mat-form-field>\\n                          </td>\\n                        </tr>\\n                        <tr>\\n                          <th><mat-radio-button value=\\\"jpn\\\">JPN</mat-radio-button></th>\\n                          <td>\\n                            <mat-form-field class=\\\"form-item\\\">\\n                              <input matInput placeholder=\\\"일어 제목\\\" [(ngModel)]=\\\"item.modifying.title.jpn\\\" name=\\\"jpn\\\">\\n                            </mat-form-field>\\n                          </td>\\n                        </tr>\\n                      </table>\\n                    </mat-radio-group>\\n                  </td>\\n                </tr>\\n                <tr>\\n                  <th rowspan=\\\"2\\\">방영 분기</th>\\n                  <td>\\n                    <mat-form-field>\\n                      <input matInput placeholder=\\\"연도\\\" type=\\\"number\\\" [(ngModel)]=\\\"item.modifying.premiered.year\\\" name=\\\"year\\\">\\n                      <span matSuffix>년</span>\\n                    </mat-form-field>\\n                  </td>\\n                </tr>\\n                <tr>\\n                  <td>\\n                    <mat-form-field>\\n                      <input matInput placeholder=\\\"분기\\\" type=\\\"number\\\" [(ngModel)]=\\\"item.modifying.premiered.quarter\\\" name=\\\"quarter\\\" max=\\\"4\\\" min=\\\"1\\\">\\n                      <span matSuffix>분기</span>\\n                    </mat-form-field>\\n                  </td>\\n                </tr>\\n                <tr>\\n                  <th>방영 시기</th>\\n                  <td>\\n                    <mat-form-field>\\n                      <input matInput placeholder=\\\"방영 시작일\\\" [(ngModel)]=\\\"item.modifying.aired\\\" name=\\\"aired\\\">\\n                    </mat-form-field>\\n                  </td>\\n                </tr>\\n                <tr>\\n                  <th>제작사</th>\\n                  <td>\\n                    <mat-form-field class=\\\"form-item\\\">\\n                      <textarea matInput placeholder=\\\"제작사\\\" [(ngModel)]=\\\"studios\\\" name=\\\"studios\\\" rows=\\\"4\\\"></textarea>\\n                      <mat-hint>여러 개의 경우, 줄을 나눠서 입력해주세요.</mat-hint>\\n                    </mat-form-field>\\n                  </td>\\n                </tr>\\n                <tr>\\n                  <th>메모</th>\\n                  <td>\\n                    <mat-form-field class=\\\"form-item\\\">\\n                      <textarea matInput placeholder=\\\"메모\\\" [(ngModel)]=\\\"item.modifying.memo\\\" name=\\\"memo\\\" rows=\\\"4\\\"></textarea>\\n                    </mat-form-field>\\n                  </td>\\n                </tr>\\n                <tr>\\n                  <td colspan=\\\"2\\\" style=\\\"text-align: center;\\\">\\n                    <button mat-button type=\\\"submit\\\">\\n                      <mat-icon>check_circle_outline</mat-icon>\\n                    </button>\\n                    <button mat-button type=\\\"button\\\" (click)=\\\"closeEdit(item._id)\\\">\\n                      <mat-icon>cancel</mat-icon>\\n                    </button>\\n                  </td>\\n                </tr>\\n              </table>\\n            </form>\\n\\n          </td>\\n        </tr>\\n\\n      </ng-container>\\n    </tbody>\\n  </table>\\n</section>\\n\\n<section class=\\\"container\\\">\\n  <table class=\\\"table table-dark\\\" *ngIf=\\\"ends\\\">\\n    <caption>완결작 목록</caption>\\n    <thead>\\n      <tr>\\n        <th (click)=\\\"align(1, 0)\\\">타입</th>\\n        <th (click)=\\\"align(1, 1)\\\">제목</th>\\n        <th (click)=\\\"align(1, 2)\\\" colspan=\\\"120\\\">제작사</th>\\n        <th (click)=\\\"align(1, 3)\\\">방영분기</th>\\n      </tr>\\n    </thead>\\n    <tbody>\\n      <ng-container *ngFor=\\\"let item of ends; index as i\\\">\\n\\n        <tr [attr.id]=\\\"item._id\\\">\\n          <td *ngIf=\\\"item.type == 'tva'\\\">TVA</td>\\n          <td *ngIf=\\\"item.type == 'movie'\\\">극장판</td>\\n          <td>\\n            <span class=\\\"clickable\\\" (click)=\\\"click(item._id)\\\">{{item.title[item.title.rv]}}</span>\\n          </td>\\n          <td *ngFor=\\\"let studio of item.studios\\\" [attr.colspan]=\\\"120 / item.studios.length\\\">\\n            <span class=\\\"clickable\\\" (click)=\\\"findByStudio(studio)\\\">{{studio}}</span>\\n          </td>\\n          <td>'{{item.premiered.year.toString().substring(2)}} - {{item.premiered.quarter}}</td>\\n        </tr>\\n        <tr *ngIf=\\\"item.opened\\\">\\n          <td colspan=\\\"123\\\" style=\\\"padding: 0px;\\\">\\n          \\n            <!-- detail -->\\n            <table class=\\\"table table-dark table-hover\\\">\\n              <tr>\\n                <td [attr.rowspan]=\\\"10 + item.studios.length\\\" style=\\\"text-align: center; vertical-align: middle;\\\">\\n                  <img [src]=\\\"item.img\\\">\\n                </td>\\n                <th>타입</th>\\n                <td *ngIf=\\\"item.type == 'tva'\\\">TVA</td>\\n                <td *ngIf=\\\"item.type == 'movie'\\\">극장판</td>\\n              </tr>\\n              <tr>\\n                <th rowspan=\\\"3\\\" style=\\\"vertical-align: middle;\\\">제목</th>\\n                <td *ngIf=\\\"item.title.rv == 'kor'\\\">\\n                  <b>\\n                    {{item.title.kor}}\\n                  </b>\\n                </td>\\n                <td *ngIf=\\\"item.title.rv != 'kor'\\\">\\n                  {{item.title.kor}}\\n                </td>\\n              </tr>\\n              <tr>\\n                <td *ngIf=\\\"item.title.rv == 'eng'\\\">\\n                  <b>\\n                    {{item.title.eng}}\\n                  </b>\\n                </td>\\n                <td *ngIf=\\\"item.title.rv != 'eng'\\\">\\n                  {{item.title.eng}}\\n                </td>\\n              </tr>\\n              <tr>\\n                <td *ngIf=\\\"item.title.rv == 'jpn'\\\">\\n                  <b>\\n                    {{item.title.jpn}}\\n                  </b>\\n                </td>\\n                <td *ngIf=\\\"item.title.rv != 'jpn'\\\">\\n                  {{item.title.jpn}}\\n                </td>\\n              </tr>\\n              <tr>\\n                <th>방영 분기</th>\\n                <td>{{item.premiered.year}}년 {{item.premiered.quarter}}분기</td>\\n              </tr>\\n              <tr>\\n                <th>방영 시기</th>\\n                <td>{{item.aired}}</td>\\n              </tr>\\n              <tr *ngFor=\\\"let studio of item.studios; index as j\\\">\\n                <th *ngIf=\\\"j == 0\\\" [attr.rowspan]=\\\"item.studios.length\\\" style=\\\"vertical-align: middle;\\\">제작사</th>\\n                <td>\\n                  <span class=\\\"clickable\\\" (click)=\\\"findByStudio(studio)\\\">{{studio}}</span>\\n                </td>\\n              </tr>\\n              <tr>\\n                <th>메모</th>\\n                <td>{{item.memo}}</td>\\n              </tr>\\n              <tr>\\n                <th>MyAnimeList</th>\\n                <td>\\n                  <a [href]=\\\"'https://myanimelist.net/anime/' + item.mal_id\\\" target=\\\"_blank\\\" class=\\\"detail-link\\\">\\n                    {{item.mal_id}}\\n                  </a>\\n                </td>\\n              </tr>\\n              <tr>\\n                <td colspan=\\\"2\\\" style=\\\"text-align: center;\\\">\\n                  <a mat-button [href]=\\\"searchService.namuwiki(item.title[item.title.rv])\\\" target=\\\"_blank\\\" [matTooltip]=\\\"searchService.namuwiki_label()\\\" class=\\\"no-hover-link\\\">\\n                    <mat-icon>{{searchService.namuwiki_icon()}}</mat-icon>\\n                  </a>\\n                  <button mat-button (click)=\\\"findVideosAndSubtitles(item)\\\" matTooltip=\\\"영상/자막 찾기\\\">\\n                    <mat-icon>find_in_page</mat-icon>\\n                  </button>\\n                  <button mat-button (click)=\\\"modify(item._id)\\\" matTooltip=\\\"수정\\\">\\n                    <mat-icon>create</mat-icon>\\n                  </button>\\n                  <a mat-button class=\\\"no-hover-link\\\" [routerLink]=\\\"['/', watchingMap.get(item._id).type, 'data-from-watching', item._id]\\\" matTooltip=\\\"시청 완료\\\">\\n                    <mat-icon>input</mat-icon>\\n                  </a>\\n                  <button mat-button (click)=\\\"remove(item._id, i, false)\\\" matTooltip=\\\"삭제\\\">\\n                    <mat-icon>delete</mat-icon>\\n                  </button>\\n                </td>\\n              </tr>\\n            </table>\\n\\n          </td>\\n        </tr>\\n        <tr *ngIf=\\\"item.modifying\\\">\\n          <td colspan=\\\"122\\\">\\n            \\n            <!-- modifying -->\\n            <form (submit)=\\\"onModifySubmit(item._id, i, false)\\\">\\n              <table class=\\\"table table-secondary\\\" style=\\\"width: 70%; margin: auto;\\\">\\n                <tr>\\n                  <th style=\\\"width: 30%;\\\">검색</th>\\n                  <td>\\n                    <mat-form-field class=\\\"form-item-select\\\">\\n                      <mat-label>검색옵션</mat-label>\\n                      <mat-select #searchOption>\\n                        <mat-option value=\\\"onnada\\\">Onnada</mat-option>\\n                        <mat-option value=\\\"mal\\\">MyAnimeList</mat-option>\\n                        <mat-option value=\\\"mal_id\\\">MyAnimeList ID</mat-option>\\n                      </mat-select>\\n                    </mat-form-field>\\n                    <mat-form-field appearance=\\\"outline\\\">\\n                      <mat-label>검색어를 입력해주세요.</mat-label>\\n                      <input matInput #searchBox (keyup.enter)=\\\"search(searchOption.value, searchBox.value, item.modifying)\\\">\\n                    </mat-form-field>\\n                    <button mat-flat-button type=\\\"button\\\" (click)=\\\"search(searchOption.value, searchBox.value, item.modifying)\\\">\\n                      <mat-icon>search</mat-icon>\\n                    </button>\\n                  </td>\\n                </tr>\\n                <tr><td colspan=\\\"2\\\"><mat-progress-bar *ngIf=\\\"loading\\\" mode=\\\"indeterminate\\\"></mat-progress-bar></td></tr>\\n                <tr>\\n                  <th>타입</th>\\n                  <td>\\n                    <mat-form-field class=\\\"form-item\\\">\\n                      <mat-label>타입</mat-label>\\n                      <mat-select [(ngModel)]=\\\"item.modifying.type\\\" name=\\\"type\\\">\\n                        <mat-option value=\\\"tva\\\">TVA</mat-option>\\n                        <mat-option value=\\\"movie\\\">극장판</mat-option>\\n                      </mat-select>\\n                    </mat-form-field>\\n                  </td>\\n                </tr>\\n                <tr>\\n                  <th>제목</th>\\n                  <td>\\n                    <mat-radio-group [(ngModel)]=\\\"item.modifying.title.rv\\\" name=\\\"rv\\\">\\n                      <table class=\\\"table table-borderless inner-table\\\">\\n                        <tr>\\n                          <th><mat-radio-button value=\\\"kor\\\">KOR</mat-radio-button></th>\\n                          <td>\\n                            <mat-form-field class=\\\"form-item\\\">\\n                              <input matInput placeholder=\\\"한국어 제목\\\" [(ngModel)]=\\\"item.modifying.title.kor\\\" name=\\\"kor\\\">\\n                            </mat-form-field>\\n                          </td>\\n                        </tr>\\n                        <tr>\\n                          <th><mat-radio-button value=\\\"eng\\\">ENG</mat-radio-button></th>\\n                          <td>\\n                            <mat-form-field class=\\\"form-item\\\">\\n                              <input matInput placeholder=\\\"알파벳 제목\\\" [(ngModel)]=\\\"item.modifying.title.eng\\\" name=\\\"eng\\\">\\n                            </mat-form-field>\\n                          </td>\\n                        </tr>\\n                        <tr>\\n                          <th><mat-radio-button value=\\\"jpn\\\">JPN</mat-radio-button></th>\\n                          <td>\\n                            <mat-form-field class=\\\"form-item\\\">\\n                              <input matInput placeholder=\\\"일어 제목\\\" [(ngModel)]=\\\"item.modifying.title.jpn\\\" name=\\\"jpn\\\">\\n                            </mat-form-field>\\n                          </td>\\n                        </tr>\\n                      </table>\\n                    </mat-radio-group>\\n                  </td>\\n                </tr>\\n                <tr>\\n                  <th rowspan=\\\"2\\\">방영 분기</th>\\n                  <td>\\n                    <mat-form-field>\\n                      <input matInput placeholder=\\\"연도\\\" type=\\\"number\\\" [(ngModel)]=\\\"item.modifying.premiered.year\\\" name=\\\"year\\\">\\n                      <span matSuffix>년</span>\\n                    </mat-form-field>\\n                  </td>\\n                </tr>\\n                <tr>\\n                  <td>\\n                    <mat-form-field>\\n                      <input matInput placeholder=\\\"분기\\\" type=\\\"number\\\" [(ngModel)]=\\\"item.modifying.premiered.quarter\\\" name=\\\"quarter\\\" max=\\\"4\\\" min=\\\"1\\\">\\n                      <span matSuffix>분기</span>\\n                    </mat-form-field>\\n                  </td>\\n                </tr>\\n                <tr>\\n                  <th>방영 시기</th>\\n                  <td>\\n                    <mat-form-field>\\n                      <input matInput placeholder=\\\"방영 시작일\\\" [(ngModel)]=\\\"item.modifying.aired\\\" name=\\\"aired\\\">\\n                    </mat-form-field>\\n                  </td>\\n                </tr>\\n                <tr>\\n                  <th>제작사</th>\\n                  <td>\\n                    <mat-form-field class=\\\"form-item\\\">\\n                      <textarea matInput placeholder=\\\"제작사\\\" [(ngModel)]=\\\"studios\\\" name=\\\"studios\\\" rows=\\\"4\\\"></textarea>\\n                      <mat-hint>여러 개의 경우, 줄을 나눠서 입력해주세요.</mat-hint>\\n                    </mat-form-field>\\n                  </td>\\n                </tr>\\n                <tr>\\n                  <th>메모</th>\\n                  <td>\\n                    <mat-form-field class=\\\"form-item\\\">\\n                      <textarea matInput placeholder=\\\"메모\\\" [(ngModel)]=\\\"item.modifying.memo\\\" name=\\\"memo\\\" rows=\\\"4\\\"></textarea>\\n                    </mat-form-field>\\n                  </td>\\n                </tr>\\n                <tr>\\n                  <td colspan=\\\"2\\\" style=\\\"text-align: center;\\\">\\n                    <button mat-button type=\\\"submit\\\">\\n                      <mat-icon>check_circle_outline</mat-icon>\\n                    </button>\\n                    <button mat-button type=\\\"button\\\" (click)=\\\"closeEdit(item._id)\\\">\\n                      <mat-icon>cancel</mat-icon>\\n                    </button>\\n                  </td>\\n                </tr>\\n              </table>\\n            </form>\\n\\n          </td>\\n        </tr>\\n\\n      </ng-container>\\n    </tbody>\\n  </table>\\n</section>\\n\\n<section>\\n  <div class=\\\"container\\\" id=\\\"writing-area\\\" #writingArea>\\n    <table *ngIf=\\\"!writing\\\" class=\\\"table table-dark\\\">\\n      <tr>\\n        <td>\\n          <span class=\\\"clickable\\\" (click)=\\\"write()\\\">+ 새로 작성하기</span>\\n        </td>\\n      </tr>\\n    </table>\\n    <form (submit)=\\\"onWriteSubmit()\\\" *ngIf=\\\"writing\\\">\\n      <table class=\\\"table table-secondary\\\" style=\\\"width: 70%; margin: auto;\\\">\\n        <tr>\\n          <th style=\\\"width: 30%;\\\">검색</th>\\n          <td>\\n            <mat-form-field class=\\\"form-item-select\\\">\\n              <mat-label>검색옵션</mat-label>\\n              <mat-select #searchOption>\\n                <mat-option value=\\\"onnada\\\">Onnada</mat-option>\\n                <mat-option value=\\\"mal\\\">MyAnimeList</mat-option>\\n                <mat-option value=\\\"mal_id\\\">MyAnimeList ID</mat-option>\\n              </mat-select>\\n            </mat-form-field>\\n            <mat-form-field appearance=\\\"outline\\\">\\n              <mat-label>검색어를 입력해주세요.</mat-label>\\n              <input matInput #searchBox (keyup.enter)=\\\"search(searchOption.value, searchBox.value, writing)\\\">\\n            </mat-form-field>\\n            <button mat-flat-button type=\\\"button\\\" (click)=\\\"search(searchOption.value, searchBox.value, writing)\\\">\\n              <mat-icon>search</mat-icon>\\n            </button>\\n          </td>\\n        </tr>\\n        <tr><td colspan=\\\"2\\\"><mat-progress-bar *ngIf=\\\"loading\\\" mode=\\\"indeterminate\\\"></mat-progress-bar></td></tr>\\n        <tr>\\n          <th>타입</th>\\n          <td>\\n            <mat-form-field>\\n              <mat-label>타입</mat-label>\\n              <mat-select [(ngModel)]=\\\"writing.type\\\" name=\\\"type\\\">\\n                <mat-option value=\\\"tva\\\">TVA</mat-option>\\n                <mat-option value=\\\"movie\\\">극장판</mat-option>\\n              </mat-select>\\n            </mat-form-field>\\n          </td>\\n        </tr>\\n        <tr>\\n          <th>제목</th>\\n          <td>\\n            <mat-radio-group [(ngModel)]=\\\"writing.title.rv\\\" name=\\\"rv\\\">\\n              <table class=\\\"table table-borderless\\\">\\n                <tr>\\n                  <th><mat-radio-button value=\\\"kor\\\">KOR</mat-radio-button></th>\\n                  <td>\\n                    <mat-form-field class=\\\"form-item\\\">\\n                      <input matInput placeholder=\\\"한국어 제목\\\" [(ngModel)]=\\\"writing.title.kor\\\" name=\\\"kor\\\">\\n                    </mat-form-field>\\n                  </td>\\n                </tr>\\n                <tr>\\n                  <th><mat-radio-button value=\\\"eng\\\">ENG</mat-radio-button></th>\\n                  <td>\\n                    <mat-form-field class=\\\"form-item\\\">\\n                      <input matInput placeholder=\\\"알파벳 제목\\\" [(ngModel)]=\\\"writing.title.eng\\\" name=\\\"eng\\\">\\n                    </mat-form-field>\\n                  </td>\\n                </tr>\\n                <tr>\\n                  <th><mat-radio-button value=\\\"jpn\\\">JPN</mat-radio-button></th>\\n                  <td>\\n                    <mat-form-field class=\\\"form-item\\\">\\n                      <input matInput placeholder=\\\"일어 제목\\\" [(ngModel)]=\\\"writing.title.jpn\\\" name=\\\"jpn\\\">\\n                    </mat-form-field>\\n                  </td>\\n                </tr>\\n              </table>\\n            </mat-radio-group>\\n          </td>\\n        </tr>\\n        <tr>\\n          <th>OHLI</th>\\n          <td>\\n            <mat-form-field>\\n              <input matInput placeholder=\\\"OHLI ID\\\" type=\\\"number\\\" [(ngModel)]=\\\"writing.ohli_id\\\" name=\\\"ohli_id\\\">\\n            </mat-form-field>\\n            <button mat-flat-button type=\\\"button\\\" (click)=\\\"findOhliId(writing)\\\">\\n              <mat-icon>search</mat-icon>\\n            </button>&nbsp;\\n            <button mat-flat-button type=\\\"button\\\" (click)=\\\"removeOhliId(writing)\\\">\\n              <mat-icon>clear</mat-icon>\\n            </button>\\n          </td>\\n        </tr>\\n        <tr>\\n          <th rowspan=\\\"2\\\">방영 분기</th>\\n          <td>\\n            <mat-form-field>\\n              <input matInput placeholder=\\\"연도\\\" type=\\\"number\\\" [(ngModel)]=\\\"writing.premiered.year\\\" name=\\\"year\\\">\\n              <span matSuffix>년</span>\\n            </mat-form-field>\\n          </td>\\n        </tr>\\n        <tr>\\n          <td>\\n            <mat-form-field>\\n              <input matInput placeholder=\\\"분기\\\" type=\\\"number\\\" [(ngModel)]=\\\"writing.premiered.quarter\\\" name=\\\"quarter\\\" max=\\\"4\\\" min=\\\"1\\\">\\n              <span matSuffix>분기</span>\\n            </mat-form-field>\\n          </td>\\n        </tr>\\n        <tr>\\n          <th>방영 시기</th>\\n          <td>\\n            <mat-form-field>\\n              <input matInput placeholder=\\\"방영 시작일\\\" [(ngModel)]=\\\"writing.aired\\\" name=\\\"aired\\\">\\n            </mat-form-field>\\n          </td>\\n        </tr>\\n        <tr>\\n          <th>제작사</th>\\n          <td>\\n            <mat-form-field class=\\\"form-item\\\">\\n              <textarea matInput placeholder=\\\"제작사\\\" [(ngModel)]=\\\"studios\\\" name=\\\"studios\\\" rows=\\\"4\\\"></textarea>\\n              <mat-hint>여러 개의 경우, 줄을 나눠서 입력해주세요.</mat-hint>\\n            </mat-form-field>\\n          </td>\\n        </tr>\\n        <tr>\\n          <th>메모</th>\\n          <td>\\n            <mat-form-field class=\\\"form-item\\\">\\n              <textarea matInput placeholder=\\\"메모\\\" [(ngModel)]=\\\"writing.memo\\\" name=\\\"memo\\\" rows=\\\"4\\\"></textarea>\\n            </mat-form-field>\\n          </td>\\n        </tr>\\n        <tr>\\n          <td colspan=\\\"2\\\" style=\\\"text-align: center;\\\">\\n            <button mat-button type=\\\"submit\\\">\\n              <mat-icon>check_circle_outline</mat-icon>\\n            </button>\\n            <button mat-button type=\\\"button\\\" (click)=\\\"closeEdit()\\\">\\n              <mat-icon>cancel</mat-icon>\\n            </button>\\n          </td>\\n        </tr>\\n      </table>\\n    </form>\\n  </div>\\n</section>\\n\"","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nconst routes: Routes = [];\n\n@NgModule({\n  imports: [RouterModule.forRoot(routes)],\n  exports: [RouterModule]\n})\nexport class AppRoutingModule { }\n","module.exports = \".mat-tabs:hover {\\r\\n    text-decoration: none;\\r\\n    color: rgb(119, 119, 120);\\r\\n}\\r\\n\\r\\nfooter * {\\r\\n    /* color: rgb(0, 175, 219); */\\r\\n    /* color: white; */\\r\\n    color: rgb(235, 235, 235);\\r\\n}\\r\\n\\r\\n#scroll-button {\\r\\n    background-color: rgb(248, 249, 250);\\r\\n    position: fixed;\\r\\n    width: 40px;\\r\\n    height: 60px;\\r\\n    right: 5px;\\r\\n    bottom: 5px;\\r\\n    text-align: center;\\r\\n    border-radius: 5px;\\r\\n}\\r\\n\\r\\n#scroll-button td:hover {\\r\\n    border-radius: 5px;\\r\\n    background-color: rgb(186, 196, 205);\\r\\n}\\r\\n\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvYXBwLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxxQkFBcUI7SUFDckIseUJBQXlCO0FBQzdCOztBQUVBO0lBQ0ksNkJBQTZCO0lBQzdCLGtCQUFrQjtJQUNsQix5QkFBeUI7QUFDN0I7O0FBRUE7SUFDSSxvQ0FBb0M7SUFDcEMsZUFBZTtJQUNmLFdBQVc7SUFDWCxZQUFZO0lBQ1osVUFBVTtJQUNWLFdBQVc7SUFDWCxrQkFBa0I7SUFDbEIsa0JBQWtCO0FBQ3RCOztBQUVBO0lBQ0ksa0JBQWtCO0lBQ2xCLG9DQUFvQztBQUN4QyIsImZpbGUiOiJzcmMvYXBwL2FwcC5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLm1hdC10YWJzOmhvdmVyIHtcclxuICAgIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcclxuICAgIGNvbG9yOiByZ2IoMTE5LCAxMTksIDEyMCk7XHJcbn1cclxuXHJcbmZvb3RlciAqIHtcclxuICAgIC8qIGNvbG9yOiByZ2IoMCwgMTc1LCAyMTkpOyAqL1xyXG4gICAgLyogY29sb3I6IHdoaXRlOyAqL1xyXG4gICAgY29sb3I6IHJnYigyMzUsIDIzNSwgMjM1KTtcclxufVxyXG5cclxuI3Njcm9sbC1idXR0b24ge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogcmdiKDI0OCwgMjQ5LCAyNTApO1xyXG4gICAgcG9zaXRpb246IGZpeGVkO1xyXG4gICAgd2lkdGg6IDQwcHg7XHJcbiAgICBoZWlnaHQ6IDYwcHg7XHJcbiAgICByaWdodDogNXB4O1xyXG4gICAgYm90dG9tOiA1cHg7XHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICBib3JkZXItcmFkaXVzOiA1cHg7XHJcbn1cclxuXHJcbiNzY3JvbGwtYnV0dG9uIHRkOmhvdmVyIHtcclxuICAgIGJvcmRlci1yYWRpdXM6IDVweDtcclxuICAgIGJhY2tncm91bmQtY29sb3I6IHJnYigxODYsIDE5NiwgMjA1KTtcclxufVxyXG4iXX0= */\"","import { Component } from '@angular/core';\nimport { Router } from '@angular/router';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent {\n  navLinks = [\n    { path: '/tva', label: 'TVA' },\n    { path: '/movie', label: '극장판' },\n    { path: '/watching', label: '시청 중인 목록' },\n    { path: '/plan', label: '시청 예정 목록' }\n  ];\n\n  constructor(\n    public router: Router\n  ) { }\n\n  scrollUp() {\n    window.scroll(0, 0);\n  }\n\n  scrollDown() {\n    let footer = document.getElementById('footer');\n    footer.scrollIntoView();\n  }\n\n}\n","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\n\nimport { AppRoutingModule } from './app-routing.module';\nimport { AppComponent } from './app.component';\nimport { Routes, RouterModule } from '@angular/router';\nimport { HttpClientModule, HTTP_INTERCEPTORS } from '@angular/common/http';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { NgFlashMessagesModule } from 'ng-flash-messages';\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\nimport { ContentTypeInterceptor } from 'src/app/interceptors/content.type.interceptor';\nimport { SafeHtml } from 'src/app/pipes/safe.html';\nimport { SafeUrl } from 'src/app/pipes/safe.url';\n\nimport {\n  MatButtonModule,\n  MatFormFieldModule,\n  MatInputModule,\n  MatTabsModule,\n  MatProgressSpinnerModule,\n  MatProgressBarModule,\n  MatIconModule,\n  MatRadioModule,\n  MatSelectModule,\n  MatDialogModule,\n  MatAutocompleteModule,\n  MatCheckboxModule,\n  MatPaginatorModule,\n  MatTooltipModule,\n  MAT_TOOLTIP_DEFAULT_OPTIONS,\n  MatTooltipDefaultOptions\n} from '@angular/material';\n\nimport { TvaService } from './services/tva.service';\nimport { MovieService } from './services/movie.service';\nimport { WatchingService } from './services/watching.service';\nimport { SearchService } from './services/search.service';\nimport { PlanService } from './services/plan.service';\n\nimport { HomeComponent } from './components/home/home.component';\nimport { TvaComponent } from './components/tva/tva.component';\nimport { MovieComponent } from './components/movie/movie.component';\nimport { WatchingComponent } from './components/watching/watching.component';\nimport { PlanComponent } from './components/plan/plan.component';\nimport { NoPageComponent } from './components/no-page/no-page.component';\n\nimport { SearchDialogComponent } from './components/dialogs/search-dialog/search-dialog.component';\nimport { OhliDialogComponent } from './components/dialogs/ohli-dialog/ohli-dialog.component';\nimport { TextFieldDialogComponent } from './components/dialogs/text-field-dialog/text-field-dialog.component';\nimport { StudioDialogComponent } from './components/dialogs/studio-dialog/studio-dialog.component';\nimport { EndedDialogComponent } from './components/dialogs/ended-dialog/ended-dialog.component';\n\nconst appRoutes: Routes = [\n  { path: '', component: HomeComponent },\n  { path: 'tva', component: TvaComponent },\n  { path: 'tva/:_id/:series/:sequence', component: TvaComponent },\n  { path: 'tva/:from/:incompletion_id', component: TvaComponent },\n  { path: 'movie', component: MovieComponent },\n  { path: 'movie/:_id/:series/:sequence', component: MovieComponent },\n  { path: 'movie/:from/:incompletion_id', component: MovieComponent },\n  { path: 'watching', component: WatchingComponent },\n  { path: 'watching/:_id', component: WatchingComponent },\n  { path: 'watching/data-from-plan/:plan_id', component: WatchingComponent },\n  { path: 'plan', component: PlanComponent },\n  { path: 'plan/:_id', component: PlanComponent },\n  { path: 'no-page', component: NoPageComponent },\n  { path: '**', component: NoPageComponent }\n];\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    SafeHtml,\n    SafeUrl,\n    HomeComponent,\n    TvaComponent,\n    MovieComponent,\n    WatchingComponent,\n    PlanComponent,\n    SearchDialogComponent,\n    OhliDialogComponent,\n    TextFieldDialogComponent,\n    NoPageComponent,\n    StudioDialogComponent,\n    EndedDialogComponent\n  ],\n  imports: [\n    BrowserModule,\n    AppRoutingModule,\n    RouterModule.forRoot(appRoutes, {\n      useHash: true,\n      onSameUrlNavigation: 'reload',\n      scrollPositionRestoration: 'enabled'\n    }),\n    HttpClientModule,\n    NgFlashMessagesModule.forRoot(),\n    FormsModule,\n    BrowserAnimationsModule,\n    ReactiveFormsModule,\n\n    MatButtonModule,\n    MatFormFieldModule,\n    MatInputModule,\n    MatTabsModule,\n    MatProgressSpinnerModule,\n    MatProgressBarModule,\n    MatIconModule,\n    MatRadioModule,\n    MatSelectModule,\n    MatDialogModule,\n    MatAutocompleteModule,\n    MatCheckboxModule,\n    MatPaginatorModule,\n    MatTooltipModule\n  ],\n  exports: [\n    RouterModule,\n    MatButtonModule,\n    MatFormFieldModule,\n    MatInputModule,\n    MatTabsModule,\n    MatProgressSpinnerModule,\n    MatProgressBarModule,\n    MatIconModule,\n    MatRadioModule,\n    MatSelectModule,\n    MatDialogModule,\n    MatAutocompleteModule,\n    MatCheckboxModule,\n    MatPaginatorModule,\n    MatTooltipModule\n  ],\n  entryComponents: [\n    SearchDialogComponent,\n    OhliDialogComponent,\n    TextFieldDialogComponent,\n    StudioDialogComponent,\n    EndedDialogComponent\n  ],\n  providers: [\n    { provide: HTTP_INTERCEPTORS, useClass: ContentTypeInterceptor, multi: true },\n    // { provide: MAT_DIALOG_DEFAULT_OPTIONS, useValue: {hasBackdrop: false} },\n    { provide: MAT_TOOLTIP_DEFAULT_OPTIONS, useValue: {position: 'above'} },\n    TvaService,\n    MovieService,\n    WatchingService,\n    SearchService,\n    PlanService\n  ],\n  bootstrap: [ AppComponent ]\n})\nexport class AppModule { }\n","module.exports = \"a {\\r\\n    color: black;\\r\\n}\\r\\n\\r\\na:hover {\\r\\n    color: black;\\r\\n}\\r\\n\\r\\n.btn-link:hover {\\r\\n    text-decoration: none;\\r\\n}\\r\\n\\r\\n.btn-link:focus {\\r\\n    text-decoration: none;\\r\\n}\\r\\n\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50cy9kaWFsb2dzL2VuZGVkLWRpYWxvZy9lbmRlZC1kaWFsb2cuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLFlBQVk7QUFDaEI7O0FBRUE7SUFDSSxZQUFZO0FBQ2hCOztBQUVBO0lBQ0kscUJBQXFCO0FBQ3pCOztBQUVBO0lBQ0kscUJBQXFCO0FBQ3pCIiwiZmlsZSI6InNyYy9hcHAvY29tcG9uZW50cy9kaWFsb2dzL2VuZGVkLWRpYWxvZy9lbmRlZC1kaWFsb2cuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbImEge1xyXG4gICAgY29sb3I6IGJsYWNrO1xyXG59XHJcblxyXG5hOmhvdmVyIHtcclxuICAgIGNvbG9yOiBibGFjaztcclxufVxyXG5cclxuLmJ0bi1saW5rOmhvdmVyIHtcclxuICAgIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcclxufVxyXG5cclxuLmJ0bi1saW5rOmZvY3VzIHtcclxuICAgIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcclxufVxyXG4iXX0= */\"","import { Component, Inject } from '@angular/core';\nimport { MatDialogRef, MAT_DIALOG_DATA, MatDialog } from '@angular/material';\nimport { ItemTitle } from 'src/app/models/item';\nimport { WatchingVideo, Ohys, WatchingSubtitle } from 'src/app/models/watching';\nimport { WatchingService } from 'src/app/services/watching.service';\nimport { SearchService } from 'src/app/services/search.service';\nimport { SendingOhliProtocol } from 'src/app/models/ohli';\nimport { OhliDialogComponent } from '../ohli-dialog/ohli-dialog.component';\n\n@Component({\n  selector: 'app-ended-dialog',\n  templateUrl: './ended-dialog.component.html',\n  styleUrls: ['./ended-dialog.component.css']\n})\nexport class EndedDialogComponent {\n  year: number = undefined;\n\n  videos: WatchingVideo[] = undefined;\n  ohyses: Ohys[] = undefined;\n  subtitles: WatchingSubtitle[] = [];\n\n  constructor(\n    public dialogRef: MatDialogRef<EndedDialogComponent>,\n    @Inject(MAT_DIALOG_DATA) public data: SendingEndedProtocol,\n    private watchingService: WatchingService,\n    private searchService: SearchService,\n    private dialog: MatDialog,\n  ) {\n    const title = this.data.title.eng;\n    this.searchService.mal(this.data.mal_id).subscribe(malSearched => {\n      if ( !malSearched.aired.end ) {\n        alert('종영 연도를 찾을 수 없습니다.\\n현재 방영 중인 항목일 수도 있습니다.');\n        this.year = new Date().getFullYear();\n        this.videos = this.ohyses = [];\n      } else {\n        this.year = new Date(malSearched.aired.end).getFullYear()\n        this.watchingService.getVideos(title).subscribe(videos => this.videos = videos);\n        this.watchingService.getOhys(title).subscribe(ohyses => this.ohyses = ohyses);\n      }\n    });\n  }\n\n  findOhliId() {\n    const data: SendingOhliProtocol = {title: this.data.title.kor, ohli_id: null, year: this.year};\n    const dialogRef = this.dialog.open(OhliDialogComponent, {data: data});\n    dialogRef.afterClosed().subscribe(() => {\n      if ( data.ohli_id ) {\n        this.subtitles = undefined;\n        this.watchingService.getSubtitles(data.ohli_id).subscribe(subtitles => this.subtitles = subtitles);\n      }\n    });\n  }\n\n  getDate(dateString: string): string {\n    let today = new Date();\n    let given = new Date(dateString);\n    if ( given.getMonth() == today.getMonth() && given.getDate() == today.getDate() )\n      return dateString.substring(11);\n    else\n      return `${given.getMonth()+1}/${given.getDate()}`;\n  }\n\n  getSize(size: number): string {\n    const dividedSize = Math.round(size / 1024 / 1024);\n    if ( dividedSize >= 1000 ) return (dividedSize / 1024).toFixed(2) + 'GB';\n    else return dividedSize + 'MB';\n  }\n\n  onClose() {\n    this.dialogRef.close();\n  }\n\n}\n\ninterface SendingEndedProtocol {\n  title: ItemTitle,\n  mal_id: number,\n  img: string\n}\n","module.exports = \"img {\\r\\n    max-width: 250px;\\r\\n}\\r\\n\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50cy9kaWFsb2dzL29obGktZGlhbG9nL29obGktZGlhbG9nLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxnQkFBZ0I7QUFDcEIiLCJmaWxlIjoic3JjL2FwcC9jb21wb25lbnRzL2RpYWxvZ3Mvb2hsaS1kaWFsb2cvb2hsaS1kaWFsb2cuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbImltZyB7XHJcbiAgICBtYXgtd2lkdGg6IDI1MHB4O1xyXG59XHJcbiJdfQ== */\"","import { Component, Inject } from '@angular/core';\nimport { Ohli, SendingOhliProtocol } from 'src/app/models/ohli';\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material';\nimport { WatchingService } from 'src/app/services/watching.service';\n\n@Component({\n  selector: 'app-ohli-dialog',\n  templateUrl: './ohli-dialog.component.html',\n  styleUrls: ['./ohli-dialog.component.css']\n})\nexport class OhliDialogComponent {\n  loading: boolean = true;\n  ohlis: Ohli[];\n\n  constructor(\n    public dialogRef: MatDialogRef<OhliDialogComponent>,\n    @Inject(MAT_DIALOG_DATA) public data: SendingOhliProtocol,\n    private watchingService: WatchingService\n  ) {\n    if ( this.data.year ) {\n      this.watchingService.ohli(this.data.title, this.data.year).subscribe(ohlis => {\n        this.ohlis = ohlis;\n        this.loading = false;\n      });\n    } else {\n      this.watchingService.ohli(this.data.title).subscribe(ohlis => {\n        this.ohlis = ohlis;\n        this.loading = false;\n      });\n    }\n  }\n\n  onClose() {\n    this.dialogRef.close();\n  }\n\n  selectItem(i: number) {\n    this.data.ohli_id = this.ohlis[i].id;\n    this.onClose();\n  }\n\n}\n","module.exports = \"a {\\r\\n    color: black;\\r\\n}\\r\\n\\r\\na:hover {\\r\\n    color: black;\\r\\n}\\r\\n\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50cy9kaWFsb2dzL3NlYXJjaC1kaWFsb2cvc2VhcmNoLWRpYWxvZy5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksWUFBWTtBQUNoQjs7QUFFQTtJQUNJLFlBQVk7QUFDaEIiLCJmaWxlIjoic3JjL2FwcC9jb21wb25lbnRzL2RpYWxvZ3Mvc2VhcmNoLWRpYWxvZy9zZWFyY2gtZGlhbG9nLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyJhIHtcclxuICAgIGNvbG9yOiBibGFjaztcclxufVxyXG5cclxuYTpob3ZlciB7XHJcbiAgICBjb2xvcjogYmxhY2s7XHJcbn1cclxuIl19 */\"","import { Component, Inject } from '@angular/core';\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material';\nimport { SendingSearchedProtocol, Searched } from 'src/app/models/searched';\nimport { SearchService } from 'src/app/services/search.service';\n\n@Component({\n  selector: 'app-search-dialog',\n  templateUrl: './search-dialog.component.html',\n  styleUrls: ['./search-dialog.component.css']\n})\nexport class SearchDialogComponent {\n  loading: boolean = true;\n  searches: Searched[];\n\n  constructor(\n    public dialogRef: MatDialogRef<SearchDialogComponent>,\n    @Inject(MAT_DIALOG_DATA) public data: SendingSearchedProtocol,\n    private searchService: SearchService\n  ) {\n    this.searchService.search(this.data.search.text, this.data.search.option).subscribe(searches => {\n      this.searches = searches;\n      this.loading = false;\n    }, err => {\n      alert('검색 도중 에러가 발생하였습니다.\\n' + err.name + '\\n' + err.statusText);\n    });\n  }\n\n  onClose() {\n    this.dialogRef.close();\n  }\n\n  selectItem(i: number) {\n    this.loading = true;\n    this.searchService.mal(this.searches[i].mal_id).subscribe(malSearched => {\n      this.data.malSearched = malSearched;\n      if ( this.searches[i].title_kor ) this.data.malSearched.title.kor = this.searches[i].title_kor;\n      this.loading = false;\n      this.onClose();\n    });\n  }\n\n  getLink(): string {\n    if ( this.data.search.option == 'onnada' ) return 'http://onnada.com/search/?t=anime&q=' + encodeURI(this.data.search.text);\n    else 'https://myanimelist.net/search/all?q=' + encodeURI(this.data.search.text);\n  }\n\n}\n","module.exports = \"a {\\r\\n    color: black;\\r\\n    text-decoration: none;\\r\\n}\\r\\n\\r\\na:hover {\\r\\n    text-decoration: underline;\\r\\n}\\r\\n\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50cy9kaWFsb2dzL3N0dWRpby1kaWFsb2cvc3R1ZGlvLWRpYWxvZy5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksWUFBWTtJQUNaLHFCQUFxQjtBQUN6Qjs7QUFFQTtJQUNJLDBCQUEwQjtBQUM5QiIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudHMvZGlhbG9ncy9zdHVkaW8tZGlhbG9nL3N0dWRpby1kaWFsb2cuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbImEge1xyXG4gICAgY29sb3I6IGJsYWNrO1xyXG4gICAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xyXG59XHJcblxyXG5hOmhvdmVyIHtcclxuICAgIHRleHQtZGVjb3JhdGlvbjogdW5kZXJsaW5lO1xyXG59XHJcbiJdfQ== */\"","import { Component, Inject } from '@angular/core';\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material';\nimport { ItemTitle } from 'src/app/models/item';\nimport { TvaService } from 'src/app/services/tva.service';\nimport { MovieService } from 'src/app/services/movie.service';\nimport { Tva, TvaSequence } from 'src/app/models/tva';\nimport { Movie, MovieSequence } from 'src/app/models/movie';\nimport { Completion } from 'src/app/models/completion';\n\n@Component({\n  selector: 'app-studio-dialog',\n  templateUrl: './studio-dialog.component.html',\n  styleUrls: ['./studio-dialog.component.css']\n})\nexport class StudioDialogComponent {\n  private static source: {\n    tvas: Tva[],\n    movies: Movie[]\n  } = undefined;\n  tvas: StudioDialogItem[] = [];\n  movies: StudioDialogItem[] = [];\n\n  constructor(\n    public dialogRef: MatDialogRef<StudioDialogComponent>,\n    @Inject(MAT_DIALOG_DATA) public data: string,\n    private tvaService: TvaService,\n    private movieService: MovieService\n  ) {\n    if ( !StudioDialogComponent.source ) {\n      StudioDialogComponent.source = {tvas: undefined, movies: undefined};\n      this.tvaService.getTvas().subscribe(tvas => this.itemsToArray(StudioDialogComponent.source.tvas = tvas, this.tvas, true));\n      this.movieService.getMovies().subscribe(movies => this.itemsToArray(StudioDialogComponent.source.movies = movies, this.movies));\n    } else {\n      this.itemsToArray(StudioDialogComponent.source.tvas, this.tvas, true);\n      this.itemsToArray(StudioDialogComponent.source.movies, this.movies);\n      this.tvaService.getTvas().subscribe(tvas => StudioDialogComponent.source.tvas = tvas);\n      this.movieService.getMovies().subscribe(movies => StudioDialogComponent.source.movies = movies);\n    }\n  }\n\n  private itemsToArray(items: Completion[], arr: StudioDialogItem[], isTva?: boolean) {\n    for (let item of items) {\n      for (let [i, series] of item.series.entries()) {\n        for (let [j, sequence] of series.sequences.entries()) {\n          if ( sequence.studios.includes(this.data) ) {\n            arr.push({\n              title: sequence.title,\n              _id: item._id,\n              series: i,\n              sequence: j,\n              date: isTva ? (<TvaSequence> sequence).aired.start : (<MovieSequence> sequence).aired\n            });\n          }\n        }\n      }\n    }\n    arr.sort((a, b) => { return new Date(a.date).getTime() - new Date(b.date).getTime() });\n  }\n\n  onClose() {\n    this.dialogRef.close();\n  }\n\n  getLink(url: string, item: StudioDialogItem): string {\n    // if ( item.moreParams ) link += ((arr: any[]): string => { let result = ''; for (let each of arr) result += `/${each}`; return result; })(item.moreParams);\n    return `/${url}/${item._id}/${item.series}/${item.sequence}`;\n  }\n\n  getFormattedDate(date: string): string {\n    let d = new Date(date);\n    let f = (n: number): string => { if ( n == 0 ) n = 1; return n < 10 ? '0' + n : n.toString() };\n    return `'${d.getFullYear().toString().substr(2, 2)}.${f(d.getMonth())}.${f(d.getDate())}`;\n  }\n\n  yearChanged(i: number): boolean {\n    if ( i == 0 ) return false;\n    let before = new Date(this.tvas[i-1].date);\n    let after = new Date(this.tvas[i].date);\n    return before.getFullYear() != after.getFullYear();\n  }\n\n}\n\ninterface StudioDialogItem {\n  _id: string,\n  title: ItemTitle,\n  series: number,\n  sequence: number,\n  date: string\n}\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudHMvZGlhbG9ncy90ZXh0LWZpZWxkLWRpYWxvZy90ZXh0LWZpZWxkLWRpYWxvZy5jb21wb25lbnQuY3NzIn0= */\"","import { Component, Inject } from '@angular/core';\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material';\n\n@Component({\n  selector: 'app-text-field-dialog',\n  templateUrl: './text-field-dialog.component.html',\n  styleUrls: ['./text-field-dialog.component.css']\n})\nexport class TextFieldDialogComponent {\n\n  constructor(\n    public dialogRef: MatDialogRef<TextFieldDialogComponent>,\n    @Inject(MAT_DIALOG_DATA) public data: SendingTextProtocol\n  ) { }\n\n  onClose() {\n    this.dialogRef.close();\n  }\n\n}\n\nexport interface SendingTextProtocol {\n  title: string,\n  explain: string,\n  text: string,\n  placeholder: string\n}\n","module.exports = \".carousel-item {\\r\\n    height: 42rem;\\r\\n}\\r\\n\\r\\nli {\\r\\n    margin: .75rem;\\r\\n}\\r\\n\\r\\n@media (min-width: 40em) {\\r\\n    .carousel-caption p {\\r\\n        margin-bottom: 1.25rem;\\r\\n        font-size: 1.25rem;\\r\\n        line-height: 1.4;\\r\\n    }\\r\\n}\\r\\n\\r\\n.carousel-button:hover {\\r\\n    color: black;\\r\\n    text-decoration: none;\\r\\n}\\r\\n\\r\\n.searched-link {\\r\\n    color: white;\\r\\n}\\r\\n\\r\\n.searched-link:hover {\\r\\n    color: white;\\r\\n}\\r\\n\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50cy9ob21lL2hvbWUuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLGFBQWE7QUFDakI7O0FBRUE7SUFDSSxjQUFjO0FBQ2xCOztBQUVBO0lBQ0k7UUFDSSxzQkFBc0I7UUFDdEIsa0JBQWtCO1FBQ2xCLGdCQUFnQjtJQUNwQjtBQUNKOztBQUVBO0lBQ0ksWUFBWTtJQUNaLHFCQUFxQjtBQUN6Qjs7QUFFQTtJQUNJLFlBQVk7QUFDaEI7O0FBRUE7SUFDSSxZQUFZO0FBQ2hCIiwiZmlsZSI6InNyYy9hcHAvY29tcG9uZW50cy9ob21lL2hvbWUuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIi5jYXJvdXNlbC1pdGVtIHtcclxuICAgIGhlaWdodDogNDJyZW07XHJcbn1cclxuXHJcbmxpIHtcclxuICAgIG1hcmdpbjogLjc1cmVtO1xyXG59XHJcblxyXG5AbWVkaWEgKG1pbi13aWR0aDogNDBlbSkge1xyXG4gICAgLmNhcm91c2VsLWNhcHRpb24gcCB7XHJcbiAgICAgICAgbWFyZ2luLWJvdHRvbTogMS4yNXJlbTtcclxuICAgICAgICBmb250LXNpemU6IDEuMjVyZW07XHJcbiAgICAgICAgbGluZS1oZWlnaHQ6IDEuNDtcclxuICAgIH1cclxufVxyXG5cclxuLmNhcm91c2VsLWJ1dHRvbjpob3ZlciB7XHJcbiAgICBjb2xvcjogYmxhY2s7XHJcbiAgICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XHJcbn1cclxuXHJcbi5zZWFyY2hlZC1saW5rIHtcclxuICAgIGNvbG9yOiB3aGl0ZTtcclxufVxyXG5cclxuLnNlYXJjaGVkLWxpbms6aG92ZXIge1xyXG4gICAgY29sb3I6IHdoaXRlO1xyXG59XHJcbiJdfQ== */\"","import { PageEvent } from \"@angular/material\";\r\nimport { TvaSequence, Tva } from 'src/app/models/tva';\r\nimport { MovieSequence, Movie } from 'src/app/models/movie';\r\nimport { Watching } from 'src/app/models/watching';\r\nimport { Plan } from 'src/app/models/plan';\r\nimport { Sequence } from 'src/app/models/completion';\r\n\r\nexport interface Carousel {\r\n    type: string,\r\n    title: string,\r\n    content: string,\r\n    link: string\r\n}\r\n\r\nexport interface PageEvents {\r\n    tva: PageEvent,\r\n    movie: PageEvent,\r\n    watching: PageEvent,\r\n    plan: PageEvent\r\n}\r\n\r\ninterface Detail {\r\n    _id: string,\r\n    series: number,\r\n    sequence: number,\r\n    seriesTitle: string\r\n}\r\n\r\nexport interface SearchedSequence extends Sequence, Detail {}\r\ninterface SearchedTvaSequence extends TvaSequence, Detail {}\r\ninterface SearchedMovieSequence extends MovieSequence, Detail {}\r\n\r\nclass Shapes {\r\n    tvas: any[];\r\n    movies: any[];\r\n    watchings: Watching[];\r\n    plans: Plan[];\r\n\r\n    constructor() {\r\n        this.tvas = [];\r\n        this.movies = [];\r\n        this.watchings = [];\r\n        this.plans = [];\r\n    }\r\n}\r\n\r\nexport class Items extends Shapes {\r\n    tvas: Tva[];\r\n    movies: Movie[];\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n}\r\n\r\nexport class SearchedItems extends Shapes {\r\n    tvas: SearchedTvaSequence[];\r\n    movies: SearchedMovieSequence[];\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n}\r\n","import { Component, OnInit } from '@angular/core';\nimport { TvaService } from 'src/app/services/tva.service';\nimport { MovieService } from 'src/app/services/movie.service';\nimport { WatchingService } from 'src/app/services/watching.service';\nimport { PlanService } from 'src/app/services/plan.service';\nimport { Completion, Sequence } from 'src/app/models/completion';\nimport { Incompletion } from 'src/app/models/incompletion';\nimport { PageEvent, MatDialog } from '@angular/material';\nimport { Carousel, Items, SearchedItems, PageEvents, SearchedSequence } from './home.component.model';\nimport { TitleService } from 'src/app/services/title.service';\nimport { StudioDialogComponent } from '../dialogs/studio-dialog/studio-dialog.component';\n\n@Component({\n  selector: 'app-home',\n  templateUrl: './home.component.html',\n  styleUrls: ['./home.component.css']\n})\nexport class HomeComponent implements OnInit {\n  carousel: Carousel[] = [];\n  backgrounds: number[] = [];\n\n  private readonly titleTypes = [ 'eng', 'kor', 'jpn' ];\n  allItems: Items = new Items();\n  searchedItems: SearchedItems = new SearchedItems();\n  searchedText: string = undefined;\n\n  pageEvents: PageEvents;\n  readonly pageSizeOptions = [ 5, 10, 25, 100 ];\n  readonly pageSize = 10;\n\n  constructor(\n    private tvaService: TvaService,\n    private movieService: MovieService,\n    private watchingService: WatchingService,\n    private planService: PlanService,\n    private titleService: TitleService,\n    private dialog: MatDialog\n  ) {\n    this.titleService.setDefaultTitle();\n    this.tvaService.getTvas().subscribe(tvas => {\n      this.allItems.tvas = tvas;\n      let tva = tvas[ this.getRandomNumber(tvas.length) ];\n      let i: number = this.getRandomNumber(tva.series.length);\n      let j: number = this.getRandomNumber(tva.series[i].sequences.length);\n      let sequence = tva.series[i].sequences[j];\n      this.carousel.push({\n        type: '[ TVA ]',\n        title: sequence.title[sequence.title.rv],\n        content: `${sequence.premiered.year}년 ${sequence.premiered.quarter}분기 방영`,\n        link: `/tva/${tva._id}/${i}/${j}`\n      });\n    });\n    this.movieService.getMovies().subscribe(movies => {\n      this.allItems.movies = movies;\n      let movie = movies[ this.getRandomNumber(movies.length) ];\n      let i: number = this.getRandomNumber(movie.series.length);\n      let j: number = this.getRandomNumber(movie.series[i].sequences.length);\n      let sequence = movie.series[i].sequences[j];\n      let date = new Date(sequence.aired);\n      this.carousel.push({\n        type: '[ 극장판 ]',\n        title: sequence.title[sequence.title.rv],\n        content: `${date.getFullYear()}년 ${date.getMonth() + 1}월 ${date.getDate()}일 개봉`,\n        link: `/movie/${movie._id}/${i}/${j}`\n      });\n    });\n    this.watchingService.getWatchings().subscribe(watchings => {\n      this.allItems.watchings = watchings;\n      let watching = watchings[ this.getRandomNumber(watchings.length) ];\n      this.carousel.push({\n        type: `[ ${watching.type == 'tva' ? 'TVA' : '극장판'} - 시청 중 ] `,\n        title: watching.title[watching.title.rv],\n        content: `${watching.premiered.year}년 ${watching.premiered.quarter}분기 방영`,\n        link: `/watching/${watching._id}`\n      });\n    });\n    this.planService.getPlans().subscribe(plans => {\n      this.allItems.plans = plans;\n      let plan = plans[ this.getRandomNumber(plans.length) ];\n      let date = new Date(plan.aired);\n      this.carousel.push({\n        type: `[ ${plan.type == 'tva' ? 'TVA' : '극장판'} - 시청 예정 ] `,\n        title: plan.title[plan.title.rv],\n        content: (plan.aired != null && plan.aired != '') ? `${date.getFullYear()}년 ${Math.floor((date.getMonth() + 4) / 3)}분기 방영` : '기타 정보 없음',\n        link: `/plan/${plan._id}`\n      });\n    });\n\n    let pageEvent = new PageEvent();\n    pageEvent.pageIndex = 0;\n    pageEvent.pageSize = 10;\n    this.pageEvents = {\n      tva: pageEvent,\n      movie: pageEvent,\n      watching: pageEvent,\n      plan: pageEvent\n    };\n  }\n\n  private getRandomNumber(len: number): number {\n    return Math.floor(Math.random() * len);\n  }\n\n  private removeSpace(text: string): string {\n    return text.replace(/\\s/gi, '');\n  }\n\n  private matchWithNoSpace(big: string, small: string): boolean {\n    return this.removeSpace(big.toLowerCase()).includes(small);\n  }\n\n  ngOnInit() {\n    this.backgrounds = [];\n    const bgCounts = 10;\n    for (let i=0; i<4; i++) {\n      let idx: number = this.getRandomNumber(bgCounts);\n      let flag: boolean = i != 0;\n      while ( flag ) {\n        for (let j=0; j<this.backgrounds.length; j++) {\n          if ( idx == this.backgrounds[j] ) {\n            flag = true;\n            idx = this.getRandomNumber(bgCounts);\n            break;\n          } else {\n            flag = false;\n          }\n        }\n      }\n      this.backgrounds[i] = idx;\n    }\n  }\n\n  private searchCompletion(text: string, what: string) {\n    const arr: Completion[] = this.allItems[what];\n    arr.some(c => {\n      if ( this.matchWithNoSpace(c.category, text) ) {\n        for (let [i, series] of c.series.entries()) {\n          for (let [j, sequence] of series.sequences.entries()) {\n            let searchedSequence: SearchedSequence = <SearchedSequence> sequence;\n            searchedSequence._id = c._id;\n            searchedSequence.series = i;\n            searchedSequence.sequence = j;\n            searchedSequence.seriesTitle = series.title;\n            (<Sequence[]> this.searchedItems[what]).push(searchedSequence);\n          }\n        }\n        return false;\n      }\n      for (let [i, series] of c.series.entries()) {\n        if ( this.matchWithNoSpace(series.title, text) ) {\n          for (let [j, sequence] of series.sequences.entries()) {\n            let searchedSequence: SearchedSequence = <SearchedSequence> sequence;\n            searchedSequence._id = c._id;\n            searchedSequence.series = i;\n            searchedSequence.sequence = j;\n            searchedSequence.seriesTitle = series.title;\n            (<SearchedSequence[]> this.searchedItems[what]).push(searchedSequence);\n          }\n          return false;\n        } else {\n          for (let [j, sequence] of series.sequences.entries()) {\n            for (let titleType of this.titleTypes) {\n              if ( this.matchWithNoSpace(sequence.title[titleType], text) ) {\n                let searchedSequence: SearchedSequence = <SearchedSequence> sequence;\n                searchedSequence._id = c._id;\n                searchedSequence.series = i;\n                searchedSequence.sequence = j;\n                searchedSequence.seriesTitle = series.title;\n                (<SearchedSequence[]> this.searchedItems[what]).push(searchedSequence);\n                return false;\n              }\n            }\n            for (let studio of sequence.studios) {\n              if ( this.matchWithNoSpace(studio, text) ) {\n                let searchedSequence: SearchedSequence = <SearchedSequence> sequence;\n                searchedSequence._id = c._id;\n                searchedSequence.series = i;\n                searchedSequence.sequence = j;\n                searchedSequence.seriesTitle = series.title;\n                (<SearchedSequence[]> this.searchedItems[what]).push(searchedSequence);\n                return false;\n              }\n            }\n          }\n        }\n      }\n    });\n  }\n\n  private searchIncompletion(text: string, what: string) {\n    const arr: Incompletion[] = this.allItems[what];\n    arr.some(ic => {\n      for (let titleType of this.titleTypes) {\n        if ( this.matchWithNoSpace(ic.title[titleType], text) ) {\n          (<Incompletion[]> this.searchedItems[what]).push(ic);\n          return false;\n        }\n      }\n      for (let studio of ic.studios) {\n        if ( this.matchWithNoSpace(studio, text) ) {\n          (<Incompletion[]> this.searchedItems[what]).push(ic);\n          return false;\n        }\n      }\n    });\n  }\n\n  search(text: string) {\n    text = this.removeSpace(text).toLowerCase();\n    this.searchedItems = new SearchedItems();\n    this.searchedText = text;\n    if ( text == '' ) return;\n    this.searchCompletion(text, 'tvas');\n    this.searchCompletion(text, 'movies');\n    this.searchIncompletion(text, 'watchings');\n    this.searchIncompletion(text, 'plans');\n  }\n\n  allElementsLength(completion: Completion): number {\n    let count = 0;\n    for (let i=0; i<completion.series.length; i++) {\n      count += completion.series[i].sequences.length;\n    }\n    return count;\n  }\n\n  getQuarterFromAiredDate(aired: string): string {\n    if ( !aired || aired == '' ) return '-';\n    let date = new Date(aired);\n    let year = date.getFullYear().toString().substring(2);\n    let qtr = Math.floor((date.getMonth() + 4) / 3);\n    return `'${year} - ${qtr}`;\n  }\n\n  findByStudio(studio: string) {\n    this.dialog.open(StudioDialogComponent, {data: studio});\n  }\n\n}\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudHMvbW92aWUvbW92aWUuY29tcG9uZW50LmNzcyJ9 */\"","import { Component, OnInit } from '@angular/core';\nimport { MovieService } from 'src/app/services/movie.service';\nimport { TvaService } from 'src/app/services/tva.service';\nimport { Movie, MovieSequence } from 'src/app/models/movie';\nimport { ActivatedRoute } from '@angular/router';\nimport { NgFlashMessageService } from 'ng-flash-messages';\nimport { cloneObject, isOK, notOK } from 'src/app/models/item';\nimport { MatDialog } from '@angular/material';\nimport { SendingSearchedProtocol, MalSearched, searchedProtocolFactory } from 'src/app/models/searched';\nimport { SearchService } from 'src/app/services/search.service';\nimport { SearchDialogComponent } from '../dialogs/search-dialog/search-dialog.component';\nimport { Tva } from 'src/app/models/tva';\nimport { WatchingService } from 'src/app/services/watching.service';\nimport { PlanService } from 'src/app/services/plan.service';\nimport { HeaderAlign } from 'src/app/models/headerAlign';\nimport { SendingTextProtocol, TextFieldDialogComponent } from '../dialogs/text-field-dialog/text-field-dialog.component';\nimport { TitleService } from 'src/app/services/title.service';\nimport { StudioDialogComponent } from '../dialogs/studio-dialog/studio-dialog.component';\n\n@Component({\n  selector: 'app-movie',\n  templateUrl: './movie.component.html',\n  styleUrls: ['./movie.component.css']\n})\nexport class MovieComponent extends HeaderAlign<Movie> implements OnInit {\n  movies: Movie[] = null;\n  movieMap: Map<string, Movie>;\n  modifying: {\n    studios: string,\n    series: number,\n    sequence: number\n  } = null;\n  loading: boolean = false;\n\n  writing: boolean = false;\n  writingMovie: MovieSequence;\n  seriesMemo: string;\n  tvas: Tva[] = null;\n  linked: {\n    idx: number,\n    series: number\n  } = {\n    idx: 0,\n    series: 0\n  };\n\n  from: string = undefined;\n  incompletion_id: string = undefined;\n\n  constructor(\n    private movieService: MovieService,\n    private tvaService: TvaService,\n    private searchService: SearchService,\n    private watchingService: WatchingService,\n    private planService: PlanService,\n    private titleService: TitleService,\n    private route: ActivatedRoute,\n    private flashMessage: NgFlashMessageService,\n    private dialog: MatDialog\n  ) {\n    super([2], [5]);\n    this.titleService.setTitle('극장판');\n    this.movieService.getMovies().subscribe(movies => {\n      this.movies = movies;\n      super.setItems([this.movies]);\n      this.movieMap = new Map<string, Movie>();\n      movies.map(v => this.movieMap.set(v._id, v));\n      this.movies.sort((a: Movie, b: Movie) => { return a.category.localeCompare(b.category) });\n      setTimeout(() => this.scrollToElement(), 500);\n    });\n  }\n\n  protected getAlignment(standard: number) {\n    switch(standard) {\n      case 0: return (a: Movie, b: Movie) => { return a.category.localeCompare(b.category) * this.alignments[0][standard] }\n      case 1: return (a: Movie, b: Movie) => { return a.series[0].title.localeCompare(b.series[0].title) * this.alignments[0][standard] }\n      case 2: return (a: Movie, b: Movie) => { return a.series[0].sequences[0].title[a.series[0].sequences[0].title.rv].localeCompare(b.series[0].sequences[0].title[b.series[0].sequences[0].title.rv]) * this.alignments[0][standard] }\n      case 3: return (a: Movie, b: Movie) => { return a.series[0].sequences[0].studios[0].localeCompare(b.series[0].sequences[0].studios[0]) * this.alignments[0][standard] }\n      case 4: return (a: Movie, b: Movie) => { return (new Date(a.series[0].sequences[0].aired).getTime() - new Date(b.series[0].sequences[0].aired).getTime()) * this.alignments[0][standard] }\n      default: return;\n    }\n  }\n\n  private scrollToElement() {\n    if ( this.route.snapshot.paramMap.get('_id') ) {\n      const _id = this.route.snapshot.paramMap.get('_id');\n      this.clickMovieWithId(_id, +this.route.snapshot.paramMap.get('series'), +this.route.snapshot.paramMap.get('sequence'));\n      let element: HTMLElement = document.getElementById(_id);\n      try {\n        element.scrollIntoView();\n      } catch(e) {\n        alert('알 수 없는 에러가 발생하였습니다.\\n' + e);\n      }\n    } else if ( this.route.snapshot.paramMap.get('incompletion_id') ) {\n      this.writeMovie();\n      this.from = this.route.snapshot.paramMap.get('from');\n      this.incompletion_id = this.route.snapshot.paramMap.get('incompletion_id');\n      (this.from == 'data-from-watching' ? this.watchingService : this.planService).get(this.incompletion_id).subscribe(result => {\n        if ( !result._id ) {\n          alert('알 수 없는 에러가 발생하였습니다.\\n' + result);\n          return;\n        }\n        if ( result.mal_id ) this.searchMovie('mal_id', result.mal_id.toString());\n        else {\n          this.writingMovie.aired = result.aired;\n          this.writingMovie.studios = result.studios;\n        }\n        this.writingMovie.title = result.title;\n        this.writingMovie.memo = result.memo\n        let element: HTMLElement = document.getElementById('writing-area');\n        try {\n          element.scrollIntoView();\n        } catch(e) {\n          alert('알 수 없는 에러가 발생하였습니다.\\n' + e);\n        }\n      });\n    }\n  }\n\n  allElementsLength(m: number): number {\n    let count = 0;\n    for (let i=0; i<this.movies[m].series.length; i++) {\n      count += this.movies[m].series[i].sequences.length;\n    }\n    return count;\n  }\n\n  ngOnInit() {\n  }\n\n  clickMovie(m: number, series: number, sequence: number) {\n    if ( this.movies[m].modifying ) return;\n    let opened = {series: series, sequence: sequence, linked: null};\n    if ( this.movies[m].opened ) {\n      if ( this.movies[m].opened.series != series || this.movies[m].opened.sequence != sequence ) {\n        opened.linked = this.movies[m].opened.linked;\n        this.movies[m].opened = opened;\n      } else this.movies[m].opened = null;\n      return;\n    }\n    this.movies[m].opened = opened;\n    this.setLinkedTva(m, this.movies[m].category_tva, this.movies[m].series[series].key);\n  }\n\n  clickMovieWithId(_id: string, series: number, sequence: number) {\n    if ( this.movieMap.get(_id).modifying ) return;\n    let opened = {series: series, sequence: sequence, linked: null};\n    if ( this.movieMap.get(_id).opened ) {\n      if ( this.movieMap.get(_id).opened.series != series || this.movieMap.get(_id).opened.sequence != sequence ) {\n        opened.linked = this.movieMap.get(_id).opened.linked;\n        this.movieMap.get(_id).opened = opened;\n      } else this.movieMap.get(_id).opened = null;\n      return;\n    }\n    this.movieMap.get(_id).opened = opened;\n    this.setLinkedTvaWithId(_id, this.movieMap.get(_id).category_tva, this.movieMap.get(_id).series[series].key);\n  }\n\n  private setLinkedTva(m: number, tva_id: string, key: string) {\n    if ( this.movies[m].opened.linked ) return;\n    this.tvaService.getTva(tva_id).subscribe(tva => {\n      for (let i=0; i<tva.series.length; i++) {\n        if ( tva.series[i].key == key ) {\n          this.movies[m].opened.linked = {\n            title: tva.series[i].title,\n            _id: tva._id,\n            series: i\n          };\n          return;\n        }\n      }\n    });\n  }\n\n  private setLinkedTvaWithId(_id: string, tva_id: string, key: string) {\n    if ( this.movieMap.get(_id).opened.linked ) return;\n    this.tvaService.getTva(tva_id).subscribe(tva => {\n      for (let i=0; i<tva.series.length; i++) {\n        if ( tva.series[i].key == key ) {\n          this.movieMap.get(_id).opened.linked = {\n            title: tva.series[i].title,\n            _id: tva._id,\n            series: i\n          };\n          return;\n        }\n      }\n    });\n  }\n\n  editCategory(m: number) {\n    const data: SendingTextProtocol = {\n      title: '카테고리명 수정',\n      explain: '수정할 카테고리명을 입력해주세요.',\n      placeholder: '카테고리명',\n      text: this.movies[m].category\n    }\n    const dialogRef = this.dialog.open(TextFieldDialogComponent, {data: data});\n    dialogRef.afterClosed().subscribe(() => {\n      if ( !data.text || data.text == '' ) return;\n      this.movies[m].category = data.text;\n      this.movieService.modifyMovie(this.movies[m]).subscribe(result => {\n        if ( !result._id ) alert('수정 실패');\n      });\n    });\n  }\n\n  private setStudio(studios: string[]) {\n    this.modifying.studios = '';\n    for (let studio of studios) this.modifying.studios += studio + '\\n';\n  }\n\n  modifyMovie(m: number, series: number, sequence: number) {\n    this.movies[m].opened = null;\n    for (let tva of this.movies) tva.modifying = null;\n    this.movies[m].modifying = cloneObject(this.movies[m].series[series].sequences[sequence]);\n    this.modifying = {series: series, sequence: sequence, studios: undefined};\n    this.setStudio(this.movies[m].modifying.studios);\n\n    this.tvaService.getTvas().subscribe(tvas => {\n      this.tvas = tvas;\n      this.tvas.sort((a: Tva, b: Tva) => {\n        return a.category.localeCompare(b.category);\n      });\n      for (let i=0; i<this.tvas.length; i++) {\n        if ( this.movies[m].category_tva == this.tvas[i]._id ) {\n          for (let j=0; j<this.tvas[i].series.length; j++) {\n            if ( this.movies[m].series[series].key == this.tvas[i].series[j].key ) {\n              this.linked = {\n                idx: i,\n                series: j\n              };\n              return;\n            }\n          }\n        }\n      }\n    });\n  }\n\n  cancelModify(m: number) {\n    this.movies[m].modifying = null;\n    this.movies[m].opened = null;\n    this.clickMovie(m, this.modifying.series, this.modifying.sequence);\n  }\n\n  cancelWrite() {\n    this.cancelEditing();\n  }\n\n  private cancelEditing() {\n    this.writing = false;\n    this.tvas = null;\n    this.linked = {\n      idx: 0,\n      series: 0\n    };\n  }\n\n  onModifySubmit(m: number, series: number, sequence: number) {\n    if ( !confirm('저장하시겠습니까?') ) return;\n\n    // validating input values\n    if ( !isOK(this.movies[m].modifying, ['memo']) ) return notOK();\n    if ( !isOK(this.modifying) || !isOK(this.linked) ) return notOK();\n\n    // change series with input title\n    this.movies[m].series[series].sequences.splice(sequence, 1);\n    let flag: boolean = false;\n    outer: for (let i=0; i<this.movies[m].series.length; i++) {\n      if ( this.movies[m].series[i].key == this.tvas[this.linked.idx].series[this.linked.series].key ) {\n        flag = true;\n        this.movies[m].modifying.studios = this.modifying.studios.trim().split('\\n');\n        this.movies[m].series[i].sequences.push(this.movies[m].modifying);\n        this.movies[m].series[i].sequences.sort((a, b) => { return a.order - b.order; });\n        series = i;\n        for (let j=0; j<this.movies[m].series[i].sequences.length; j++) {\n          if ( this.movies[m].series[i].sequences[j].order == this.movies[m].modifying.order ) {\n            sequence = j;\n            break outer;\n          }\n        }\n        break;\n      }\n    }\n\n    // create a new series with input title\n    if ( !flag ) {\n      this.movies[m].series.push({\n        title: this.tvas[this.linked.idx].series[this.linked.series].title,\n        key: this.tvas[this.linked.idx].series[this.linked.series].key,\n        memo: '',\n        sequences: [ this.movies[m].modifying ]\n      });\n      series = this.movies[m].series.length - 1;\n      sequence = 0;\n      this.movies[m].series.sort((a, b) => { return new Date(a.sequences[0].aired).getTime() - new Date(b.sequences[0].aired).getTime() });\n    }\n\n    // remove empty series (which has an empty sequence)\n    for (let i=0; i<this.movies[m].series.length; i++) {\n      if ( this.movies[m].series[i].sequences.length == 0 ) {\n        this.movies[m].series.splice(i, 1);\n        if ( series >= i ) series--;\n        break;\n      }\n    }\n\n    this.movieService.modifyMovie(this.movies[m]).subscribe(result => {\n      if ( result._id ) {\n        this.movies[m].modifying = null;\n        this.clickMovie(m, series, sequence);\n        this.flashMessage.showFlashMessage({\n          messages: ['수정되었습니다.'],\n          type: 'success',\n          timeout: 2000\n        });\n        return false;\n      } else {\n        this.flashMessage.showFlashMessage({\n          messages: ['오류가 발생하였습니다.'],\n          type: 'danger',\n          timeout: 3000\n        });\n        return false;\n      }\n    });\n  }\n\n  seriesSelect() {\n    if ( !this.tvas[this.linked.idx].category_movie ) return;\n    for (let movie of this.movies) {\n      if ( this.tvas[this.linked.idx].category_movie == movie._id ) {\n        for (let movieSeries of movie.series) {\n          if ( this.tvas[this.linked.idx].series[this.linked.series].key == movieSeries.key ) {\n            this.seriesMemo = movieSeries.memo;\n            // this.writingMovie.order = movieSeries.sequences.length + 1;\n            return;\n          }\n        }\n      }\n    }\n    // this.writingMovie.order = 1;\n  }\n\n  private searchedToSequence(sequence: MovieSequence, malSearched: MalSearched) {\n    if ( malSearched.title.kor ) sequence.title.kor = malSearched.title.kor;\n    sequence.title.eng = malSearched.title.eng;\n    sequence.title.jpn = malSearched.title.jpn;\n    sequence.aired = malSearched.aired.start;\n    sequence.studios = malSearched.studios;\n    sequence.mal_id = malSearched.mal_id;\n    sequence.img = malSearched.img;\n    this.setStudio(sequence.studios);\n  }\n\n  searchMovie(option: string, text: string, m?: number) {\n    if ( !option ) {\n      alert('옵션을 선택해주세요.');\n      return;\n    }\n    if ( !text || text == '' ) {\n      alert('비어있습니다.');\n      return;\n    }\n\n    let movie: MovieSequence = m ? this.movies[m].modifying : this.writingMovie;\n    if ( option == 'mal_id' ) {\n      let id = parseInt(text);\n      if ( isNaN(id) ) {\n        this.flashMessage.showFlashMessage({\n          messages: ['숫자를 입력해야 합니다.'],\n          type: 'danger',\n          timeout: 3000\n        });\n        return;\n      }\n      this.loading = true;\n      this.searchService.mal(id).subscribe(result => {\n        this.loading = false;\n        if ( result.mal_id ) this.searchedToSequence(movie, result);\n        else {\n          this.flashMessage.showFlashMessage({\n            messages: ['존재하지 않는 ID이거나 오류가 발생했습니다.'],\n            type: 'danger',\n            timeout: 3000\n          });\n        }\n      });\n    } else {\n      const data: SendingSearchedProtocol = searchedProtocolFactory(text, option);\n      const dialogRef = this.dialog.open(SearchDialogComponent, {data: data});\n      dialogRef.afterClosed().subscribe(() => {\n        if ( data.malSearched ) {\n          this.searchedToSequence(movie, data.malSearched);\n        }\n      });\n    }\n  }\n\n  writeMovie() {\n    this.seriesMemo = '';\n    this.writing = true;\n    this.writingMovie = {\n      title: {kor: '', eng: '', jpn: '', rv: 'kor'},\n      aired: '',\n      order: 1,\n      studios: [],\n      memo: '',\n      mal_id: 0,\n      img: ''\n    };\n    this.modifying = {\n      studios: '',\n      series: 0,\n      sequence: 0\n    };\n\n    this.tvaService.getTvas().subscribe(tvas => {\n      this.tvas = tvas;\n      this.tvas.sort((a: Tva, b: Tva) => {\n        return a.category.localeCompare(b.category);\n      });\n    });\n  }\n\n  onWriteSubmit() {\n    // validating input values\n    if ( !isOK(this.writingMovie, ['memo']) ) return notOK();\n    if ( !isOK(this.modifying) || !isOK(this.linked) ) return notOK();\n\n    let category: number = -1;\n    let series: number = -1;\n    for (let i=0; i<this.movies.length; i++) {\n      if ( this.movies[i].category == this.tvas[this.linked.idx].category ) {\n        category = i;\n        for (let j=0; j<this.movies[i].series.length; j++) {\n          if ( this.movies[i].series[j].key == this.tvas[this.linked.idx].series[this.linked.series].key ) {\n            series = j;\n            break;\n          }\n        }\n        break;\n      }\n    }\n\n    let newMovie: Movie;\n    this.writingMovie.studios = this.modifying.studios.trim().split('\\n');\n    if ( category != -1 ) {\n      newMovie = this.movies[category];\n      if ( series != -1 ) { // add to an existing series\n        newMovie.series[series].sequences.push(this.writingMovie);\n        newMovie.series[series].sequences.sort((a, b) => { return a.order - b.order });\n      } else {  // add new series\n        newMovie.series.push({\n          title: this.tvas[this.linked.idx].series[this.linked.series].title,\n          key: this.tvas[this.linked.idx].series[this.linked.series].key,\n          memo: this.seriesMemo,\n          sequences: [ this.writingMovie ]\n        });\n        newMovie.series.sort((a, b) => {\n          return new Date(a.sequences[0].aired).getTime() - new Date(b.sequences[0].aired).getTime();\n        });\n      }\n      this.movieService.modifyMovie(newMovie).subscribe(result => {\n        if ( result._id ) {\n          alert('추가되었습니다.');\n          this.flashMessage.showFlashMessage({\n            messages: ['추가되었습니다.'],\n            type: 'success',\n            timeout: 2000\n          });\n          this.cancelEditing();\n          this.movieMap.set(result._id, result);\n          this.clickMovieWithId(result._id, series, result.series[series].sequences.length-1);\n          let el = document.getElementById(result._id);\n          try { el.scrollIntoView() } catch(e) {}\n          if ( this.incompletion_id ) {\n            (this.from == 'data-from-watching' ? this.watchingService : this.planService).remove(this.incompletion_id).subscribe(err => {\n              if ( err ) alert('원래의 목록에서 삭제하는 도중 오류가 발생하였습니다.');\n              else this.incompletion_id = undefined;\n            });\n          }\n        } else {\n          alert('오류가 발생하였습니다.');\n          this.flashMessage.showFlashMessage({\n            messages: ['오류가 발생하였습니다.'],\n            type: 'danger',\n            timeout: 3000\n          });\n        }\n        return;\n      });\n    } else {\n      newMovie = {\n        category: this.tvas[this.linked.idx].category,\n        category_tva: this.tvas[this.linked.idx]._id,\n        series: [{\n          title: this.tvas[this.linked.idx].series[this.linked.series].title,\n          key: this.tvas[this.linked.idx].series[this.linked.series].key,\n          memo: this.seriesMemo,\n          sequences: [ this.writingMovie ]\n        }]\n      };\n      this.movieService.addMovie(newMovie).subscribe(result => {\n        if ( result._id ) {\n          alert('추가되었습니다.');\n          this.flashMessage.showFlashMessage({\n            messages: ['추가되었습니다.'],\n            type: 'success',\n            timeout: 2000\n          });\n          this.cancelEditing();\n          this.movies.push(result);\n          // this.movies.sort((a, b) => { return a.category.localeCompare(b.category) });\n          this.align();\n          this.movieMap.set(result._id, result);\n          this.clickMovieWithId(result._id, 0, 0);\n          setTimeout(() => {\n            try { document.getElementById(result._id).scrollIntoView() }\n            catch(e) {}\n          }, 500);\n          if ( this.incompletion_id ) {\n            (this.from == 'data-from-watching' ? this.watchingService : this.planService).remove(this.incompletion_id).subscribe(err => {\n              if ( err ) alert('원래의 목록에서 삭제하는 도중 오류가 발생하였습니다.');\n              else this.incompletion_id = undefined;\n            });\n          }\n        } else {\n          alert('오류가 발생하였습니다.');\n          this.flashMessage.showFlashMessage({\n            messages: ['오류가 발생하였습니다.'],\n            type: 'danger',\n            timeout: 3000\n          });\n        }\n        return;\n      });\n    }\n\n  }\n\n  removeMovie(m: number, series: number, sequence: number) {\n    if ( !confirm('삭제하시겠습니까?') ) return;\n    this.movieService.removeMovie(this.movies[m]._id, series, sequence).subscribe(err => {\n      if ( err ) {\n        this.flashMessage.showFlashMessage({\n          messages: ['오류가 발생하였습니다.'],\n          type: 'danger',\n          timeout: 3000\n        });\n        return false;\n      } else {\n        this.movies.splice(m, 1);\n      }\n    });\n  }\n\n  openAll() {\n    for (let i=0; i<this.movies.length; i++) {\n      this.movies[i].opened = null;\n      this.clickMovie(i, 0, 0);\n    }\n  }\n\n  closeAll() {\n    for (let movie of this.movies) {\n      movie.opened = null;\n    }\n  }\n\n  count(): number {\n    if ( this.movies ) {\n      let count = 0;\n      for (let movie of this.movies) {\n        for (let series of movie.series) {\n          count += series.sequences.length;\n        }\n      }\n      return count;\n    }\n    return 0;\n  }\n\n  findByStudio(studio: string) {\n    this.dialog.open(StudioDialogComponent, {data: studio});\n  }\n\n}\n","module.exports = \"a:hover {\\r\\n    text-decoration: none;\\r\\n    color: black;\\r\\n}\\r\\n\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50cy9uby1wYWdlL25vLXBhZ2UuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLHFCQUFxQjtJQUNyQixZQUFZO0FBQ2hCIiwiZmlsZSI6InNyYy9hcHAvY29tcG9uZW50cy9uby1wYWdlL25vLXBhZ2UuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbImE6aG92ZXIge1xyXG4gICAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xyXG4gICAgY29sb3I6IGJsYWNrO1xyXG59XHJcbiJdfQ== */\"","import { Component } from '@angular/core';\nimport { TitleService } from 'src/app/services/title.service';\n\n@Component({\n  selector: 'app-no-page',\n  templateUrl: './no-page.component.html',\n  styleUrls: ['./no-page.component.css']\n})\nexport class NoPageComponent {\n\n  constructor(\n    private titleService: TitleService\n  ) {\n    this.titleService.setTitle('Page Not Found');\n  }\n\n}\n","module.exports = \".no-item {\\r\\n    color: grey;\\r\\n}\\r\\n\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50cy9wbGFuL3BsYW4uY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLFdBQVc7QUFDZiIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudHMvcGxhbi9wbGFuLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIubm8taXRlbSB7XHJcbiAgICBjb2xvcjogZ3JleTtcclxufVxyXG4iXX0= */\"","import { Component, OnInit } from '@angular/core';\nimport { PlanService } from 'src/app/services/plan.service';\nimport { NgFlashMessageService } from 'ng-flash-messages';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { MatDialog } from '@angular/material';\nimport { SearchService } from 'src/app/services/search.service';\nimport { Plan } from 'src/app/models/plan';\nimport { MalSearched, SendingSearchedProtocol, searchedProtocolFactory } from 'src/app/models/searched';\nimport { SearchDialogComponent } from '../dialogs/search-dialog/search-dialog.component';\nimport { cloneObject, notOK, isOK } from 'src/app/models/item';\nimport { HeaderAlign } from 'src/app/models/headerAlign';\nimport { TitleService } from 'src/app/services/title.service';\nimport { StudioDialogComponent } from '../dialogs/studio-dialog/studio-dialog.component';\n\n@Component({\n  selector: 'app-plan',\n  templateUrl: './plan.component.html',\n  styleUrls: ['./plan.component.css']\n})\nexport class PlanComponent extends HeaderAlign<Plan> implements OnInit {\n  plans: Plan[];\n  planMap: Map<string, Plan>;\n\n  loading: boolean = false;\n  writing: Plan = null;\n  studios: string = null;\n\n  constructor(\n    private planService: PlanService,\n    private route: ActivatedRoute,\n    private flashMessage: NgFlashMessageService,\n    private dialog: MatDialog,\n    private searchService: SearchService,\n    private titleService: TitleService,\n    private router: Router\n  ) {\n    super([1], [4]);\n    this.titleService.setTitle('시청 예정');\n    this.planService.getPlans().subscribe(plans => {\n      this.plans = plans;\n      super.setItems([this.plans]);\n      this.plans.sort((a, b) => { return a.title[a.title.rv].localeCompare(b.title[b.title.rv]) });\n      this.planMap = new Map<string, Plan>();\n      for (let plan of this.plans) this.planMap.set(plan._id, plan);\n      setTimeout(() => this.scrollToElement(), 500); // to wait for page loading\n    });\n  }\n\n  private scrollToElement() {\n    if ( this.route.snapshot.paramMap.get('_id') ) {\n      const _id = this.route.snapshot.paramMap.get('_id');\n      this.click(_id);\n      let element: HTMLElement = document.getElementById(_id);\n      try {\n        element.scrollIntoView();\n      } catch(e) {\n        alert('잘못된 ID값입니다: ' + _id);\n      }\n    }\n  }\n\n  protected getAlignment(standard: number) {\n    switch(standard) {\n      case 0: return (a: Plan, b: Plan) => { return a.type.localeCompare(b.type) * this.alignments[0][standard] }\n      case 1: return (a: Plan, b: Plan) => { return a.title[a.title.rv].localeCompare(b.title[b.title.rv]) * this.alignments[0][standard] }\n      case 2: return (a: Plan, b: Plan) => { return (a.studios[0] ? a.studios[0] : '-').localeCompare((b.studios[0] ? b.studios[0] : '-')) * this.alignments[0][standard] }\n      case 3: return (a: Plan, b: Plan) => { return (new Date(a.aired ? a.aired : null).getTime() - new Date(b.aired ? b.aired : null).getTime()) * this.alignments[0][standard] }\n      default: return;\n    }\n  }\n\n  getQuarterFromAiredDate(aired: string): string {\n    if ( !aired || aired == '' ) return '-';\n    let date = new Date(aired);\n    let year = date.getFullYear().toString().substring(2);\n    let qtr = Math.floor((date.getMonth() + 4) / 3);\n    return `'${year} - ${qtr}`;\n  }\n\n  click(_id: string) {\n    let plan: Plan = this.planMap.get(_id);\n    if ( !plan ) return;\n    if ( plan.modifying ) return;\n    plan.opened = !plan.opened;\n  }\n\n  ngOnInit() {\n  }\n\n  private searchedToItem(plan: Plan, malSearched: MalSearched) {\n    if ( malSearched.title.kor ) plan.title.kor = malSearched.title.kor;\n    plan.title.eng = malSearched.title.eng;\n    plan.title.jpn = malSearched.title.jpn;\n    plan.aired = malSearched.aired.start;\n    plan.mal_id = malSearched.mal_id;\n    plan.img = malSearched.img;\n    plan.type = malSearched.type;\n    this.studios = malSearched.studios.join('\\n');\n  }\n\n  search(option: string, text: string, item: Plan) {\n    if ( !option ) {\n      alert('옵션을 선택해주세요.');\n      return;\n    }\n    if ( !text || text == '' ) {\n      alert('비어있습니다.');\n      return;\n    }\n\n    if ( option == 'mal_id' ) {\n      let id = parseInt(text);\n      if ( isNaN(id) ) {\n        this.flashMessage.showFlashMessage({\n          messages: ['숫자를 입력해야 합니다.'],\n          type: 'danger',\n          timeout: 3000\n        });\n        return;\n      }\n      this.loading = true;\n      this.searchService.mal(id).subscribe(result => {\n        this.loading = false;\n        if ( result.mal_id ) this.searchedToItem(item, result);\n        else {\n          this.flashMessage.showFlashMessage({\n            messages: ['존재하지 않는 ID이거나 오류가 발생했습니다.'],\n            type: 'danger',\n            timeout: 3000\n          });\n        }\n      });\n    } else {\n      const data: SendingSearchedProtocol = searchedProtocolFactory(text, option);\n      const dialogRef = this.dialog.open(SearchDialogComponent, {data: data});\n      dialogRef.afterClosed().subscribe(() => {\n        if ( data.malSearched ) {\n          this.searchedToItem(item, data.malSearched);\n        }\n      });\n    }\n  }\n\n  closeEdit(_id?: string) {\n    if ( _id ) this.planMap.get(_id).modifying = null;\n    this.writing = null;\n    this.studios = '';\n  }\n\n  private closeAllEdit() {\n    for (let plan of this.plans) if ( plan.modifying ) this.closeEdit(plan._id);\n    this.closeEdit();\n  }\n\n  modify(_id: string) {\n    this.closeAllEdit();\n    this.planMap.get(_id).opened = false;\n    let clone: Plan = cloneObject(this.planMap.get(_id));\n    this.planMap.get(_id).modifying = clone;\n    this.studios = this.planMap.get(_id).studios.join('\\n');\n  }\n\n  onModifySubmit(_id: string, i: number) {\n    if ( !confirm('저장하시겠습니까?') ) return;\n    let plan: Plan = this.planMap.get(_id).modifying;\n    if ( !isOK(plan.title[plan.title.rv]) ) return notOK(['대표가 되는 제목은 입력해야 합니다.']);\n    plan.studios = this.studios.trim().split('\\n');\n    this.planService.modifyPlan(plan).subscribe(result => {\n      if ( result._id ) {\n        this.planMap.delete(_id);\n        this.planMap.set(_id, plan);\n        this.plans[i] = plan;\n        this.click(_id);\n      } else {\n        alert('오류가 발생하였습니다.');\n        this.flashMessage.showFlashMessage({\n          messages: ['오류가 발생하였습니다.'],\n          type: 'danger',\n          timeout: 3000\n        });\n      }\n    });\n  }\n\n  write() {\n    this.closeAllEdit();\n    let date = new Date();\n    let year = date.getFullYear();\n    let qtr = Math.floor((date.getMonth() + 4) / 3);\n    this.writing = {\n      title: {\n        kor: '',\n        eng: '',\n        jpn: '',\n        rv: 'kor'\n      },\n      type: 'tva',\n      memo: '',\n      mal_id: undefined,\n      img: undefined,\n      aired: '',\n      studios: []\n    };\n  }\n\n  onWriteSubmit() {\n    if ( !isOK(this.writing.title[this.writing.title.rv]) ) return notOK(['대표가 되는 제목은 입력해야 합니다.']);\n\n    let trim = this.studios.trim();\n    if ( trim != '' ) this.writing.studios = trim.split('\\n');\n    this.planService.addPlan(this.writing).subscribe(result => {\n      if ( result._id ) {\n        alert('작성되었습니다.');\n        this.planMap.set(result._id, result);\n        this.plans.push(result);\n        this.align();\n        this.writing = null;\n      } else {\n        alert('오류가 발생하였습니다.');\n        this.flashMessage.showFlashMessage({\n          messages: ['오류가 발생하였습니다.'],\n          type: 'danger',\n          timeout: 3000\n        });\n      }\n    });\n  }\n\n  done(_id: string) {\n    this.router.navigate([`/${this.planMap.get(_id).type}/data-from-plan`, _id]);\n  }\n\n  remove(_id: string, i: number) {\n    if ( !confirm('삭제하시겠습니까?') ) return;\n    this.planService.removePlan(_id).subscribe(err => {\n      if ( err ) {\n        this.flashMessage.showFlashMessage({\n          messages: ['오류가 발생하였습니다.'],\n          type: 'danger',\n          timeout: 3000\n        });\n        return false;\n      } else {\n        this.planMap.delete(_id);\n        this.plans.splice(i, 1);\n      }\n    });\n  }\n\n  openAll() {\n    this.planMap.forEach((value, key) => {\n      if ( !value.opened ) this.click(key);\n    });\n  }\n\n  closeAll() {\n    this.planMap.forEach((value, key) => {\n      if ( value.opened ) this.click(key);\n    });\n  }\n\n  findByStudio(studio: string) {\n    this.dialog.open(StudioDialogComponent, {data: studio});\n  }\n\n}\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudHMvdHZhL3R2YS5jb21wb25lbnQuY3NzIn0= */\"","import { Component, OnInit } from '@angular/core';\nimport { TvaService } from 'src/app/services/tva.service';\nimport { Tva, TvaSequence } from 'src/app/models/tva';\nimport { ActivatedRoute } from '@angular/router';\nimport { MovieService } from 'src/app/services/movie.service';\nimport { NgFlashMessageService } from 'ng-flash-messages';\nimport { MatDialog, MatAutocompleteSelectedEvent } from '@angular/material';\nimport { SearchDialogComponent } from '../dialogs/search-dialog/search-dialog.component';\nimport { SendingSearchedProtocol, MalSearched, searchedProtocolFactory } from 'src/app/models/searched';\nimport { cloneObject, isOK, notOK } from 'src/app/models/item';\nimport { FormControl, FormGroup } from '@angular/forms';\nimport { Observable } from 'rxjs';\nimport { map, startWith } from 'rxjs/operators';\nimport { SearchService } from 'src/app/services/search.service';\nimport { WatchingService } from 'src/app/services/watching.service';\nimport { PlanService } from 'src/app/services/plan.service';\nimport { HeaderAlign } from 'src/app/models/headerAlign';\nimport { SendingTextProtocol, TextFieldDialogComponent } from '../dialogs/text-field-dialog/text-field-dialog.component';\nimport { TitleService } from 'src/app/services/title.service';\nimport { StudioDialogComponent } from '../dialogs/studio-dialog/studio-dialog.component';\n\n@Component({\n  selector: 'app-tva',\n  templateUrl: './tva.component.html',\n  styleUrls: ['./tva.component.css']\n})\nexport class TvaComponent extends HeaderAlign<Tva> implements OnInit {\n  tvas: Tva[] = null;\n  tvaMap: Map<string, Tva>;\n  modifying: {\n    seriesTitle: string,\n    studios: string,\n    series: number,\n    sequence: number\n  } = null;\n  loading: boolean = false;\n\n  seriesControl: FormControl;\n  seriesOptions: string[];\n  seriesFilteredOptions: Observable<string[]>;\n\n  writeFormGroup: FormGroup;\n\n  categoryControl: FormControl;\n  categoryOptions: string[];\n  categoryFilteredOptions: Observable<string[]>;\n\n  writing: boolean = false;\n  writingTva: TvaSequence;\n  seriesMemo: string;\n\n  from: string = undefined;\n  incompletion_id: string = undefined;\n\n  counts = {\n    sequences: 0,\n    episodes: 0\n  };\n\n  constructor(\n    private tvaService: TvaService,\n    private movieService: MovieService,\n    private watchingService: WatchingService,\n    private planService: PlanService,\n    private searchService: SearchService,\n    private titleService: TitleService,\n    private route: ActivatedRoute,\n    private flashMessage: NgFlashMessageService,\n    private dialog: MatDialog\n  ) {\n    super([2], [6]);\n    this.titleService.setTitle('TVA');\n    this.tvaService.getTvas().subscribe(tvas => {\n      this.tvas = tvas;\n      super.setItems([this.tvas]);\n      this.tvaMap = new Map<string, Tva>();\n      tvas.map(v => this.tvaMap.set(v._id, v));\n      this.count();\n      this.align();\n      setTimeout(() => this.scrollToElement(), 500); // to wait for page loading\n    });\n  }\n\n  protected getAlignment(standard: number) {\n    switch(standard) {\n      case 0: return (a: Tva, b: Tva) => { return a.category.localeCompare(b.category) * this.alignments[0][standard] }\n      case 1: return (a: Tva, b: Tva) => { return a.series[0].title.localeCompare(b.series[0].title) * this.alignments[0][standard] }\n      case 2: return (a: Tva, b: Tva) => { return a.series[0].sequences[0].title[a.series[0].sequences[0].title.rv].localeCompare(b.series[0].sequences[0].title[a.series[0].sequences[0].title.rv]) * this.alignments[0][standard] }\n      case 3: return (a: Tva, b: Tva) => { return a.series[0].sequences[0].studios[0].localeCompare(b.series[0].sequences[0].studios[0]) * this.alignments[0][standard] }\n      case 4: return (a: Tva, b: Tva) => { return (a.series[0].sequences[0].episodes - b.series[0].sequences[0].episodes) * this.alignments[0][standard] }\n      case 5: return (a: Tva, b: Tva) => { return (new Date(a.series[0].sequences[0].aired.start).getTime() - new Date(b.series[0].sequences[0].aired.start).getTime()) * this.alignments[0][standard] }\n      default: return;\n    }\n  }\n\n  private scrollToElement() {\n    if ( this.route.snapshot.paramMap.get('_id') ) {\n      const _id = this.route.snapshot.paramMap.get('_id');\n      this.clickTvaWithId(_id, +this.route.snapshot.paramMap.get('series'), +this.route.snapshot.paramMap.get('sequence'));\n      let element: HTMLElement = document.getElementById(_id);\n      try {\n        element.scrollIntoView();\n      } catch(e) {\n        alert('알 수 없는 에러가 발생하였습니다.\\n' + e);\n      }\n    } else if ( this.route.snapshot.paramMap.get('from') ) {\n      this.writeTva();\n      this.from = this.route.snapshot.paramMap.get('from');\n      this.incompletion_id = this.route.snapshot.paramMap.get('incompletion_id');\n      (this.from == 'data-from-watching' ? this.watchingService : this.planService).get(this.incompletion_id).subscribe(result => {\n        if ( !result._id ) {\n          alert('알 수 없는 에러가 발생하였습니다.\\n' + result);\n          return;\n        }\n        if ( result.mal_id ) this.searchTva('mal_id', result.mal_id.toString());\n        else {\n          this.writingTva.aired.start = result.aired;\n          this.writingTva.studios = result.studios;\n        }\n        this.writingTva.title = result.title;\n        this.writingTva.memo = result.memo;\n        let element: HTMLElement = document.getElementById('writing-area');\n        try {\n          element.scrollIntoView();\n        } catch(e) {\n          alert('알 수 없는 에러가 발생하였습니다.\\n' + e);\n        }\n      });\n    }\n  }\n\n  allElementsLength(t: number): number {\n    let count = 0;\n    for (let i=0; i<this.tvas[t].series.length; i++) {\n      count += this.tvas[t].series[i].sequences.length;\n    }\n    return count;\n  }\n\n  ngOnInit() {\n  }\n\n  clickTva(t: number, series: number, sequence: number) {\n    if ( this.tvas[t].modifying ) return;\n    let opened = {series: series, sequence: sequence, linked: null};\n    if ( this.tvas[t].opened ) {\n      if ( this.tvas[t].opened.series != series || this.tvas[t].opened.sequence != sequence ) {\n        opened.linked = this.tvas[t].opened.linked;\n        this.tvas[t].opened = opened;\n      } else this.tvas[t].opened = null;\n      return;\n    }\n    this.tvas[t].opened = opened;\n    this.setLinkedTva(t, this.tvas[t].category_movie, this.tvas[t].series[series].key);\n  }\n\n  clickTvaWithId(_id: string, series: number, sequence: number) {\n    if ( this.tvaMap.get(_id).modifying ) return;\n    let opened = {series: series, sequence: sequence, linked: null};\n    if ( this.tvaMap.get(_id).opened ) {\n      if ( this.tvaMap.get(_id).opened.series != series || this.tvaMap.get(_id).opened.sequence != sequence ) {\n        opened.linked = this.tvaMap.get(_id).opened.linked;\n        this.tvaMap.get(_id).opened = opened;\n      } else this.tvaMap.get(_id).opened = null;\n      return;\n    }\n    this.tvaMap.get(_id).opened = opened;\n    this.setLinkedTvaWithId(_id, this.tvaMap.get(_id).category_movie, this.tvaMap.get(_id).series[series].key);\n  }\n\n  private setLinkedTva(t: number, movie_id: string, key: string) {\n    if ( !this.tvas[t].category_movie ) return;\n    if ( this.tvas[t].opened.linked ) return;\n    this.movieService.getMovie(movie_id).subscribe(movie => {\n      for (let i=0; i<movie.series.length; i++) {\n        if ( movie.series[i].key == key ) {\n          this.tvas[t].opened.linked = {\n            title: movie.series[i].title,\n            _id: movie._id,\n            series: i\n          };\n          return;\n        }\n      }\n      this.tvas[t].opened.linked = null;\n    });\n  }\n\n  private setLinkedTvaWithId(_id: string, movie_id: string, key: string) {\n    if ( !this.tvaMap.get(_id).category_movie ) return;\n    if ( this.tvaMap.get(_id).opened.linked ) return;\n    this.movieService.getMovie(movie_id).subscribe(movie => {\n      for (let i=0; i<movie.series.length; i++) {\n        if ( movie.series[i].key == key ) {\n          this.tvaMap.get(_id).opened.linked = {\n            title: movie.series[i].title,\n            _id: movie._id,\n            series: i\n          };\n          return;\n        }\n      }\n      this.tvaMap.get(_id).opened.linked = null;\n    });\n  }\n\n  editCategory(t: number) {\n    const data: SendingTextProtocol = {\n      title: '카테고리명 수정',\n      explain: '수정할 카테고리명을 입력해주세요.',\n      placeholder: '카테고리명',\n      text: this.tvas[t].category\n    }\n    const dialogRef = this.dialog.open(TextFieldDialogComponent, {data: data});\n    dialogRef.afterClosed().subscribe(() => {\n      if ( !data.text || data.text == '' ) return;\n      this.tvas[t].category = data.text;\n      this.tvaService.modifyTva(this.tvas[t]).subscribe(result => {\n        if ( !result._id ) alert('수정 실패');\n      });\n    });\n  }\n\n  private setStudio(studios: string[]) {\n    this.modifying.studios = '';\n    for (let studio of studios) this.modifying.studios += studio + '\\n';\n  }\n\n  modifyTva(t: number, series: number, sequence: number) {\n    this.tvas[t].opened = null;\n    for (let tva of this.tvas) tva.modifying = null;\n    this.tvas[t].modifying = cloneObject(this.tvas[t].series[series].sequences[sequence]);\n    this.modifying = {series: series, sequence: sequence, studios: undefined, seriesTitle: this.tvas[t].series[series].title};\n    this.setStudio(this.tvas[t].modifying.studios);\n\n    this.seriesOptions = [];\n    this.seriesControl = new FormControl();\n    for (let s of this.tvas[t].series) this.seriesOptions.push(s.title);\n    this.seriesFilteredOptions = this.seriesControl.valueChanges.pipe(\n      startWith(''),\n      map(value => {\n        return this.seriesOptions.filter(option => option.toLowerCase().includes(value.toLowerCase()));\n      })\n    );\n    this.seriesControl.setValue(this.tvas[t].series[series].title);\n  }\n\n  cancelModify(t: number) {\n    this.tvas[t].modifying = null;\n    this.tvas[t].opened = null;\n    this.clickTva(t, this.modifying.series, this.modifying.sequence);\n  }\n\n  cancelWrite() {\n    this.writing = false;\n  }\n\n  onModifySubmit(t: number, series: number, sequence: number) {\n    if ( !confirm('저장하시겠습니까?') ) return;\n\n    // validating input values\n    if ( !isOK(this.tvas[t].modifying, ['memo']) ) return notOK();\n    this.modifying.seriesTitle = this.seriesControl.value;\n    if ( !isOK(this.modifying) ) return notOK();\n\n    // change series with input title\n    this.tvas[t].series[series].sequences.splice(sequence, 1);\n    let flag: boolean = false;\n    for (let i=0; i<this.tvas[t].series.length; i++) {\n      if ( this.tvas[t].series[i].title == this.modifying.seriesTitle ) {\n        flag = true;\n        this.tvas[t].modifying.studios = this.modifying.studios.trim().split('\\n');\n        this.tvas[t].series[i].sequences.push(this.tvas[t].modifying);\n        this.tvas[t].series[i].sequences.sort((a, b) => { return a.season - b.season; });\n        series = i;\n        for (let j=0; j<this.tvas[t].series[i].sequences.length; j++) {\n          if ( this.tvas[t].series[i].sequences[j].season == this.tvas[t].modifying.season ) {\n            sequence = j;\n            break;\n          }\n        }\n        break;\n      }\n    }\n\n    // create a new series with input title\n    if ( !flag ) {\n      this.tvas[t].series.push({\n        title: this.modifying.seriesTitle,\n        key: new Date().getTime().toString(),\n        memo: '',\n        sequences: [ this.tvas[t].modifying ]\n      });\n      series = this.tvas[t].series.length - 1;\n      sequence = 0;\n      this.tvas[t].series.sort((a, b) => { return new Date(a.sequences[0].aired.start).getTime() - new Date(b.sequences[0].aired.start).getTime() });\n    }\n\n    // remove empty series (which has an empty sequence)\n    for (let i=0; i<this.tvas[t].series.length; i++) {\n      if ( this.tvas[t].series[i].sequences.length == 0 ) {\n        this.tvas[t].series.splice(i, 1);\n        if ( series >= i ) series--;\n        break;\n      }\n    }\n\n    this.tvaService.modifyTva(this.tvas[t]).subscribe(result => {\n      if ( result._id ) {\n        this.tvas[t].modifying = null;\n        this.clickTva(t, series, sequence);\n        this.flashMessage.showFlashMessage({\n          messages: ['수정되었습니다.'],\n          type: 'success',\n          timeout: 2000\n        });\n        return false;\n      } else {\n        this.flashMessage.showFlashMessage({\n          messages: ['오류가 발생하였습니다.'],\n          type: 'danger',\n          timeout: 3000\n        });\n        return false;\n      }\n    });\n  }\n\n  private searchedToSequence(sequence: TvaSequence, malSearched: MalSearched) {\n    if ( malSearched.title.kor ) sequence.title.kor = malSearched.title.kor;\n    sequence.title.eng = malSearched.title.eng;\n    sequence.title.jpn = malSearched.title.jpn;\n    sequence.premiered.year = malSearched.premiered.year;\n    sequence.premiered.quarter = malSearched.premiered.quarter;\n    sequence.aired = malSearched.aired;\n    sequence.episodes = malSearched.episodes;\n    sequence.studios = malSearched.studios;\n    sequence.mal_id = malSearched.mal_id;\n    sequence.img = malSearched.img;\n    this.setStudio(sequence.studios);\n  }\n\n  searchTva(option: string, text: string, t?: number) {\n    if ( !option ) {\n      alert('옵션을 선택해주세요.');\n      return;\n    }\n    if ( !text || text == '' ) {\n      alert('비어있습니다.');\n      return;\n    }\n\n    let tva: TvaSequence = t ? this.tvas[t].modifying : this.writingTva;\n    if ( option == 'mal_id' ) {\n      let id = parseInt(text);\n      if ( isNaN(id) ) {\n        this.flashMessage.showFlashMessage({\n          messages: ['숫자를 입력해야 합니다.'],\n          type: 'danger',\n          timeout: 3000\n        });\n        return;\n      }\n      this.loading = true;\n      this.searchService.mal(id).subscribe(result => {\n        this.loading = false;\n        if ( result.mal_id ) this.searchedToSequence(tva, result);\n        else {\n          this.flashMessage.showFlashMessage({\n            messages: ['존재하지 않는 ID이거나 오류가 발생했습니다.'],\n            type: 'danger',\n            timeout: 3000\n          });\n        }\n      });\n    } else {\n      const data: SendingSearchedProtocol = searchedProtocolFactory(text, option);\n      const dialogRef = this.dialog.open(SearchDialogComponent, {data: data});\n      dialogRef.afterClosed().subscribe(() => {\n        if ( data.malSearched ) {\n          this.searchedToSequence(tva, data.malSearched);\n        }\n      });\n    }\n  }\n\n  writeTva() {\n    this.categoryOptions = [];\n    this.seriesOptions = [];\n    for (let tva of this.tvas) {\n      this.categoryOptions.push(tva.category);\n      tva.modifying = null;\n    }\n    this.categoryControl = new FormControl();\n    this.categoryFilteredOptions = this.categoryControl.valueChanges.pipe(\n      startWith(''),\n      map(value => {\n        return this.categoryOptions.filter(option => option.toLowerCase().includes(value.toLowerCase()));\n      })\n    );\n    this.writeFormGroup = new FormGroup({\n      writeSeriesControl: new FormControl()\n    });\n\n    let date = new Date();\n    let year = date.getFullYear();\n    let qtr = Math.floor((date.getMonth() + 4) / 3);\n    this.seriesMemo = '';\n    this.writing = true;\n    this.writingTva = {\n      title: {kor: '', eng: '', jpn: '', rv: 'kor'},\n      premiered: {year: year, quarter: qtr},\n      aired: {start: '', end: ''},\n      season: 1,\n      episodes: 0,\n      studios: [],\n      memo: '',\n      mal_id: 0,\n      img: ''\n    };\n    this.modifying = {\n      seriesTitle: '',\n      studios: '',\n      series: 0,\n      sequence: 0\n    };\n  }\n\n  categoryInput(event: MatAutocompleteSelectedEvent) {\n    for (let tva of this.tvas) {\n      if ( event.option.value == tva.category ) {\n        this.seriesOptions = [];\n        for (let series of tva.series) this.seriesOptions.push(series.title);\n        this.seriesFilteredOptions = this.writeFormGroup.get('writeSeriesControl').valueChanges.pipe(\n          startWith(''),\n          map(value => {\n            return this.seriesOptions.filter(option => option.toLowerCase()\n              .includes(value.toLowerCase()));\n          })\n        );\n        return;\n      }\n    }\n  }\n\n  seriesInput(event: MatAutocompleteSelectedEvent) {\n    for (let tva of this.tvas) {\n      if ( event.option.value == tva.category ) {\n        for (let series of tva.series) {\n          if ( this.writeFormGroup.get('writeSeriesControl').value == series.title ) {\n            this.seriesMemo = series.memo;\n            this.writingTva.season = series.sequences.length + 1;\n            return;\n          }\n        }\n      }\n    }\n  }\n\n  onWriteSubmit() {\n    // validating input values\n    if ( !isOK(this.writingTva, ['memo']) ) return notOK();\n    this.modifying.seriesTitle = this.writeFormGroup.get('writeSeriesControl').value;\n    if ( !isOK(this.modifying) || !isOK(this.categoryControl.value) ) return notOK();\n\n    let category: number = -1;\n    let series: number = -1;\n    for (let i=0; i<this.tvas.length; i++) {\n      if ( this.tvas[i].category == this.categoryControl.value ) {\n        category = i;\n        for (let j=0; j<this.tvas[i].series.length; j++) {\n          if ( this.tvas[i].series[j].title == this.writeFormGroup.get('writeSeriesControl').value ) {\n            series = j;\n            break;\n          }\n        }\n        break;\n      }\n    }\n\n    let newTva: Tva;\n    this.writingTva.studios = this.modifying.studios.trim().split('\\n');\n    if ( category != -1 ) {\n      newTva = this.tvas[category];\n      if ( series != -1 ) { // add to an existing series\n        newTva.series[series].sequences.push(this.writingTva);\n        newTva.series[series].sequences.sort((a, b) => { return a.season - b.season });\n      } else {  // add new series\n        newTva.series.push({\n          title: <string> this.writeFormGroup.get('writeSeriesControl').value,\n          key: new Date().getTime().toString(),\n          memo: this.seriesMemo,\n          sequences: [ this.writingTva ]\n        });\n        newTva.series.sort((a, b) => {\n          return new Date(a.sequences[0].aired.start).getTime() - new Date(b.sequences[0].aired.start).getTime();\n        });\n      }\n      this.tvaService.modifyTva(newTva).subscribe(result => {\n        if ( result._id ) {\n          alert('추가되었습니다.');\n          this.flashMessage.showFlashMessage({\n            messages: ['추가되었습니다.'],\n            type: 'success',\n            timeout: 2000\n          });\n          this.tvaMap.set(result._id, result);\n          this.clickTvaWithId(result._id, series, result.series[series].sequences.length-1);\n          setTimeout(() => {\n            try {\n              let el = document.getElementById(result._id);\n              el.scrollIntoView();\n            } catch(e) {}\n          }, 500);\n          this.writing = false;\n          if ( this.incompletion_id ) {\n            (this.from == 'data-from-watching' ? this.watchingService : this.planService).remove(this.incompletion_id).subscribe(err => {\n              if ( err ) alert('원래의 목록에서 삭제하는 도중 오류가 발생하였습니다.');\n              else this.incompletion_id = undefined;\n            });\n          }\n        } else {\n          alert('오류가 발생하였습니다.');\n          this.flashMessage.showFlashMessage({\n            messages: ['오류가 발생하였습니다.'],\n            type: 'danger',\n            timeout: 3000\n          });\n        }\n        return;\n      });\n    } else {\n      newTva = {\n        category: <string> this.categoryControl.value,\n        category_movie: null,\n        series: [{\n          title: <string> this.writeFormGroup.get('writeSeriesControl').value,\n          key: new Date().getTime().toString(),\n          memo: this.seriesMemo,\n          sequences: [ this.writingTva ]\n        }]\n      };\n      this.tvaService.addTva(newTva).subscribe(result => {\n        if ( result._id ) {\n          alert('추가되었습니다.');\n          this.flashMessage.showFlashMessage({\n            messages: ['추가되었습니다.'],\n            type: 'success',\n            timeout: 2000\n          });\n          this.writing = false;\n          this.tvas.push(result);\n          this.align();\n          this.tvaMap.set(result._id, result);\n          this.clickTvaWithId(result._id, 0, 0);\n          setTimeout(() => {\n            try { document.getElementById(result._id).scrollIntoView() }\n            catch(e) {}\n          }, 500);\n          if ( this.incompletion_id ) {\n            (this.from == 'data-from-watching' ? this.watchingService : this.planService).remove(this.incompletion_id).subscribe(err => {\n              if ( err ) alert('원래의 목록에서 삭제하는 도중 오류가 발생하였습니다.');\n              else this.incompletion_id = undefined;\n            });\n          }\n        } else {\n          alert('오류가 발생하였습니다.');\n          this.flashMessage.showFlashMessage({\n            messages: ['오류가 발생하였습니다.'],\n            type: 'danger',\n            timeout: 3000\n          });\n        }\n        return;\n      });\n    }\n\n  }\n\n  removeTva(t: number, series: number, sequence: number) {\n    if ( !confirm('삭제하시겠습니까?') ) return;\n    this.tvaService.removeTva(this.tvas[t]._id, series, sequence).subscribe(err => {\n      if ( err ) {\n        this.flashMessage.showFlashMessage({\n          messages: ['오류가 발생하였습니다.'],\n          type: 'danger',\n          timeout: 3000\n        });\n        return false;\n      } else {\n        this.tvas.splice(t, 1);\n      }\n    });\n  }\n\n  openAll() {\n    for (let i=0; i<this.tvas.length; i++) {\n      this.tvas[i].opened = null;\n      this.clickTva(i, 0, 0);\n    }\n  }\n\n  closeAll() {\n    for (let tva of this.tvas) {\n      tva.opened = null;\n    }\n  }\n\n  count() {\n    if ( this.tvas ) {\n      this.tvas.map(tva => {\n        tva.series.map(series => {\n          this.counts.sequences += series.sequences.length;\n          series.sequences.map(sequence => this.counts.episodes += sequence.episodes);\n        });\n      });\n    }\n  }\n\n  findByStudio(studio: string) {\n    this.dialog.open(StudioDialogComponent, {data: studio});\n  }\n\n  toCategory(rv: string) {\n    const s: string = this.writingTva.title[rv];\n    this.categoryControl.setValue(s);\n    this.writeFormGroup.get('writeSeriesControl').setValue(s);\n  }\n\n}\n","module.exports = \".download-link {\\r\\n    color: white;\\r\\n}\\r\\n\\r\\n.download-link:hover {\\r\\n    color: grey;\\r\\n    text-decoration: none;\\r\\n}\\r\\n\\r\\n.inner-table-section {\\r\\n    padding: 0px;\\r\\n}\\r\\n\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50cy93YXRjaGluZy93YXRjaGluZy5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksWUFBWTtBQUNoQjs7QUFFQTtJQUNJLFdBQVc7SUFDWCxxQkFBcUI7QUFDekI7O0FBRUE7SUFDSSxZQUFZO0FBQ2hCIiwiZmlsZSI6InNyYy9hcHAvY29tcG9uZW50cy93YXRjaGluZy93YXRjaGluZy5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmRvd25sb2FkLWxpbmsge1xyXG4gICAgY29sb3I6IHdoaXRlO1xyXG59XHJcblxyXG4uZG93bmxvYWQtbGluazpob3ZlciB7XHJcbiAgICBjb2xvcjogZ3JleTtcclxuICAgIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcclxufVxyXG5cclxuLmlubmVyLXRhYmxlLXNlY3Rpb24ge1xyXG4gICAgcGFkZGluZzogMHB4O1xyXG59XHJcbiJdfQ== */\"","import { Component, OnInit } from '@angular/core';\nimport { Watching } from 'src/app/models/watching';\nimport { WatchingService } from 'src/app/services/watching.service';\nimport { ActivatedRoute } from '@angular/router';\nimport { NgFlashMessageService } from 'ng-flash-messages';\nimport { SendingSearchedProtocol, searchedProtocolFactory, MalSearched, Broadcast } from 'src/app/models/searched';\nimport { SearchDialogComponent } from '../dialogs/search-dialog/search-dialog.component';\nimport { MatDialog } from '@angular/material';\nimport { SearchService } from 'src/app/services/search.service';\nimport { isOK, notOK, cloneObject } from 'src/app/models/item';\nimport { SendingOhliProtocol } from 'src/app/models/ohli';\nimport { OhliDialogComponent } from '../dialogs/ohli-dialog/ohli-dialog.component';\nimport { PlanService } from 'src/app/services/plan.service';\nimport { HeaderAlign } from 'src/app/models/headerAlign';\nimport { TitleService } from 'src/app/services/title.service';\nimport { StudioDialogComponent } from '../dialogs/studio-dialog/studio-dialog.component';\nimport { EndedDialogComponent } from '../dialogs/ended-dialog/ended-dialog.component';\n\n@Component({\n  selector: 'app-watching',\n  templateUrl: './watching.component.html',\n  styleUrls: ['./watching.component.css']\n})\nexport class WatchingComponent extends HeaderAlign<Watching> implements OnInit {\n  watchingMap: Map<string, Watching>;\n  airings: Watching[] = null;\n  ends: Watching[] = null;\n\n  loading: boolean = false;\n  writing: Watching = null;\n  studios: string = null;\n\n  plan_id: string = null;\n\n  private readonly days: string[] = [\n    '일', '월', '화', '수', '목', '금', '토'\n  ];\n\n  constructor(\n    private watchingService: WatchingService,\n    private planService: PlanService,\n    private route: ActivatedRoute,\n    private flashMessage: NgFlashMessageService,\n    private dialog: MatDialog,\n    private searchService: SearchService,\n    private titleService: TitleService\n  ) {\n    super([4, 1], [5, 4]);\n    this.titleService.setTitle('시청 중');\n    this.watchingService.getWatchings().subscribe(watchings => {\n      this.watchingMap = new Map<string, Watching>();\n      this.airings = [];\n      this.ends = [];\n      for (let watching of watchings) {\n        if ( watching.ohli_id ) this.airings.push(watching);\n        else this.ends.push(watching);\n        this.watchingMap.set(watching._id, watching);\n      }\n      this.setItems([this.airings, this.ends]);\n      this.align(0);\n      this.align(1);\n      setTimeout(() => this.scrollToElement(), 500); // to wait for page loading\n    });\n  }\n\n  protected getAlignment(standard: number, num?: number) {\n    switch(standard) {\n      case 0: return (a: Watching, b: Watching) => { return a.type.localeCompare(b.type) * this.alignments[num][standard] }\n      case 1: return (a: Watching, b: Watching) => { return a.title[a.title.rv].localeCompare(b.title[b.title.rv]) * this.alignments[num][standard] }\n      case 2: return (a: Watching, b: Watching) => { return a.studios[0].localeCompare(b.studios[0]) * this.alignments[num][standard] }\n      case 3: return (a: Watching, b: Watching) => { return (new Date(a.aired ? a.aired : null).getTime() - new Date(b.aired ? b.aired : null).getTime()) * this.alignments[num][standard] }\n      case 4: return (a: Watching, b: Watching) => { return ( a.broadcast.day != b.broadcast.day ? a.broadcast.day - b.broadcast.day : (a.broadcast.hour * 100 + a.broadcast.minute) - (b.broadcast.hour * 100 + b.broadcast.minute) ) * this.alignments[num][standard] }\n      default: return null;\n    }\n  }\n\n  private scrollToElement() {\n    if ( this.route.snapshot.paramMap.get('_id') ) {\n      const _id = this.route.snapshot.paramMap.get('_id');\n      this.click(_id);\n      let element: HTMLElement = document.getElementById(_id);\n      try {\n        element.scrollIntoView();\n      } catch(e) {\n        alert('알 수 없는 에러가 발생하였습니다.\\n' + e);\n      }\n    } else if ( this.route.snapshot.paramMap.get('plan_id') ) {\n      this.plan_id = this.route.snapshot.paramMap.get('plan_id');\n      this.write();\n      this.planService.getPlan(this.plan_id).subscribe(plan => {\n        this.writing.title = plan.title;\n        this.writing.type = plan.type;\n        this.writing.memo = plan.memo;\n        if ( plan.aired ) this.writing.aired = plan.aired;\n        this.studios = plan.studios.join('\\n');\n        if ( plan.mal_id ) this.search('mal_id', plan.mal_id.toString(), this.writing);\n        try {\n          let el = document.getElementById('writing-area');\n          el.scrollIntoView();\n        } catch(e) { alert('에러가 발생하였습니다.\\n' + e) }\n      });\n    }\n  }\n\n  click(_id: string) {\n    let watching: Watching = this.watchingMap.get(_id);\n    if ( watching.modifying ) return;\n    if ( watching.opened ) watching.opened = false;\n    else {\n      watching.opened = true;\n      if ( watching.ohli_id ) {\n        this.watchingService.getVideos(watching.title.eng).subscribe(videos => watching.videos = videos);\n        this.watchingService.getOhys(watching.title.eng).subscribe(ohys => watching.ohys = ohys);\n        this.watchingService.getSubtitles(watching.ohli_id).subscribe(subtitles => watching.subtitles = subtitles);\n      }\n    }\n  }\n\n  ngOnInit() {\n  }\n\n  private searchedToItem(watching: Watching, malSearched: MalSearched) {\n    if ( malSearched.title.kor ) watching.title.kor = malSearched.title.kor;\n    watching.title.eng = malSearched.title.eng;\n    watching.title.jpn = malSearched.title.jpn;\n    watching.aired = malSearched.aired.start;\n    watching.premiered = malSearched.premiered;\n    watching.broadcast = malSearched.broadcast;\n    watching.mal_id = malSearched.mal_id;\n    watching.img = malSearched.img;\n    watching.type = malSearched.type;\n    this.studios = malSearched.studios.join('\\n');\n  }\n\n  search(option: string, text: string, item: Watching) {\n    if ( !option ) {\n      alert('옵션을 선택해주세요.');\n      return;\n    }\n    if ( !text || text == '' ) {\n      alert('비어있습니다.');\n      return;\n    }\n\n    if ( option == 'mal_id' ) {\n      let id = parseInt(text);\n      if ( isNaN(id) ) {\n        this.flashMessage.showFlashMessage({\n          messages: ['숫자를 입력해야 합니다.'],\n          type: 'danger',\n          timeout: 3000\n        });\n        return;\n      }\n      this.loading = true;\n      this.searchService.mal(id).subscribe(result => {\n        this.loading = false;\n        if ( result.mal_id ) this.searchedToItem(item, result);\n        else {\n          this.flashMessage.showFlashMessage({\n            messages: ['존재하지 않는 ID이거나 오류가 발생했습니다.'],\n            type: 'danger',\n            timeout: 3000\n          });\n        }\n      });\n    } else {\n      const data: SendingSearchedProtocol = searchedProtocolFactory(text, option);\n      const dialogRef = this.dialog.open(SearchDialogComponent, {data: data});\n      dialogRef.afterClosed().subscribe(() => {\n        if ( data.malSearched ) {\n          this.searchedToItem(item, data.malSearched);\n        }\n      });\n    }\n  }\n\n  closeEdit(_id?: string) {\n    if ( _id ) this.watchingMap.get(_id).modifying = null;\n    this.writing = null;\n    this.studios = '';\n  }\n\n  private closeAllEdit() {\n    for (let arr of [ this.airings, this.ends ]) {\n      for (let item of arr) {\n        if ( item.modifying ) {\n          this.closeEdit(item._id);\n          return;\n        }\n      }\n    }\n    this.closeEdit();\n  }\n\n  findOhliId(watching: Watching) {\n    if ( !watching.title.kor || watching.title.kor == '' ) {\n      alert('한글 제목이 비어있습니다.');\n      return;\n    }\n    const data: SendingOhliProtocol = {title: watching.title.kor, ohli_id: null};\n    const dialogRef = this.dialog.open(OhliDialogComponent, {data: data});\n    dialogRef.afterClosed().subscribe(() => watching.ohli_id = data.ohli_id);\n  }\n\n  removeOhliId(watching: Watching) {\n    watching.ohli_id = null;\n  }\n\n  modify(_id: string) {\n    this.closeAllEdit();\n    this.watchingMap.get(_id).opened = false;\n    this.watchingMap.get(_id).modifying = cloneObject(this.watchingMap.get(_id), ['videos', 'subtitles']);\n    this.studios = this.watchingMap.get(_id).studios.join('\\n');\n  }\n\n  onModifySubmit(_id: string, i: number, isAiring: boolean) {\n    if ( !confirm('저장하시겠습니까?') ) return;\n    if ( !isOK(this.watchingMap.get(_id).modifying, ['memo']) || !isOK(this.studios) ) return notOK(['빈 필드가 있습니다.']);\n    let watching: Watching = this.watchingMap.get(_id).modifying;\n    watching.studios = this.studios.trim().split('\\n');\n    this.watchingService.modifyWatching(watching).subscribe(result => {\n      if ( result._id ) {\n        this.watchingMap.delete(_id);\n        this.watchingMap.set(_id, watching);\n        (isAiring ? this.airings : this.ends)[i] = watching;\n        this.click(_id);\n      } else {\n        alert('오류가 발생하였습니다.');\n        this.flashMessage.showFlashMessage({\n          messages: ['오류가 발생하였습니다.'],\n          type: 'danger',\n          timeout: 3000\n        });\n      }\n    });\n  }\n\n  write() {\n    let date = new Date();\n    let year = date.getFullYear();\n    let qtr = Math.floor((date.getMonth() + 4) / 3);\n    this.closeAllEdit();\n    this.writing = {\n      title: {\n        kor: '',\n        eng: '',\n        jpn: '',\n        rv: 'kor'\n      },\n      premiered: {\n        year: year,\n        quarter: qtr\n      },\n      broadcast: undefined,\n      type: 'tva',\n      memo: '',\n      mal_id: 0,\n      img: '',\n      aired: '',\n      studios: []\n    };\n  }\n\n  onWriteSubmit() {\n    if ( !isOK(this.writing, ['memo', 'ohli_id', '_id', 'modifying', 'opened']) || !isOK(this.studios) ) return notOK(['빈 필드가 있습니다.']);\n\n    this.writing.studios = this.studios.trim().split('\\n');\n    this.watchingService.addWatching(this.writing).subscribe(result => {\n      if ( result._id ) {\n        this.watchingMap.set(result._id, result);\n        if ( result.ohli_id ) {\n          this.airings.push(result);\n          this.align(0);\n        } else {\n          this.ends.push(result);\n          this.align(1);\n        }\n        alert('추가되었습니다.');\n        this.writing = null;\n        this.click(result._id);\n        let el = document.getElementById(result._id);\n        try { el.scrollIntoView() } catch(e) {}\n\n        if ( this.plan_id ) {\n          this.planService.remove(this.plan_id).subscribe(err => {\n            if ( err ) alert('원래의 목록에서 지우던 도중 오류가 발생하였습니다.');\n            else this.plan_id = null;\n          });\n        }\n\n      } else {\n        alert('오류가 발생하였습니다.');\n        this.flashMessage.showFlashMessage({\n          messages: ['오류가 발생하였습니다.'],\n          type: 'danger',\n          timeout: 3000\n        });\n      }\n    });\n  }\n\n  remove(_id: string, i: number, isAiring: boolean) {\n    if ( !confirm('삭제하시겠습니까?') ) return;\n    this.watchingService.removeWatching(_id).subscribe(err => {\n      if ( err ) {\n        this.flashMessage.showFlashMessage({\n          messages: ['오류가 발생하였습니다.'],\n          type: 'danger',\n          timeout: 3000\n        });\n        return false;\n      } else {\n        this.watchingMap.delete(_id);\n        (isAiring ? this.airings : this.ends).splice(i, 1);\n      }\n    });\n  }\n\n  openAll() {\n    this.watchingMap.forEach((value, key) => {\n      if ( !value.opened ) this.click(key);\n    });\n  }\n\n  closeAll() {\n    this.watchingMap.forEach((value, key) => {\n      if ( value.opened ) this.click(key);\n    });\n  }\n\n  getToday(): string {\n    let date = new Date();\n    return `${date.getFullYear()}년 ${date.getMonth()+1}월 ${date.getDate()}일`;\n  }\n\n  getDate(dateString: string): string {\n    let today = new Date();\n    let given = new Date(dateString);\n\n    if ( given.getMonth() == today.getMonth() && given.getDate() == today.getDate() )\n      return dateString.substring(11);\n    else\n      return `${given.getMonth()+1}/${given.getDate()}`;\n  }\n\n  getDay(broadcast: Broadcast): string {\n    const f = (n: number): string => { return n >= 10 ? `${n}` : `0${n}` };\n    return `${this.days[broadcast.day]} ${f(broadcast.hour)}:${f(broadcast.minute)}`;\n  }\n\n  getSize(size: number): string {\n    const dividedSize = Math.round(size / 1024 / 1024);\n    if ( dividedSize >= 1000 ) return (dividedSize / 1024).toFixed(2) + 'GB';\n    else return dividedSize + 'MB';\n  }\n\n  findByStudio(studio: string) {\n    this.dialog.open(StudioDialogComponent, {data: studio});\n  }\n\n  openTodayAiring() {\n    this.closeAll();\n    const today = new Date();\n    const broadcast: Broadcast = {\n      day: today.getDay(),\n      hour: today.getHours(),\n      minute: today.getMinutes()\n    };\n    let flag: boolean = false;\n    for (let airing of this.airings) {\n      if ( !airing.broadcast ) continue;\n      else if ( broadcast.day == airing.broadcast.day ) {\n        if ( broadcast.hour > airing.broadcast.hour || (broadcast.hour == airing.broadcast.hour && broadcast.minute >= airing.broadcast.minute) ) {\n          this.click(airing._id);\n          flag = true;\n        }\n      } else if ( (broadcast.day + 6) % 7 == airing.broadcast.day ) {\n        if ( broadcast.hour < airing.broadcast.hour || (broadcast.hour == airing.broadcast.hour && broadcast.minute <= airing.broadcast.minute ) ) {\n          this.click(airing._id);\n          flag = true;\n        }\n      }\n    }\n\n    if ( !flag ) {\n      this.flashMessage.showFlashMessage({\n        messages: [`24시간 이내 방영 항목이 없습니다.`],\n        type: 'danger',\n        timeout: 3000\n      });\n    }\n  }\n\n  findVideosAndSubtitles(item: Watching) {\n    this.dialog.open(EndedDialogComponent, {data: {\n      title: item.title,\n      mal_id: item.mal_id,\n      img: item.img\n    }});\n  }\n\n}\n","import { Injectable } from '@angular/core';\r\nimport { HttpRequest, HttpHandler, HttpEvent, HttpInterceptor } from '@angular/common/http';\r\nimport { Observable } from 'rxjs';\r\n\r\n@Injectable()\r\nexport class ContentTypeInterceptor implements HttpInterceptor {\r\n    constructor() { }\r\n\r\n    intercept(request: HttpRequest<any>, next: HttpHandler): Observable<HttpEvent<any>> {\r\n        request = request.clone({\r\n            setHeaders: {\r\n                'Content-Type': 'application/json'\r\n            }\r\n        });\r\n\r\n        return next.handle(request);\r\n    }\r\n}\r\n","export abstract class HeaderAlign<T> {\r\n    private items: T[][];\r\n    alignedAs: number[];\r\n    alignments: number[][] = [];\r\n\r\n    constructor(alignedAs: number[], alignmentsCounts: number[]) {\r\n        this.alignedAs = alignedAs;\r\n        for (let i=0; i<alignmentsCounts.length; i++) {\r\n            let arr: number[] = [];\r\n            for (let j=0; j<alignmentsCounts[i]; j++) arr.push(1);\r\n            this.alignments.push(arr);\r\n        }\r\n    }\r\n\r\n    protected setItems(items: T[][]) {\r\n        this.items = items;\r\n    }\r\n\r\n    protected setAlignments(alignmentsCounts: number[]) {\r\n        this.alignments = [];\r\n        for (let i=0; i<alignmentsCounts.length; i++) {\r\n            let arr: number[] = [];\r\n            for (let j=0; j<alignmentsCounts[i]; j++) arr.push(1);\r\n            this.alignments.push(arr);\r\n        }\r\n    }\r\n\r\n    protected abstract getAlignment(standard: number, num?: number): (a: T, b: T) => number;\r\n    \r\n    align(num?: number, standard?: number) {\r\n        let numIsNotSet: boolean;\r\n        if ( numIsNotSet = (num == undefined) ) num = 0;\r\n        if ( standard ) this.alignedAs[num] = standard;\r\n        if ( numIsNotSet ) this.items[num].sort(this.getAlignment(this.alignedAs[num]));\r\n        else this.items[num].sort(this.getAlignment(this.alignedAs[num], num));\r\n        this.alignments[num][this.alignedAs[num]] *= -1;\r\n    }\r\n\r\n    alignAll(standards?: number[]) {\r\n        for (let [i, standard] of (standards ? standards : this.alignedAs).entries()) {\r\n            this.align(i, standard);\r\n        }\r\n    }\r\n\r\n}\r\n","export class Item {\r\n    _id?: string;\r\n    opened?: any;\r\n    modifying?: any;\r\n}\r\n\r\nexport interface ItemTitle {\r\n    kor: string,\r\n    eng: string,\r\n    jpn: string,\r\n    rv: string\r\n}\r\n\r\nexport function cloneObject(obj: any, excepts?: string[]): any {\r\n    let clone = {};\r\n    for (let key in obj) {\r\n        if ( excepts ) if ( excepts.includes(key) ) continue;\r\n        if ( typeof obj[key] == 'object' && obj[key] != null ) {\r\n            if ( Array.isArray(obj[key]) ) {\r\n                let arr = [];\r\n                for (let each of obj[key]) {\r\n                    if ( typeof each == 'object' ) arr.push(cloneObject(each));\r\n                    else arr.push(each);\r\n                }\r\n                clone[key] = arr;\r\n            } else clone[key] = cloneObject(obj[key]);\r\n\r\n        } else clone[key] = obj[key];\r\n    }\r\n    return clone;\r\n}\r\n\r\nfunction isValid(s: string | number): boolean { return !(s == null || s === ''); }\r\n\r\nexport function isOK(obj: any, excepts?: string[]): boolean {\r\n    if ( typeof obj != 'object' ) {\r\n        if ( !isValid(obj) ) return false;\r\n    } else {\r\n        for (let key in obj) {\r\n            if ( excepts ) if ( excepts.includes(key) ) continue;\r\n            if ( typeof obj[key] != 'object' ) {\r\n                if ( !isOK(obj[key]) ) return false;\r\n            } else if ( Array.isArray(obj[key]) ) {\r\n                for (let each of obj[key]) if ( !isOK(each) ) return false;\r\n            } else {\r\n                if ( !isOK(obj[key]) ) return false;\r\n            }\r\n        }\r\n    }\r\n    return true;\r\n}\r\n\r\nexport function notOK(messages?: string[]) {\r\n    this.flashMessage.showFlashMessage({\r\n        messages: messages ? messages : ['비어있는 필드가 있습니다.'],\r\n        type: 'danger',\r\n        timeout: 3000});\r\n}\r\n","export class Searched {\r\n    type: string;\r\n    title: string;\r\n    title_kor: string;\r\n    mal_id: number;\r\n    img: string;\r\n    premiered: {\r\n        year: number,\r\n        quarter: number\r\n    };\r\n}\r\n\r\nexport class MalSearched {\r\n    type: string;\r\n    title: {\r\n        kor: string,\r\n        eng: string,\r\n        jpn: string\r\n    };\r\n    premiered: {\r\n        year: number,\r\n        quarter: number\r\n    };\r\n    aired: {\r\n        start: string,\r\n        end: string\r\n    };\r\n    broadcast: Broadcast;\r\n    episodes: number; // can be null when it is a movie\r\n    studios: string[];\r\n    mal_id: number;\r\n    img: string;\r\n}\r\n\r\nexport interface Broadcast {\r\n    day: number,\r\n    hour: number,\r\n    minute: number\r\n}\r\n  \r\nexport interface SendingSearchedProtocol {\r\n    search: {\r\n        text: string,\r\n        option: string\r\n    },\r\n    malSearched: MalSearched\r\n}\r\n\r\nexport function searchedProtocolFactory(text: string, option: string): SendingSearchedProtocol {\r\n    return {\r\n        search: {text: text, option: option},\r\n        malSearched: null\r\n    };\r\n}\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\nimport { DomSanitizer } from '@angular/platform-browser';\r\n\r\n@Pipe({\r\n  name: 'safeHtml'\r\n})\r\nexport class SafeHtml implements PipeTransform {\r\n  constructor(\r\n    private dom: DomSanitizer\r\n  ) { }\r\n\r\n  transform(value: string, args) {\r\n    return this.dom.bypassSecurityTrustHtml(value);\r\n  }\r\n\r\n}\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\nimport { DomSanitizer } from '@angular/platform-browser';\r\n\r\n@Pipe({\r\n    name: 'safeUrl'\r\n})\r\nexport class SafeUrl implements PipeTransform {\r\n    constructor(\r\n      private dom: DomSanitizer\r\n    ) { }\r\n  \r\n    transform(value: string, args) {\r\n      return this.dom.bypassSecurityTrustResourceUrl(value);\r\n    }\r\n  \r\n}\r\n","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { HttpClient } from '@angular/common/http';\n\nimport { Movie } from 'src/app/models/movie';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class MovieService {\n\n  constructor(\n    private http: HttpClient\n  ) { }\n\n  getMovies(): Observable<Movie[]> {\n    return this.http.get<Movie[]>('/api/movies').pipe();\n  }\n\n  getMovie(_id: string): Observable<Movie> {\n    return this.http.get<Movie>(`/api/movies/${_id}`).pipe();\n  }\n\n  addMovie(movie: Movie): Observable<Movie> {\n    return this.http.post<Movie>('/api/movies', movie).pipe();\n  }\n\n  modifyMovie(movie: Movie): Observable<Movie> {\n    return this.http.put<Movie>(`/api/movies/${movie._id}`, movie).pipe();\n  }\n\n  removeMovie(_id: string, series: number, sequence: number): Observable<any> {\n    return this.http.delete(`/api/movies/${_id}/${series}/${sequence}`).pipe();\n  }\n\n  count(): Observable<number> {\n    return this.http.get<number>(`/api/movies/count`).pipe();\n  }\n\n  getRandom(): Observable<Movie> {\n    return this.http.get<Movie>('/api/movies/random').pipe();\n  }\n\n}\n","import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { Observable } from 'rxjs';\nimport { Plan } from '../models/plan';\nimport { IncompletionService } from '../models/incompletionService';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class PlanService implements IncompletionService {\n\n  constructor(\n    private http: HttpClient\n  ) { }\n\n  get(_id: string): Observable<Plan> { return this.getPlan(_id) }\n  remove(_id: string): Observable<any> { return this.removePlan(_id) }\n\n  getPlans(): Observable<Plan[]> {\n    return this.http.get<Plan[]>('/api/plans').pipe();\n  }\n\n  getPlan(_id: string): Observable<Plan> {\n    return this.http.get<Plan>(`/api/plans/${_id}`).pipe();\n  }\n\n  addPlan(plan: Plan): Observable<Plan> {\n    return this.http.post<Plan>('/api/plans', plan).pipe();\n  }\n\n  modifyPlan(plan: Plan): Observable<Plan> {\n    return this.http.put<Plan>(`/api/plans/${plan._id}`, plan).pipe();\n  }\n\n  removePlan(_id: string): Observable<any> {\n    return this.http.delete(`/api/plans/${_id}`).pipe();\n  }\n\n  count(): Observable<number> {\n    return this.http.get<number>(`/api/plans/count`).pipe();\n  }\n\n}\n","import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { Observable } from 'rxjs';\nimport { Searched, MalSearched } from 'src/app/models/searched';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class SearchService {\n\n  constructor(\n    private http: HttpClient\n  ) { }\n\n  search(text: string, option: string): Observable<Searched[]> {\n    return this.http.get<Searched[]>(`/api/searches/${option}/${text}`).pipe();\n  }\n\n  mal(mal_id: number): Observable<MalSearched> {\n    return this.http.get<MalSearched>(`/api/searches/mal_id/${mal_id}`).pipe();\n  }\n\n  namuwiki(text: string): string {\n    // return `/api/searches/namuwiki/${encodeURI(text)}`;\n    return `https://namu.wiki/search/${encodeURI(text)}`;\n  }\n\n  namuwiki_icon(): string {\n    return 'import_contacts';\n  }\n\n  namuwiki_label(): string {\n    return '나무위키';\n  }\n\n}\n","import { Injectable } from '@angular/core';\nimport { Title } from '@angular/platform-browser';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class TitleService {\n  private static readonly DefaultTitle = 'AnimeLog W';\n\n  constructor(\n    private titleService: Title\n  ) { }\n\n  setTitle(title: string) {\n    this.titleService.setTitle(TitleService.DefaultTitle + ' :: ' + title);\n  }\n\n  setDefaultTitle() {\n    this.titleService.setTitle(TitleService.DefaultTitle);\n  }\n\n}\n","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { HttpClient } from '@angular/common/http';\n\nimport { Tva } from 'src/app/models/tva';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class TvaService {\n\n  constructor(\n    private http: HttpClient\n  ) { }\n\n  getTvas(): Observable<Tva[]> {\n    return this.http.get<Tva[]>('/api/tvas').pipe();\n  }\n\n  getTva(_id: string): Observable<Tva> {\n    return this.http.get<Tva>(`/api/tvas/${_id}`).pipe();\n  }\n\n  addTva(tva: Tva): Observable<Tva> {\n    return this.http.post<Tva>('/api/tvas', tva).pipe();\n  }\n\n  modifyTva(tva: Tva): Observable<Tva | any> {\n    return this.http.put<Tva | any>(`/api/tvas/${tva._id}`, tva).pipe();\n  }\n\n  removeTva(_id: string, series: number, sequence: number): Observable<any> {\n    return this.http.delete(`/api/tvas/${_id}/${series}/${sequence}`).pipe();\n  }\n\n  count(): Observable<number> {\n    return this.http.get<number>(`/api/tvas/count`).pipe();\n  }\n\n  getRandom(): Observable<Tva> {\n    return this.http.get<Tva>('/api/tvas/random').pipe();\n  }\n\n}\n","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { HttpClient } from '@angular/common/http';\nimport { Watching, WatchingVideo, WatchingSubtitle, Ohys } from 'src/app/models/watching';\nimport { Ohli } from '../models/ohli';\nimport { IncompletionService } from '../models/incompletionService';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class WatchingService implements IncompletionService {\n\n  constructor(\n    private http: HttpClient\n  ) { }\n\n  get(_id: string): Observable<Watching> { return this.getWatching(_id) }\n  remove(_id: string): Observable<Watching> { return this.removeWatching(_id) }\n\n  getWatchings(): Observable<Watching[]> {\n    return this.http.get<Watching[]>('/api/watchings').pipe();\n  }\n\n  getWatching(_id: string): Observable<Watching> {\n    return this.http.get<Watching>(`/api/watchings/${_id}`).pipe();\n  }\n\n  addWatching(watching: Watching): Observable<Watching> {\n    return this.http.post<Watching>('/api/watchings', watching).pipe();\n  }\n\n  modifyWatching(watching: Watching): Observable<Watching> {\n    return this.http.put<Watching>(`/api/watchings/${watching._id}`, watching).pipe();\n  }\n\n  removeWatching(_id: string): Observable<any> {\n    return this.http.delete(`/api/watchings/${_id}`).pipe();\n  }\n\n  /**\n   * @param year year when the animation ended, it is not needed when it is being aired\n   */\n  ohli(title: string, year?: number): Observable<Ohli[]> {\n    return this.http.get<Ohli[]>(year ? `/api/watchings/ohlis/${year}/${title}` : `/api/watchings/ohlis/airing/${title}`).pipe();\n  }\n\n  getVideos(title: string): Observable<WatchingVideo[]> {\n    return this.http.get<WatchingVideo[]>(`/api/watchings/airing/videos/${title}`).pipe();\n  }\n\n  getOhys(title: string): Observable<Ohys[]> {\n    return this.http.get<Ohys[]>(`/api/watchings/airing/ohys/${title}`).pipe();\n  }\n\n  getSubtitles(ohli_id: number): Observable<WatchingSubtitle[]> {\n    return this.http.get<WatchingSubtitle[]>(`/api/watchings/airing/subtitles/${ohli_id}`).pipe();\n  }\n\n  count(): Observable<number> {\n    return this.http.get<number>(`/api/watchings/count`).pipe();\n  }\n\n  getRandom(): Observable<Watching> {\n    return this.http.get<Watching>('/api/watchings/random').pipe();\n  }\n\n}\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nimport 'hammerjs';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n"],"sourceRoot":""}