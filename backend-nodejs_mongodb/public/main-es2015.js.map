{"version":3,"sources":["./$_lazy_route_resource lazy namespace object","./src/app/app.component.html","./src/app/components/dialogs/ended-dialog/ended-dialog.component.html","./src/app/components/dialogs/ohli-dialog/ohli-dialog.component.html","./src/app/components/dialogs/search-dialog/search-dialog.component.html","./src/app/components/dialogs/studio-dialog/studio-dialog.component.html","./src/app/components/dialogs/text-field-dialog/text-field-dialog.component.html","./src/app/components/home/home.component.html","./src/app/components/movie/movie.component.html","./src/app/components/no-page/no-page.component.html","./src/app/components/plan/plan.component.html","./src/app/components/tva/tva.component.html","./src/app/components/watching/watching.component.html","./node_modules/tslib/tslib.es6.js","./src/app/app-routing.module.ts","./src/app/app.component.css","./src/app/app.component.ts","./src/app/app.module.ts","./src/app/components/dialogs/ended-dialog/ended-dialog.component.css","./src/app/components/dialogs/ended-dialog/ended-dialog.component.ts","./src/app/components/dialogs/ohli-dialog/ohli-dialog.component.css","./src/app/components/dialogs/ohli-dialog/ohli-dialog.component.ts","./src/app/components/dialogs/search-dialog/search-dialog.component.css","./src/app/components/dialogs/search-dialog/search-dialog.component.ts","./src/app/components/dialogs/studio-dialog/studio-dialog.component.css","./src/app/components/dialogs/studio-dialog/studio-dialog.component.ts","./src/app/components/dialogs/text-field-dialog/text-field-dialog.component.css","./src/app/components/dialogs/text-field-dialog/text-field-dialog.component.ts","./src/app/components/home/home.component.css","./src/app/components/home/home.component.model.ts","./src/app/components/home/home.component.ts","./src/app/components/movie/movie.component.css","./src/app/components/movie/movie.component.ts","./src/app/components/no-page/no-page.component.css","./src/app/components/no-page/no-page.component.ts","./src/app/components/plan/plan.component.css","./src/app/components/plan/plan.component.ts","./src/app/components/tva/tva.component.css","./src/app/components/tva/tva.component.ts","./src/app/components/watching/watching.component.css","./src/app/components/watching/watching.component.ts","./src/app/interceptors/content.type.interceptor.ts","./src/app/models/headerAlign.ts","./src/app/models/item.ts","./src/app/models/searched.ts","./src/app/pipes/safe.html.ts","./src/app/pipes/safe.url.ts","./src/app/services/movie.service.ts","./src/app/services/plan.service.ts","./src/app/services/search.service.ts","./src/app/services/title.service.ts","./src/app/services/tva.service.ts","./src/app/services/watching.service.ts","./src/environments/environment.ts","./src/main.ts"],"names":[],"mappings":"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","file":"main-es2015.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./$$_lazy_route_resource lazy recursive\";","export default \"<table id=\\\"scroll-button\\\">\\r\\n    <tr>\\r\\n        <td class=\\\"clickable\\\" (click)=\\\"scrollUp()\\\"><mat-icon>keyboard_arrow_up</mat-icon></td>\\r\\n    </tr>\\r\\n    <tr>\\r\\n        <td class=\\\"clickable\\\" (click)=\\\"scrollDown()\\\"><mat-icon>keyboard_arrow_down</mat-icon></td>\\r\\n    </tr>\\r\\n</table>\\r\\n\\r\\n<nav class=\\\"navbar navbar-expand-lg navbar-light bg-light rounded navbar-fixed-top mdl-shadow--2dp\\\">\\r\\n    <a class=\\\"navbar-brand\\\" routerLink=\\\"/\\\">AnimeLog W</a>\\r\\n    <button class=\\\"navbar-toggler\\\" type=\\\"button\\\" data-toggle=\\\"collapse\\\" data-target=\\\"#navbar\\\" aria-controls=\\\"navbar\\\" aria-expanded=\\\"false\\\" aria-label=\\\"Toggle navigation\\\">\\r\\n        <span class=\\\"navbar-toggler-icon\\\"></span>\\r\\n    </button>\\r\\n\\r\\n    <div class=\\\"collapse navbar-collapse\\\" id=\\\"navbar\\\">\\r\\n        <ul></ul>\\r\\n        <nav mat-tab-nav-bar>\\r\\n            <a mat-tab-link\\r\\n                class=\\\"mat-tabs\\\"\\r\\n                *ngFor=\\\"let link of navLinks\\\"\\r\\n                [routerLink]=\\\"link.path\\\"\\r\\n                routerLinkActive #rla=\\\"routerLinkActive\\\"\\r\\n                [active]=\\\"rla.isActive\\\">\\r\\n                {{link.label}}\\r\\n            </a>\\r\\n        </nav>\\r\\n    </div>\\r\\n</nav>\\r\\n<ng-flash-message></ng-flash-message>\\r\\n\\r\\n<div id=\\\"main-part\\\" class=\\\"bg-dark\\\">\\r\\n    <div *ngIf=\\\"router.url != '/'\\\">\\r\\n        <br><br><br><br>\\r\\n    </div>\\r\\n    <main role=\\\"main\\\">\\r\\n        <router-outlet></router-outlet>\\r\\n    </main>\\r\\n    <br><br><br>\\r\\n</div>\\r\\n\\r\\n<footer class=\\\"text-muted py-5 bg-secondary\\\" id=\\\"footer\\\">\\r\\n    <div class=\\\"container\\\">\\r\\n        <p><b>Powered by ParkJH</b></p><br>\\r\\n        <div class=\\\"row\\\">\\r\\n            <div class=\\\"col-sm\\\">\\r\\n                <p><b>MEAN Stack</b></p>\\r\\n                <p><a target=\\\"_blank\\\" href=\\\"https://www.mongodb.com\\\">MongoDB</a></p>\\r\\n                <p><a target=\\\"_blank\\\" href=\\\"https://expressjs.com/ko/\\\">Express</a></p>\\r\\n                <p><a target=\\\"_blank\\\" href=\\\"https://angular.kr/\\\">Angular</a></p>\\r\\n                <p><a target=\\\"_blank\\\" href=\\\"https://nodejs.org/ko/\\\">Node.js</a></p>\\r\\n                <p><a target=\\\"_blank\\\" href=\\\"https://github.com/theta14/AnimeLog_w.git\\\">Github</a></p>\\r\\n            </div>\\r\\n            <div class=\\\"col-sm\\\">\\r\\n                <p><b>CSS</b></p>\\r\\n                <p><a target=\\\"_blank\\\" href=\\\"https://getbootstrap.com/\\\">Bootstrap</a></p>\\r\\n                <p><a target=\\\"_blank\\\" href=\\\"https://material.angular.io/\\\">Angular Material</a></p>\\r\\n                <p><a target=\\\"_blank\\\" href=\\\"https://getmdl.io/\\\">Material Design Lite</a></p>\\r\\n                <p><a target=\\\"_blank\\\" href=\\\"https://material.io/resources/icons/?style=baseline\\\">Material Icons</a></p>\\r\\n                <p><a target=\\\"_blank\\\" href=\\\"https://www.svgbackgrounds.com/\\\">SVG Backgrounds</a></p>\\r\\n            </div>\\r\\n            <div class=\\\"col-sm\\\">\\r\\n                <p><b>Resources</b></p>\\r\\n                <p><a target=\\\"_blank\\\" href=\\\"https://myanimelist.net/\\\">MyAnimeList</a></p>\\r\\n                <p><a target=\\\"_blank\\\" href=\\\"http://onnada.com/\\\">Onnada</a></p>\\r\\n                <p><a target=\\\"_blank\\\" href=\\\"https://nyaa.si/\\\">Nyaa</a></p>\\r\\n                <p><a target=\\\"_blank\\\" href=\\\"http://raws.ohys.net/t/\\\">Ohys</a></p>\\r\\n                <p><a target=\\\"_blank\\\" href=\\\"https://ohli.moe/\\\">OHLI</a></p>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</footer>\\r\\n\"","export default \"<h2 mat-dialog-title>{{data.title[data.title.rv]}}</h2>\\r\\n<div mat-dialog-content *ngIf=\\\"!year\\\">\\r\\n  <mat-spinner></mat-spinner><br>\\r\\n  필요한 정보를 불러오는 중...\\r\\n</div>\\r\\n<div mat-dialog-content *ngIf=\\\"year\\\">\\r\\n\\r\\n  <div class=\\\"container\\\">\\r\\n    <table class=\\\"table table-borderless\\\" style=\\\"width: 65%; margin: auto;\\\">\\r\\n      <tr>\\r\\n        <td style=\\\"text-align: center;\\\">\\r\\n          <img [src]=\\\"data.img\\\">\\r\\n        </td>\\r\\n        <td style=\\\"text-align: center; vertical-align: middle;\\\">\\r\\n          <button mat-stroked-button (click)=\\\"findOhliId()\\\">자막 찾기</button><br><br>\\r\\n          <a mat-stroked-button [href]=\\\"'https://www.google.com/search?q=' + data.title.kor + ' 토렌트'\\\" target=\\\"_blank\\\" class=\\\"btn-link\\\">구글 검색</a>\\r\\n        </td>\\r\\n      </tr>\\r\\n    </table>\\r\\n\\r\\n    <br>\\r\\n  \\r\\n    <table class=\\\"table\\\">\\r\\n      <caption>Nyaa</caption>\\r\\n      <tr *ngIf=\\\"!videos\\\">\\r\\n        <td colspan=\\\"4\\\">\\r\\n          <mat-progress-bar mode=\\\"indeterminate\\\"></mat-progress-bar>\\r\\n        </td>\\r\\n      </tr>\\r\\n      <ng-container *ngIf=\\\"videos\\\">\\r\\n        <tr *ngFor=\\\"let video of videos\\\">\\r\\n          <td>{{getDate(video.date)}}</td>\\r\\n          <td>{{video.name}}</td>\\r\\n          <td>{{getSize(video.size)}}</td>\\r\\n          <td>\\r\\n            <a [href]=\\\"video.magnet | safeUrl\\\" class=\\\"download-link\\\">▶</a>\\r\\n          </td>\\r\\n        </tr>\\r\\n      </ng-container>\\r\\n    </table>\\r\\n  \\r\\n    <hr><br>\\r\\n  \\r\\n    <table class=\\\"table\\\">\\r\\n      <caption>Ohys</caption>\\r\\n      <tr *ngIf=\\\"!ohyses\\\">\\r\\n        <td colspan=\\\"2\\\">\\r\\n          <mat-progress-bar mode=\\\"indeterminate\\\"></mat-progress-bar>\\r\\n        </td>\\r\\n      </tr>\\r\\n      <ng-container *ngIf=\\\"ohyses\\\">\\r\\n        <tr *ngFor=\\\"let ohys of ohyses\\\">\\r\\n          <td>{{ohys.name}}</td>\\r\\n          <td>\\r\\n            <a [href]=\\\"ohys.link\\\" class=\\\"download-link\\\" download>▶</a>\\r\\n          </td>\\r\\n        </tr>\\r\\n      </ng-container>\\r\\n    </table>\\r\\n  \\r\\n    <hr><br>\\r\\n  \\r\\n    <table class=\\\"table\\\">\\r\\n      <caption>OHLI</caption>\\r\\n      <tr *ngIf=\\\"!subtitles\\\">\\r\\n        <td colspan=\\\"4\\\">\\r\\n          <mat-progress-bar mode=\\\"indeterminate\\\"></mat-progress-bar>\\r\\n        </td>\\r\\n      </tr>\\r\\n      <ng-container *ngIf=\\\"subtitles\\\">\\r\\n        <tr *ngFor=\\\"let subtitle of subtitles\\\">\\r\\n          <td>{{getDate(subtitle.date)}}</td>\\r\\n          <td>제{{subtitle.episode}}화</td>\\r\\n          <td>{{subtitle.by}}</td>\\r\\n          <td><a class=\\\"download-link\\\" [href]=\\\"subtitle.link\\\" target=\\\"_blank\\\">페이지로 이동</a></td>\\r\\n        </tr>\\r\\n      </ng-container>\\r\\n    </table>\\r\\n\\r\\n  </div>\\r\\n\\r\\n</div>\\r\\n<div mat-dialog-actions>\\r\\n  <button mat-button tabindex=\\\"-1\\\" (click)=\\\"onClose()\\\">닫기</button>\\r\\n</div>\\r\\n\"","export default \"<h2 mat-dialog-title *ngIf=\\\"!loading\\\">[ {{data.title}} ] 검색 결과</h2>\\r\\n<div mat-dialog-content>\\r\\n  \\r\\n  <div *ngIf=\\\"loading\\\" style=\\\"text-align: center;\\\">\\r\\n    <mat-spinner></mat-spinner><br>\\r\\n    결과를 가져오는 중...\\r\\n  </div>\\r\\n  <div class=\\\"container\\\" *ngIf=\\\"!loading\\\">\\r\\n    <ng-container *ngFor=\\\"let ohli of ohlis; index as i\\\">\\r\\n      <table class=\\\"table\\\">\\r\\n        <tr>\\r\\n          <td style=\\\"text-align: center; vertical-align: middle;\\\" rowspan=\\\"4\\\">\\r\\n            <img [src]=\\\"ohli.img\\\">\\r\\n          </td>\\r\\n          <th>OHLI</th>\\r\\n          <td>{{ohli.id}}</td>\\r\\n        </tr>\\r\\n        <tr>\\r\\n          <th>제목</th>\\r\\n          <td>{{ohli.title}}</td>\\r\\n        </tr>\\r\\n        <tr>\\r\\n          <th>방영 시작일</th>\\r\\n          <td>{{ohli.aired}}</td>\\r\\n        </tr>\\r\\n        <tr>\\r\\n          <td colspan=\\\"2\\\" style=\\\"text-align: center;\\\">\\r\\n            <button (click)=\\\"selectItem(i)\\\" mat-button>선택</button>\\r\\n          </td>\\r\\n        </tr>\\r\\n      </table>\\r\\n    </ng-container>\\r\\n    \\r\\n  </div>\\r\\n\\r\\n</div>\\r\\n<div mat-dialog-actions>\\r\\n  <button mat-button tabindex=\\\"-1\\\" (click)=\\\"onClose()\\\">닫기</button>\\r\\n</div>\\r\\n\"","export default \"<h2 mat-dialog-title *ngIf=\\\"!loading\\\">[ {{data.search.text}} ] 검색 결과</h2>\\r\\n<div mat-dialog-content>\\r\\n  \\r\\n  <div *ngIf=\\\"loading\\\" style=\\\"text-align: center;\\\">\\r\\n    <mat-spinner></mat-spinner><br>\\r\\n    결과를 가져오는 중...\\r\\n  </div>\\r\\n  <div class=\\\"container\\\" *ngIf=\\\"!loading\\\">\\r\\n    <ng-container *ngFor=\\\"let searched of searches; index as i\\\">\\r\\n      <table class=\\\"table\\\">\\r\\n        <tr>\\r\\n          <td style=\\\"text-align: center; vertical-align: middle;\\\" rowspan=\\\"5\\\">\\r\\n            <img [src]=\\\"searched.img\\\">\\r\\n          </td>\\r\\n          <th>타입</th>\\r\\n          <td>{{searched.type}}</td>\\r\\n        </tr>\\r\\n        <tr>\\r\\n          <th>제목</th>\\r\\n          <td>{{searched.title}}</td>\\r\\n        </tr>\\r\\n        <tr>\\r\\n          <th>방영 분기</th>\\r\\n          <td>\\r\\n            {{searched.premiered.year}}년 {{searched.premiered.quarter}}분기\\r\\n          </td>\\r\\n        </tr>\\r\\n        <tr>\\r\\n          <th>MyAnimeList</th>\\r\\n          <td>\\r\\n            <a [href]=\\\"'https://myanimelist.net/anime/' + searched.mal_id\\\" target=\\\"_blank\\\">\\r\\n              {{searched.mal_id}}\\r\\n            </a>\\r\\n          </td>\\r\\n        </tr>\\r\\n        <tr>\\r\\n          <td colspan=\\\"2\\\" style=\\\"text-align: center;\\\">\\r\\n            <button (click)=\\\"selectItem(i)\\\" mat-button>선택</button>\\r\\n          </td>\\r\\n        </tr>\\r\\n      </table>\\r\\n    </ng-container>\\r\\n    <div *ngIf=\\\"searches.length == 0\\\">\\r\\n      <p>검색결과가 없거나 에러가 발생하였습니다.</p>\\r\\n      <p><a [href]=\\\"getLink()\\\" target=\\\"_blank\\\">직접 검색해보기</a></p>\\r\\n    </div>\\r\\n    \\r\\n  </div>\\r\\n\\r\\n</div>\\r\\n<div mat-dialog-actions>\\r\\n  <button mat-button tabindex=\\\"-1\\\" (click)=\\\"onClose()\\\">닫기</button>\\r\\n</div>\\r\\n\"","export default \"<h2 mat-dialog-title>{{data}}</h2>\\r\\n<div mat-dialog-content>\\r\\n  <ul *ngIf=\\\"tvas.length > 0 || movies.length > 0\\\">\\r\\n    <li *ngIf=\\\"tvas.length > 0\\\">TVA ({{tvas.length}})\\r\\n      <ul>\\r\\n        <li *ngFor=\\\"let item of tvas; index as i\\\">\\r\\n          <hr *ngIf=\\\"yearChanged(i)\\\">\\r\\n          <a [routerLink]=\\\"getLink('tva', item)\\\" target=\\\"_blank\\\">\\r\\n            {{item.title[item.title.rv]}} <span style=\\\"font-size: 80%;\\\">({{getFormattedDate(item.date)}})</span>\\r\\n          </a>\\r\\n        </li>\\r\\n      </ul>\\r\\n    </li>\\r\\n    <br *ngIf=\\\"movies.length > 0\\\">\\r\\n    <li *ngIf=\\\"movies.length > 0\\\">극장판 ({{movies.length}})\\r\\n      <ul>\\r\\n        <li *ngFor=\\\"let item of movies\\\">\\r\\n          <a [routerLink]=\\\"getLink('movie', item)\\\" target=\\\"_blank\\\">\\r\\n            {{item.title[item.title.rv]}} <span style=\\\"font-size: 80%;\\\">({{getFormattedDate(item.date)}})</span>\\r\\n          </a>\\r\\n        </li>\\r\\n      </ul>\\r\\n    </li>\\r\\n  </ul>\\r\\n  <p *ngIf=\\\"tvas.length == 0 && movies.length == 0\\\">시청 항목이 존재하지 않습니다.</p>\\r\\n</div>\\r\\n<div mat-dialog-actions>\\r\\n  <button mat-button tabindex=\\\"-1\\\" (click)=\\\"onClose()\\\">닫기</button>\\r\\n</div>\\r\\n\"","export default \"<h2 mat-dialog-title>{{data.title}}</h2>\\r\\n<div mat-dialog-content>\\r\\n  <p>{{data.explain}}</p>\\r\\n  <mat-form-field style=\\\"width: 100%;\\\">\\r\\n    <input matInput [(ngModel)]=\\\"data.text\\\" [placeholder]=\\\"data.placeholder\\\" #_self (click)=\\\"_self.select()\\\">\\r\\n  </mat-form-field>\\r\\n</div>\\r\\n<div mat-dialog-actions>\\r\\n  <button mat-button tabindex=\\\"-1\\\" (click)=\\\"onClose()\\\">닫기</button>\\r\\n  <button mat-button tabindex=\\\"-1\\\" [mat-dialog-close]=\\\"data.text\\\" cdkFocusInitial>확인</button>\\r\\n</div>\\r\\n\"","export default \"<div id=\\\"rwCarousel\\\" class=\\\"carousel slide mdl-shadow--2dp\\\" data-ride=\\\"carousel\\\">\\r\\n\\r\\n  <ol class=\\\"carousel-indicators\\\">\\r\\n    <li data-target=\\\"#rwCarousel\\\" data-slide-to=\\\"0\\\" class=\\\"active\\\"></li>\\r\\n    <li data-target=\\\"#rwCarousel\\\" data-slide-to=\\\"1\\\"></li>\\r\\n    <li data-target=\\\"#rwCarousel\\\" data-slide-to=\\\"2\\\"></li>\\r\\n    <li data-target=\\\"#rwCarousel\\\" data-slide-to=\\\"3\\\"></li>\\r\\n  </ol>\\r\\n\\r\\n  <div class=\\\"carousel-inner\\\">\\r\\n    <div [class]=\\\"'carousel-item active bg-svg-' + backgrounds[0]\\\">\\r\\n      <div class=\\\"container\\\">\\r\\n        <div class=\\\"carousel-caption text-left\\\">\\r\\n          <h3>{{carousel[0]?.type}}</h3>\\r\\n          <h4>{{carousel[0]?.title}}</h4>\\r\\n          <p>{{carousel[0]?.content}}</p>\\r\\n          <p><a mat-flat-button [routerLink]=\\\"carousel[0]?.link\\\" role=\\\"button\\\" class=\\\"carousel-button\\\">보기</a></p>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n\\r\\n    <div [class]=\\\"'carousel-item bg-svg-' + backgrounds[1]\\\">\\r\\n      <div class=\\\"container\\\">\\r\\n        <div class=\\\"carousel-caption\\\">\\r\\n          <h3>{{carousel[1]?.type}}</h3>\\r\\n          <h4>{{carousel[1]?.title}}</h4>\\r\\n          <p>{{carousel[1]?.content}}</p>\\r\\n          <p><a mat-flat-button [routerLink]=\\\"carousel[1]?.link\\\" role=\\\"button\\\" class=\\\"carousel-button\\\">보기</a></p>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n\\r\\n    <div [class]=\\\"'carousel-item bg-svg-' + backgrounds[2]\\\">\\r\\n      <div class=\\\"container\\\">\\r\\n        <div class=\\\"carousel-caption text-right\\\">\\r\\n          <h3>{{carousel[2]?.type}}</h3>\\r\\n          <h4>{{carousel[2]?.title}}</h4>\\r\\n          <p>{{carousel[2]?.content}}</p>\\r\\n          <p><a mat-flat-button [routerLink]=\\\"carousel[2]?.link\\\" role=\\\"button\\\" class=\\\"carousel-button\\\">보기</a></p>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n\\r\\n    <div [class]=\\\"'carousel-item bg-svg-' + backgrounds[3]\\\">\\r\\n      <div class=\\\"container\\\">\\r\\n        <div class=\\\"carousel-caption\\\">\\r\\n          <h3>{{carousel[3]?.type}}</h3>\\r\\n          <h4>{{carousel[3]?.title}}</h4>\\r\\n          <p>{{carousel[3]?.content}}</p>\\r\\n          <p><a mat-flat-button [routerLink]=\\\"carousel[3]?.link\\\" role=\\\"button\\\" class=\\\"carousel-button\\\">보기</a></p>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n\\r\\n  <a class=\\\"carousel-control-prev\\\" href=\\\"#rwCarousel\\\" role=\\\"button\\\" data-slide=\\\"prev\\\">\\r\\n    <span class=\\\"carousel-control-prev-icon\\\" aria-hidden=\\\"true\\\"></span>\\r\\n    <span class=\\\"sr-only\\\">Previous</span>\\r\\n  </a>\\r\\n  <a class=\\\"carousel-control-next\\\" href=\\\"#rwCarousel\\\" role=\\\"button\\\" data-slide=\\\"next\\\">\\r\\n    <span class=\\\"carousel-control-next-icon\\\" aria-hidden=\\\"true\\\"></span>\\r\\n    <span class=\\\"sr-only\\\">Next</span>\\r\\n  </a>\\r\\n</div>\\r\\n\\r\\n<section></section>\\r\\n\\r\\n<section class=\\\"container\\\">\\r\\n  <table class=\\\"table table-dark\\\">\\r\\n    <tr>\\r\\n      <th>TVA</th>\\r\\n      <td>{{allItems?.tvas.length}}개</td>\\r\\n    </tr>\\r\\n    <tr>\\r\\n      <th>극장판</th>\\r\\n      <td>{{allItems?.movies.length}}개</td>\\r\\n    </tr>\\r\\n    <tr>\\r\\n      <th>시청 중</th>\\r\\n      <td>{{allItems?.watchings.length}}개</td>\\r\\n    </tr>\\r\\n    <tr>\\r\\n      <th>시청 예정</th>\\r\\n      <td>{{allItems?.plans.length}}개</td>\\r\\n    </tr>\\r\\n  </table>\\r\\n</section>\\r\\n\\r\\n<section class=\\\"container\\\">\\r\\n  <table class=\\\"table table-secondary\\\">\\r\\n    <tr>\\r\\n      <td>\\r\\n        <div style=\\\"margin: auto; width: 60%; color: black;\\\">\\r\\n          <mat-form-field appearance=\\\"outline\\\" style=\\\"width: 80%;\\\">\\r\\n            <mat-label>검색</mat-label>\\r\\n            <input matInput placeholder=\\\"검색어를 입력해주세요.\\\" (keyup.enter)=\\\"search(text.value)\\\" #text>\\r\\n          </mat-form-field>\\r\\n          <button mat-flat-button type=\\\"button\\\" (click)=\\\"search(text.value)\\\">\\r\\n            <mat-icon>search</mat-icon>\\r\\n          </button>\\r\\n        </div>\\r\\n      </td>\\r\\n    </tr>\\r\\n  </table>\\r\\n\\r\\n  <div *ngIf=\\\"searchedText\\\">\\r\\n    <p><b>{{searchedText}}</b> 검색결과 : {{searchedItems.tvas.length + searchedItems.movies.length + searchedItems.watchings.length + searchedItems.plans.length}}건</p>\\r\\n\\r\\n    <table class=\\\"table table-dark\\\">\\r\\n      <caption>TVA ({{searchedItems.tvas.length}}건)</caption>\\r\\n      <thead>\\r\\n        <tr>\\r\\n          <th>시리즈</th>\\r\\n          <th>제목</th>\\r\\n          <th>시즌</th>\\r\\n          <th colspan=\\\"120\\\">제작사</th>\\r\\n          <th>화수</th>\\r\\n          <th>방영분기</th>\\r\\n        </tr>\\r\\n      </thead>\\r\\n      <tbody>\\r\\n        <ng-container *ngFor=\\\"let tva of searchedItems.tvas | slice: pageEvents.tva.pageIndex * pageEvents.tva.pageSize : (pageEvents.tva.pageIndex + 1) * pageEvents.tva.pageSize; index as t\\\">\\r\\n          <tr>\\r\\n            <td><span *ngIf=\\\"tva.seriesTitle != tva.title[tva.title.rv]\\\">{{tva.seriesTitle}}</span></td>\\r\\n            <td>\\r\\n              <a [routerLink]=\\\"['/tva', tva._id, tva.series, tva.sequence]\\\" class=\\\"searched-link\\\">{{tva.title[tva.title.rv]}}</a>\\r\\n            </td>\\r\\n            <td>{{tva.season}}</td>\\r\\n            <td *ngFor=\\\"let studio of tva.studios\\\" [attr.colspan]=\\\"120 / tva.studios.length\\\">\\r\\n              <span class=\\\"clickable\\\" (click)=\\\"findByStudio(studio)\\\">{{studio}}</span>\\r\\n            </td>\\r\\n            <td>{{tva.episodes}}</td>\\r\\n            <td>'{{tva.premiered.year.toString().substring(2)}} - {{tva.premiered.quarter}}</td>\\r\\n          </tr>\\r\\n        </ng-container>\\r\\n      </tbody>\\r\\n    </table>\\r\\n\\r\\n    <mat-paginator *ngIf=\\\"searchedItems.tvas.length > pageSizeOptions[0]\\\"\\r\\n      [length]=\\\"searchedItems.tvas.length\\\"\\r\\n      [pageSize]=\\\"pageSize\\\"\\r\\n      [pageSizeOptions]=\\\"pageSizeOptions\\\"\\r\\n      (page)=\\\"pageEvents.tva = $event\\\"></mat-paginator><br><br>\\r\\n\\r\\n    <table class=\\\"table table-dark\\\">\\r\\n      <caption>극장판 ({{searchedItems.movies.length}}건)</caption>\\r\\n      <thead>\\r\\n        <tr>\\r\\n          <th>시리즈</th>\\r\\n          <th>제목</th>\\r\\n          <th>순서</th>\\r\\n          <th colspan=\\\"120\\\">제작사</th>\\r\\n          <th>개봉일</th>\\r\\n        </tr>\\r\\n      </thead>\\r\\n      <tbody>\\r\\n        <ng-container *ngFor=\\\"let movie of searchedItems.movies | slice: pageEvents.movie.pageIndex * pageEvents.movie.pageSize : (pageEvents.movie.pageIndex + 1) * pageEvents.movie.pageSize; index as m\\\">\\r\\n          <tr>\\r\\n            <td><span *ngIf=\\\"movie.seriesTitle != movie.title[movie.title.rv]\\\">{{movie.seriesTitle}}</span></td>\\r\\n            <td>\\r\\n              <a [routerLink]=\\\"['/movie', movie._id, movie.series, movie.sequence]\\\" class=\\\"searched-link\\\">{{movie.title[movie.title.rv]}}</a>\\r\\n            </td>\\r\\n            <td>{{movie.order}}</td>\\r\\n            <td *ngFor=\\\"let studio of movie.studios\\\" [attr.colspan]=\\\"120 / movie.studios.length\\\">\\r\\n              <span class=\\\"clickable\\\" (click)=\\\"findByStudio(studio)\\\">{{studio}}</span>\\r\\n            </td>\\r\\n            <td>{{movie.aired}}</td>\\r\\n          </tr>\\r\\n        </ng-container>\\r\\n      </tbody>\\r\\n    </table>\\r\\n\\r\\n    <mat-paginator *ngIf=\\\"searchedItems.movies.length > pageSizeOptions[0]\\\"\\r\\n      [length]=\\\"searchedItems.movies.length\\\"\\r\\n      [pageSize]=\\\"pageSize\\\"\\r\\n      [pageSizeOptions]=\\\"pageSizeOptions\\\"\\r\\n      (page)=\\\"pageEvents.movie = $event\\\"></mat-paginator><br><br>\\r\\n\\r\\n    <table class=\\\"table table-dark\\\">\\r\\n      <caption>시청 중인 목록 ({{searchedItems.watchings.length}}건)</caption>\\r\\n      <thead>\\r\\n        <tr>\\r\\n          <th>타입</th>\\r\\n          <th>방영중</th>\\r\\n          <th>제목</th>\\r\\n          <th colspan=\\\"120\\\">제작사</th>\\r\\n          <th>방영분기</th>\\r\\n        </tr>\\r\\n      </thead>\\r\\n      <tbody>\\r\\n        <ng-container *ngFor=\\\"let item of searchedItems.watchings | slice: pageEvents.watching.pageIndex * pageEvents.watching.pageSize : (pageEvents.watching.pageIndex + 1) * pageEvents.watching.pageSize; index as i\\\">\\r\\n          <tr>\\r\\n            <td *ngIf=\\\"item.type == 'tva'\\\">TVA</td>\\r\\n            <td *ngIf=\\\"item.type == 'movie'\\\">극장판</td>\\r\\n            <td *ngIf=\\\"item.ohli_id\\\">O</td>\\r\\n            <td *ngIf=\\\"!item.ohli_id\\\">X</td>\\r\\n            <td>\\r\\n              <a [routerLink]=\\\"['/watching', item._id]\\\" class=\\\"searched-link\\\">{{item.title[item.title.rv]}}</a>\\r\\n            </td>\\r\\n            <td *ngFor=\\\"let studio of item.studios\\\" [attr.colspan]=\\\"120 / item.studios.length\\\">\\r\\n              <span class=\\\"clickable\\\" (click)=\\\"findByStudio(studio)\\\">{{studio}}</span>\\r\\n            </td>\\r\\n            <td>'{{item.premiered.year.toString().substring(2)}} - {{item.premiered.quarter}}</td>\\r\\n          </tr>\\r\\n        </ng-container>\\r\\n      </tbody>\\r\\n    </table>\\r\\n\\r\\n    <mat-paginator *ngIf=\\\"searchedItems.watchings.length > pageSizeOptions[0]\\\"\\r\\n      [length]=\\\"searchedItems.watchings.length\\\"\\r\\n      [pageSize]=\\\"pageSize\\\"\\r\\n      [pageSizeOptions]=\\\"pageSizeOptions\\\"\\r\\n      (page)=\\\"pageEvents.watching = $event\\\"></mat-paginator><br><br>\\r\\n\\r\\n    <table class=\\\"table table-dark\\\">\\r\\n      <caption>시청 예정 목록 ({{searchedItems.plans.length}}건)</caption>\\r\\n      <thead>\\r\\n        <tr>\\r\\n          <th>타입</th>\\r\\n          <th>제목</th>\\r\\n          <th colspan=\\\"120\\\">제작사</th>\\r\\n          <th>방영분기</th>\\r\\n        </tr>\\r\\n      </thead>\\r\\n      <tbody>\\r\\n        <ng-container *ngFor=\\\"let item of searchedItems.plans | slice: pageEvents.plan.pageIndex * pageEvents.plan.pageSize : (pageEvents.plan.pageIndex + 1) * pageEvents.plan.pageSize; index as i\\\">\\r\\n          <tr>\\r\\n            <td *ngIf=\\\"item.type == 'tva'\\\">TVA</td>\\r\\n            <td *ngIf=\\\"item.type == 'movie'\\\">극장판</td>\\r\\n            <td>\\r\\n              <a [routerLink]=\\\"['/plan', item._id]\\\" class=\\\"searched-link\\\">{{item.title[item.title.rv]}}</a>\\r\\n            </td>\\r\\n            <td colspan=\\\"120\\\" *ngIf=\\\"item.studios.length == 0\\\">-</td>\\r\\n            <ng-container *ngIf=\\\"item.studios.length > 0\\\">\\r\\n              <td *ngFor=\\\"let studio of item.studios\\\" [attr.colspan]=\\\"120 / item.studios.length\\\">\\r\\n                <span class=\\\"clickable\\\" (click)=\\\"findByStudio(studio)\\\">{{studio}}</span>\\r\\n              </td>\\r\\n            </ng-container>\\r\\n            <td>{{getQuarterFromAiredDate(item.aired)}}</td>\\r\\n          </tr>\\r\\n        </ng-container>\\r\\n      </tbody>\\r\\n    </table>\\r\\n\\r\\n    <mat-paginator *ngIf=\\\"searchedItems.plans.length > pageSizeOptions[0]\\\"\\r\\n      [length]=\\\"searchedItems.plans.length\\\"\\r\\n      [pageSize]=\\\"pageSize\\\"\\r\\n      [pageSizeOptions]=\\\"pageSizeOptions\\\"\\r\\n      (page)=\\\"pageEvents.plan = $event\\\"></mat-paginator><br><br>\\r\\n  </div>\\r\\n\\r\\n</section>\\r\\n\"","export default \"<section class=\\\"container\\\">\\r\\n  <div class=\\\"border border-secondary info-area\\\">\\r\\n    <h4>극장판</h4>\\r\\n    <p>카테고리 수: {{movies?.length}}</p>\\r\\n    <p>극장판 수: {{count()}}</p>\\r\\n    <p>\\r\\n      <button mat-flat-button (click)=\\\"openAll()\\\">전체 열기</button>&nbsp;\\r\\n      <button mat-flat-button (click)=\\\"closeAll()\\\">전체 닫기</button>&nbsp;\\r\\n      <button mat-flat-button (click)=\\\"writeMovie(); writingArea.scrollIntoView()\\\">새 항목 작성</button>\\r\\n    </p>\\r\\n  </div>\\r\\n</section>\\r\\n\\r\\n<section class=\\\"container\\\">\\r\\n  <mat-progress-bar *ngIf=\\\"!movies\\\" mode=\\\"indeterminate\\\"></mat-progress-bar>\\r\\n  <table class=\\\"table table-dark\\\" *ngIf=\\\"movies\\\">\\r\\n    <thead>\\r\\n      <tr>\\r\\n        <th (click)=\\\"align(0, 0)\\\">카테고리</th>\\r\\n        <th (click)=\\\"align(0, 1)\\\">시리즈</th>\\r\\n        <th (click)=\\\"align(0, 2)\\\">제목</th>\\r\\n        <th>순서</th>\\r\\n        <th (click)=\\\"align(0, 3)\\\" colspan=\\\"120\\\">제작사</th>\\r\\n        <th (click)=\\\"align(0, 4)\\\">개봉일</th>\\r\\n      </tr>\\r\\n    </thead>\\r\\n    <tbody>\\r\\n      <ng-container *ngFor=\\\"let movie of movies; index as m\\\">\\r\\n\\r\\n        <ng-container *ngFor=\\\"let series of movie.series; index as i\\\">\\r\\n          <ng-container *ngFor=\\\"let sequence of series.sequences; index as j\\\">\\r\\n            <tr [attr.id]=\\\"movie._id\\\">\\r\\n              <td *ngIf=\\\"movie.series.length > 1 && i == 0 && j == 0\\\" [attr.rowspan]=\\\"allElementsLength(m)\\\"\\r\\n                class=\\\"table-category\\\" style=\\\"vertical-align: middle;\\\">{{movie.category}}</td>\\r\\n              <td *ngIf=\\\"movie.series.length > 1 && j == 0\\\" class=\\\"table-series\\\"\\r\\n                [attr.rowspan]=\\\"movie.series[i].sequences.length\\\" style=\\\"vertical-align: middle;\\\">{{series.title}}</td>\\r\\n              <td *ngIf=\\\"movie.series.length == 1 && movie.series[0].sequences.length > 1 && j == 0\\\"\\r\\n                [attr.rowspan]=\\\"movie.series[0].sequences.length\\\" colspan=\\\"2\\\" class=\\\"table-category\\\"\\r\\n                style=\\\"vertical-align: middle; text-align: center;\\\">{{movie.category}}</td>\\r\\n              <td *ngIf=\\\"movie.series.length == 1 && movie.series[0].sequences.length == 1\\\" colspan=\\\"2\\\"></td>\\r\\n              <td>\\r\\n                <span class=\\\"clickable\\\" (click)=\\\"clickMovie(m, i, j)\\\">{{sequence.title[sequence.title.rv]}}</span>\\r\\n              </td>\\r\\n              <td *ngIf=\\\"movie.series.length == 1 && movie.series[0].sequences.length == 1; else orderTemplate\\\"></td>\\r\\n              <ng-template #orderTemplate>\\r\\n                <td>{{sequence.order}}</td>\\r\\n              </ng-template>\\r\\n              <td *ngFor=\\\"let studio of sequence.studios\\\" [attr.colspan]=\\\"120 / sequence.studios.length\\\">\\r\\n                <span class=\\\"clickable\\\" (click)=\\\"findByStudio(studio)\\\">{{studio}}</span>\\r\\n              </td>\\r\\n              <td>{{sequence.aired}}</td>\\r\\n            </tr>\\r\\n            <tr *ngIf=\\\"movie.opened && i == movie.series.length-1 && j == series.sequences.length-1\\\">\\r\\n              <td colspan=\\\"125\\\" style=\\\"padding: 0px;\\\">\\r\\n\\r\\n                <!-- detail -->\\r\\n                <table class=\\\"table table-dark table-hover\\\">\\r\\n                  <tr>\\r\\n                    <td style=\\\"text-align: center; vertical-align: middle;\\\"\\r\\n                      [attr.rowspan]=\\\"11 + movie.series[movie.opened.series].sequences[movie.opened.sequence].studios.length\\\">\\r\\n                      <img [src]=\\\"movie.series[movie.opened.series].sequences[movie.opened.sequence].img\\\">\\r\\n                    </td>\\r\\n                    <th>카테고리</th>\\r\\n                    <td>\\r\\n                      <span class=\\\"clickable\\\" (click)=\\\"editCategory(m)\\\">{{movie.category}}</span>\\r\\n                    </td>\\r\\n                  </tr>\\r\\n                  <tr>\\r\\n                    <th>TVA</th>\\r\\n                    <td>\\r\\n                      <mat-progress-bar *ngIf=\\\"!movie.opened.linked\\\" mode=\\\"indeterminate\\\"></mat-progress-bar>\\r\\n                      <a *ngIf=\\\"movie.opened.linked\\\" class=\\\"detail-link\\\"\\r\\n                        [routerLink]=\\\"['/tva', movie.opened.linked._id, movie.opened.linked.series, 0]\\\">\\r\\n                        {{movie.opened.linked.title}}\\r\\n                      </a>\\r\\n                    </td>\\r\\n                  </tr>\\r\\n                  <tr>\\r\\n                    <th>시리즈 메모</th>\\r\\n                    <td>{{movie.series[movie.opened.series].memo}}</td>\\r\\n                  </tr>\\r\\n                  <tr><td></td><td></td></tr>\\r\\n                  <tr>\\r\\n                    <th rowspan=\\\"3\\\" style=\\\"vertical-align: middle;\\\">제목</th>\\r\\n                    <td *ngIf=\\\"movie.series[movie.opened.series].sequences[movie.opened.sequence].title.rv == 'kor'\\\">\\r\\n                      <b>\\r\\n                        {{movie.series[movie.opened.series].sequences[movie.opened.sequence].title.kor}}\\r\\n                      </b>\\r\\n                    </td>\\r\\n                    <td *ngIf=\\\"movie.series[movie.opened.series].sequences[movie.opened.sequence].title.rv != 'kor'\\\">\\r\\n                      {{movie.series[movie.opened.series].sequences[movie.opened.sequence].title.kor}}\\r\\n                    </td>\\r\\n                  </tr>\\r\\n                  <tr>\\r\\n                    <td *ngIf=\\\"movie.series[movie.opened.series].sequences[movie.opened.sequence].title.rv == 'eng'\\\">\\r\\n                      <b>\\r\\n                        {{movie.series[movie.opened.series].sequences[movie.opened.sequence].title.eng}}\\r\\n                      </b>\\r\\n                    </td>\\r\\n                    <td *ngIf=\\\"movie.series[movie.opened.series].sequences[movie.opened.sequence].title.rv != 'eng'\\\">\\r\\n                      {{movie.series[movie.opened.series].sequences[movie.opened.sequence].title.eng}}\\r\\n                    </td>\\r\\n                  </tr>\\r\\n                  <tr>\\r\\n                    <td *ngIf=\\\"movie.series[movie.opened.series].sequences[movie.opened.sequence].title.rv == 'jpn'\\\">\\r\\n                      <b>\\r\\n                        {{movie.series[movie.opened.series].sequences[movie.opened.sequence].title.jpn}}\\r\\n                      </b>\\r\\n                    </td>\\r\\n                    <td *ngIf=\\\"movie.series[movie.opened.series].sequences[movie.opened.sequence].title.rv != 'jpn'\\\">\\r\\n                      {{movie.series[movie.opened.series].sequences[movie.opened.sequence].title.jpn}}\\r\\n                    </td>\\r\\n                  </tr>\\r\\n                  <tr>\\r\\n                    <th>개봉일</th>\\r\\n                    <td>\\r\\n                      {{movie.series[movie.opened.series].sequences[movie.opened.sequence].aired}}\\r\\n                    </td>\\r\\n                  </tr>\\r\\n                  <tr *ngFor=\\\"let studio of movie.series[movie.opened.series].sequences[movie.opened.sequence].studios; index as s\\\">\\r\\n                    <th *ngIf=\\\"s == 0\\\" style=\\\"vertical-align: middle;\\\"\\r\\n                      [attr.rowspan]=\\\"movie.series[movie.opened.series].sequences[movie.opened.sequence].studios.length\\\">제작사</th>\\r\\n                    <td>\\r\\n                      <span class=\\\"clickable\\\" (click)=\\\"findByStudio(studio)\\\">{{studio}}</span>\\r\\n                    </td>\\r\\n                  </tr>\\r\\n                  <tr>\\r\\n                    <th>메모</th>\\r\\n                    <td>{{movie.series[movie.opened.series].sequences[movie.opened.sequence].memo}}</td>\\r\\n                  </tr>\\r\\n                  <tr>\\r\\n                    <th>MyAnimeList</th>\\r\\n                    <td>\\r\\n                      <a [href]=\\\"'https://myanimelist.net/anime/' + movie.series[movie.opened.series].sequences[movie.opened.sequence].mal_id\\\" target=\\\"_blank\\\" class=\\\"detail-link\\\">\\r\\n                        {{movie.series[movie.opened.series].sequences[movie.opened.sequence].mal_id}}\\r\\n                      </a>\\r\\n                    </td>\\r\\n                  </tr>\\r\\n                  <tr>\\r\\n                    <td colspan=\\\"2\\\" style=\\\"text-align: center;\\\">\\r\\n                      <a mat-button [href]=\\\"searchService.namuwiki(movie?.opened?.linked?.title)\\\" target=\\\"_blank\\\" [matTooltip]=\\\"searchService.namuwiki_label()\\\" class=\\\"no-hover-link\\\">\\r\\n                        <mat-icon>{{searchService.namuwiki_icon()}}</mat-icon>\\r\\n                      </a>\\r\\n                      <button mat-button (click)=\\\"modifyMovie(m, movie.opened.series, movie.opened.sequence)\\\" matTooltip=\\\"수정\\\">\\r\\n                        <mat-icon>create</mat-icon>\\r\\n                      </button>\\r\\n                      <button mat-button (click)=\\\"removeMovie(m, movie.opened.series, movie.opened.sequence)\\\" matTooltip=\\\"삭제\\\">\\r\\n                        <mat-icon>delete</mat-icon>\\r\\n                      </button>\\r\\n                    </td>\\r\\n                  </tr>\\r\\n                </table>\\r\\n\\r\\n              </td>\\r\\n            </tr>\\r\\n            <tr *ngIf=\\\"movie.modifying && i == movie.series.length-1 && j == series.sequences.length-1\\\">\\r\\n              <td colspan=\\\"125\\\">\\r\\n\\r\\n                <!-- modifying -->\\r\\n                <form (submit)=\\\"onModifySubmit(m, modifying.series, modifying.sequence)\\\">\\r\\n                  <table class=\\\"table table-secondary\\\" style=\\\"width: 70%; margin: auto;\\\">\\r\\n                    <tr>\\r\\n                      <th style=\\\"width: 30%;\\\">검색</th>\\r\\n                      <td>\\r\\n                        <mat-form-field class=\\\"form-item-select\\\">\\r\\n                          <mat-label>검색옵션</mat-label>\\r\\n                          <mat-select #searchOption>\\r\\n                            <mat-option value=\\\"onnada\\\">Onnada</mat-option>\\r\\n                            <mat-option value=\\\"mal\\\">MyAnimeList</mat-option>\\r\\n                            <mat-option value=\\\"mal_id\\\">MyAnimeList ID</mat-option>\\r\\n                          </mat-select>\\r\\n                        </mat-form-field>\\r\\n                        <mat-form-field appearance=\\\"outline\\\">\\r\\n                          <mat-label>검색어를 입력해주세요.</mat-label>\\r\\n                          <input matInput #searchBox (keyup.enter)=\\\"searchMovie(searchOption.value, searchBox.value, m)\\\">\\r\\n                        </mat-form-field>\\r\\n                        <button mat-flat-button type=\\\"button\\\" (click)=\\\"searchMovie(searchOption.value, searchBox.value, m)\\\">\\r\\n                          <mat-icon>search</mat-icon>\\r\\n                        </button>\\r\\n                      </td>\\r\\n                    </tr>\\r\\n                    <tr><td colspan=\\\"2\\\"><mat-progress-bar *ngIf=\\\"loading\\\" mode=\\\"indeterminate\\\"></mat-progress-bar></td></tr>\\r\\n                    <tr>\\r\\n                      <th rowspan=\\\"2\\\">TVA</th>\\r\\n                      <td>\\r\\n                        <mat-progress-bar *ngIf=\\\"!tvas\\\" mode=\\\"indeterminate\\\"></mat-progress-bar>\\r\\n                        <mat-form-field *ngIf=\\\"tvas\\\" class=\\\"form-item\\\">\\r\\n                          <mat-label>카테고리</mat-label>\\r\\n                          <mat-select [(ngModel)]=\\\"linked.idx\\\" name=\\\"tva_category\\\">\\r\\n                            <mat-option *ngFor=\\\"let tva of tvas; index as t\\\" [value]=\\\"t\\\">{{tva.category}}</mat-option>\\r\\n                          </mat-select>\\r\\n                        </mat-form-field>\\r\\n                      </td>\\r\\n                    </tr>\\r\\n                    <tr>\\r\\n                      <td>\\r\\n                        <mat-form-field *ngIf=\\\"tvas && linked\\\" class=\\\"form-item\\\">\\r\\n                          <mat-label>시리즈</mat-label>\\r\\n                          <mat-select [(ngModel)]=\\\"linked.series\\\" name=\\\"tva_series\\\" class=\\\"form-item\\\">\\r\\n                            <mat-option *ngFor=\\\"let series of tvas[linked.idx].series; index as r\\\" [value]=\\\"r\\\">{{series.title}}</mat-option>\\r\\n                          </mat-select>\\r\\n                        </mat-form-field>\\r\\n                      </td>\\r\\n                    </tr>\\r\\n                    <tr>\\r\\n                      <th>제목</th>\\r\\n                      <td>\\r\\n                        <mat-radio-group [(ngModel)]=\\\"movie.modifying.title.rv\\\" name=\\\"rv\\\">\\r\\n                          <table class=\\\"table table-borderless inner-table\\\">\\r\\n                            <tr>\\r\\n                              <th><mat-radio-button value=\\\"kor\\\">KOR</mat-radio-button></th>\\r\\n                              <td>\\r\\n                                <mat-form-field class=\\\"form-item\\\">\\r\\n                                  <input matInput placeholder=\\\"한국어 제목\\\" [(ngModel)]=\\\"movie.modifying.title.kor\\\" name=\\\"kor\\\">\\r\\n                                </mat-form-field>\\r\\n                              </td>\\r\\n                            </tr>\\r\\n                            <tr>\\r\\n                              <th><mat-radio-button value=\\\"eng\\\">ENG</mat-radio-button></th>\\r\\n                              <td>\\r\\n                                <mat-form-field class=\\\"form-item\\\">\\r\\n                                  <input matInput placeholder=\\\"알파벳 제목\\\" [(ngModel)]=\\\"movie.modifying.title.eng\\\" name=\\\"eng\\\">\\r\\n                                </mat-form-field>\\r\\n                              </td>\\r\\n                            </tr>\\r\\n                            <tr>\\r\\n                              <th><mat-radio-button value=\\\"jpn\\\">JPN</mat-radio-button></th>\\r\\n                              <td>\\r\\n                                <mat-form-field class=\\\"form-item\\\">\\r\\n                                  <input matInput placeholder=\\\"일어 제목\\\" [(ngModel)]=\\\"movie.modifying.title.jpn\\\" name=\\\"jpn\\\">\\r\\n                                </mat-form-field>\\r\\n                              </td>\\r\\n                            </tr>\\r\\n                          </table>\\r\\n                        </mat-radio-group>\\r\\n                      </td>\\r\\n                    </tr>\\r\\n                    <tr>\\r\\n                      <th>순서</th>\\r\\n                      <td>\\r\\n                        <mat-form-field>\\r\\n                          <input matInput type=\\\"number\\\" [(ngModel)]=\\\"movie.modifying.order\\\" name=\\\"order\\\" min=\\\"1\\\">\\r\\n                          <span matSuffix>번째</span>\\r\\n                        </mat-form-field>\\r\\n                      </td>\\r\\n                    </tr>\\r\\n                    <tr>\\r\\n                      <th>방영 시기</th>\\r\\n                      <td>\\r\\n                        <mat-form-field>\\r\\n                          <input matInput placeholder=\\\"개봉일\\\" [(ngModel)]=\\\"movie.modifying.aired\\\" name=\\\"aired\\\">\\r\\n                        </mat-form-field>\\r\\n                      </td>\\r\\n                    </tr>\\r\\n                    <tr>\\r\\n                      <th>제작사</th>\\r\\n                      <td>\\r\\n                        <mat-form-field class=\\\"form-item\\\">\\r\\n                          <textarea matInput placeholder=\\\"제작사\\\" [(ngModel)]=\\\"modifying.studios\\\" name=\\\"studios\\\" rows=\\\"4\\\"></textarea>\\r\\n                          <mat-hint>여러 개의 경우, 줄을 나눠서 입력해주세요.</mat-hint>\\r\\n                        </mat-form-field>\\r\\n                      </td>\\r\\n                    </tr>\\r\\n                    <tr>\\r\\n                      <th>메모</th>\\r\\n                      <td>\\r\\n                        <mat-form-field class=\\\"form-item\\\">\\r\\n                          <textarea matInput placeholder=\\\"메모\\\" [(ngModel)]=\\\"movie.modifying.memo\\\" name=\\\"memo\\\" rows=\\\"4\\\"></textarea>\\r\\n                        </mat-form-field>\\r\\n                      </td>\\r\\n                    </tr>\\r\\n                    <tr>\\r\\n                      <td colspan=\\\"2\\\" style=\\\"text-align: center;\\\">\\r\\n                        <button mat-button type=\\\"submit\\\">\\r\\n                          <mat-icon>check_circle_outline</mat-icon>\\r\\n                        </button>\\r\\n                        <button mat-button type=\\\"button\\\" (click)=\\\"cancelModify(m)\\\">\\r\\n                          <mat-icon>cancel</mat-icon>\\r\\n                        </button>\\r\\n                      </td>\\r\\n                    </tr>\\r\\n                  </table>\\r\\n                </form>\\r\\n\\r\\n              </td>\\r\\n            </tr>\\r\\n\\r\\n          </ng-container>\\r\\n        </ng-container>\\r\\n\\r\\n      </ng-container>\\r\\n    </tbody>\\r\\n  </table>\\r\\n</section>\\r\\n\\r\\n<section>\\r\\n  <div class=\\\"container\\\" id=\\\"writing-area\\\" #writingArea>\\r\\n    <table *ngIf=\\\"!writing\\\" class=\\\"table table-dark\\\">\\r\\n      <tr>\\r\\n        <td>\\r\\n          <span class=\\\"clickable\\\" (click)=\\\"writeMovie()\\\">+ 새로 작성하기</span>\\r\\n        </td>\\r\\n      </tr>\\r\\n    </table>\\r\\n    <form (submit)=\\\"onWriteSubmit()\\\" *ngIf=\\\"writing\\\">\\r\\n      <table class=\\\"table table-secondary\\\" style=\\\"width: 70%; margin: auto;\\\">\\r\\n        <tr>\\r\\n          <th style=\\\"width: 30%;\\\">검색</th>\\r\\n          <td>\\r\\n            <mat-form-field class=\\\"form-item-select\\\">\\r\\n              <mat-label>검색옵션</mat-label>\\r\\n              <mat-select #writeSearchOption>\\r\\n                <mat-option value=\\\"onnada\\\">Onnada</mat-option>\\r\\n                <mat-option value=\\\"mal\\\">MyAnimeList</mat-option>\\r\\n                <mat-option value=\\\"mal_id\\\">MyAnimeList ID</mat-option>\\r\\n              </mat-select>\\r\\n            </mat-form-field>\\r\\n            <mat-form-field appearance=\\\"outline\\\">\\r\\n              <mat-label>검색어를 입력해주세요.</mat-label>\\r\\n              <input matInput #writeSearchBox (keyup.enter)=\\\"searchMovie(writeSearchOption.value, writeSearchBox.value)\\\">\\r\\n            </mat-form-field>\\r\\n            <button mat-flat-button type=\\\"button\\\" (click)=\\\"searchMovie(writeSearchOption.value, writeSearchBox.value)\\\">\\r\\n              <mat-icon>search</mat-icon>\\r\\n            </button>\\r\\n          </td>\\r\\n        </tr>\\r\\n        <tr><td colspan=\\\"2\\\"><mat-progress-bar *ngIf=\\\"loading\\\" mode=\\\"indeterminate\\\"></mat-progress-bar></td></tr>\\r\\n        <tr>\\r\\n          <th rowspan=\\\"2\\\">TVA</th>\\r\\n          <td>\\r\\n            <mat-progress-bar *ngIf=\\\"!tvas\\\" mode=\\\"indeterminate\\\"></mat-progress-bar>\\r\\n            <mat-form-field *ngIf=\\\"tvas\\\" class=\\\"form-item\\\">\\r\\n              <mat-label>카테고리</mat-label>\\r\\n              <mat-select [(ngModel)]=\\\"linked.idx\\\" name=\\\"tva_category\\\">\\r\\n                <mat-option *ngFor=\\\"let tva of tvas; index as t\\\" [value]=\\\"t\\\">{{tva.category}}</mat-option>\\r\\n              </mat-select>\\r\\n            </mat-form-field>\\r\\n          </td>\\r\\n        </tr>\\r\\n        <tr>\\r\\n          <td>\\r\\n            <mat-form-field *ngIf=\\\"tvas && linked\\\" class=\\\"form-item\\\">\\r\\n              <mat-label>시리즈</mat-label>\\r\\n              <mat-select [(ngModel)]=\\\"linked.series\\\" name=\\\"tva_series\\\" (selectionChange)=\\\"seriesSelect()\\\">\\r\\n                <mat-option *ngFor=\\\"let series of tvas[linked.idx].series; index as r\\\" [value]=\\\"r\\\">{{series.title}}</mat-option>\\r\\n              </mat-select>\\r\\n            </mat-form-field>\\r\\n          </td>\\r\\n        </tr>\\r\\n        <tr>\\r\\n          <th>시리즈 메모</th>\\r\\n          <td>\\r\\n            <mat-form-field class=\\\"form-item\\\">\\r\\n              <textarea matInput placeholder=\\\"시리즈 메모\\\" [(ngModel)]=\\\"seriesMemo\\\" name=\\\"seriesMemo\\\" rows=\\\"4\\\"></textarea>\\r\\n            </mat-form-field>\\r\\n          </td>\\r\\n        </tr>\\r\\n        <tr>\\r\\n          <th>제목</th>\\r\\n          <td>\\r\\n            <mat-radio-group [(ngModel)]=\\\"writingMovie.title.rv\\\" name=\\\"rv\\\">\\r\\n              <table class=\\\"table table-borderless\\\">\\r\\n                <tr>\\r\\n                  <th><mat-radio-button value=\\\"kor\\\">KOR</mat-radio-button></th>\\r\\n                  <td>\\r\\n                    <mat-form-field class=\\\"form-item\\\">\\r\\n                      <input matInput placeholder=\\\"한국어 제목\\\" [(ngModel)]=\\\"writingMovie.title.kor\\\" name=\\\"kor\\\">\\r\\n                    </mat-form-field>\\r\\n                  </td>\\r\\n                </tr>\\r\\n                <tr>\\r\\n                  <th><mat-radio-button value=\\\"eng\\\">ENG</mat-radio-button></th>\\r\\n                  <td>\\r\\n                    <mat-form-field class=\\\"form-item\\\">\\r\\n                      <input matInput placeholder=\\\"알파벳 제목\\\" [(ngModel)]=\\\"writingMovie.title.eng\\\" name=\\\"eng\\\">\\r\\n                    </mat-form-field>\\r\\n                  </td>\\r\\n                </tr>\\r\\n                <tr>\\r\\n                  <th><mat-radio-button value=\\\"jpn\\\">JPN</mat-radio-button></th>\\r\\n                  <td>\\r\\n                    <mat-form-field class=\\\"form-item\\\">\\r\\n                      <input matInput placeholder=\\\"일어 제목\\\" [(ngModel)]=\\\"writingMovie.title.jpn\\\" name=\\\"jpn\\\">\\r\\n                    </mat-form-field>\\r\\n                  </td>\\r\\n                </tr>\\r\\n              </table>\\r\\n            </mat-radio-group>\\r\\n          </td>\\r\\n        </tr>\\r\\n        <tr>\\r\\n          <th>순서</th>\\r\\n          <td>\\r\\n            <mat-form-field>\\r\\n              <input matInput type=\\\"number\\\" [(ngModel)]=\\\"writingMovie.order\\\" name=\\\"order\\\" min=\\\"1\\\">\\r\\n              <span matSuffix>번째</span>\\r\\n            </mat-form-field>\\r\\n          </td>\\r\\n        </tr>\\r\\n        <tr>\\r\\n          <th>방영 시기</th>\\r\\n          <td>\\r\\n            <mat-form-field>\\r\\n              <input matInput placeholder=\\\"개봉일\\\" [(ngModel)]=\\\"writingMovie.aired\\\" name=\\\"aired\\\">\\r\\n            </mat-form-field>\\r\\n          </td>\\r\\n        </tr>\\r\\n        <tr>\\r\\n          <th>제작사</th>\\r\\n          <td>\\r\\n            <mat-form-field class=\\\"form-item\\\">\\r\\n              <textarea matInput placeholder=\\\"제작사\\\" [(ngModel)]=\\\"modifying.studios\\\" name=\\\"studios\\\" rows=\\\"4\\\"></textarea>\\r\\n              <mat-hint>여러 개의 경우, 줄을 나눠서 입력해주세요.</mat-hint>\\r\\n            </mat-form-field>\\r\\n          </td>\\r\\n        </tr>\\r\\n        <tr>\\r\\n          <th>메모</th>\\r\\n          <td>\\r\\n            <mat-form-field class=\\\"form-item\\\">\\r\\n              <textarea matInput placeholder=\\\"메모\\\" [(ngModel)]=\\\"writingMovie.memo\\\" name=\\\"memo\\\" rows=\\\"4\\\"></textarea>\\r\\n            </mat-form-field>\\r\\n          </td>\\r\\n        </tr>\\r\\n        <tr>\\r\\n          <td colspan=\\\"2\\\" style=\\\"text-align: center;\\\">\\r\\n            <button mat-button type=\\\"submit\\\">\\r\\n              <mat-icon>check_circle_outline</mat-icon>\\r\\n            </button>\\r\\n            <button mat-button type=\\\"button\\\" (click)=\\\"cancelWrite()\\\">\\r\\n              <mat-icon>cancel</mat-icon>\\r\\n            </button>\\r\\n          </td>\\r\\n        </tr>\\r\\n      </table>\\r\\n    </form>\\r\\n  </div>\\r\\n</section>\\r\\n\"","export default \"<section></section>\\r\\n\\r\\n<section class=\\\"container\\\">\\r\\n  <h3>페이지가 존재하지 않습니다.</h3><br>\\r\\n  <a mat-flat-button routerLink=\\\"/\\\">홈으로</a>\\r\\n</section>\\r\\n\\r\\n<section class=\\\"container\\\"></section>\\r\\n\"","export default \"<section class=\\\"container\\\">\\r\\n  <div class=\\\"border border-secondary info-area\\\">\\r\\n    <h4>시청 예정</h4>\\r\\n    <p>항목 수: {{plans?.length}}</p>\\r\\n    <p>\\r\\n      <button mat-flat-button (click)=\\\"openAll()\\\">전체 열기</button>&nbsp;\\r\\n      <button mat-flat-button (click)=\\\"closeAll()\\\">전체 닫기</button>&nbsp;\\r\\n      <button mat-flat-button (click)=\\\"write(); writingArea.scrollIntoView()\\\">새 항목 작성</button>\\r\\n    </p>\\r\\n  </div>\\r\\n</section>\\r\\n\\r\\n<section class=\\\"container\\\">\\r\\n  <mat-progress-bar *ngIf=\\\"!plans\\\" mode=\\\"indeterminate\\\"></mat-progress-bar>\\r\\n  <table class=\\\"table table-dark\\\" *ngIf=\\\"plans\\\">\\r\\n    <thead>\\r\\n      <tr>\\r\\n        <th (click)=\\\"align(0, 0)\\\">타입</th>\\r\\n        <th (click)=\\\"align(0, 1)\\\">제목</th>\\r\\n        <th (click)=\\\"align(0, 2)\\\" colspan=\\\"120\\\">제작사</th>\\r\\n        <th (click)=\\\"align(0, 3)\\\">방영분기</th>\\r\\n      </tr>\\r\\n    </thead>\\r\\n    <tbody>\\r\\n      <ng-container *ngFor=\\\"let item of plans; index as i\\\">\\r\\n\\r\\n        <tr [attr.id]=\\\"item._id\\\">\\r\\n          <td *ngIf=\\\"item.type == 'tva'\\\">TVA</td>\\r\\n          <td *ngIf=\\\"item.type == 'movie'\\\">극장판</td>\\r\\n          <td>\\r\\n            <span class=\\\"clickable\\\" (click)=\\\"click(item._id)\\\">{{item.title[item.title.rv]}}</span>\\r\\n          </td>\\r\\n          <td colspan=\\\"120\\\" *ngIf=\\\"item.studios.length == 0\\\">-</td>\\r\\n          <ng-container *ngIf=\\\"item.studios.length > 0\\\">\\r\\n            <td *ngFor=\\\"let studio of item.studios\\\" [attr.colspan]=\\\"120 / item.studios.length\\\">\\r\\n              <span class=\\\"clickable\\\" (click)=\\\"findByStudio(studio)\\\">{{studio}}</span>\\r\\n            </td>\\r\\n          </ng-container>\\r\\n          <td>{{getQuarterFromAiredDate(item.aired)}}</td>\\r\\n        </tr>\\r\\n        <tr *ngIf=\\\"item.opened\\\">\\r\\n          <td colspan=\\\"123\\\" style=\\\"padding: 0px;\\\">\\r\\n          \\r\\n            <!-- detail -->\\r\\n            <table class=\\\"table table-dark\\\">\\r\\n              <tr>\\r\\n                <td [attr.rowspan]=\\\"8 + item.studios.length\\\" style=\\\"text-align: center; vertical-align: middle;\\\" *ngIf=\\\"item.img\\\">\\r\\n                  <img [src]=\\\"item.img\\\">\\r\\n                </td>\\r\\n                <td [attr.rowspan]=\\\"8 + item.studios.length\\\" style=\\\"text-align: center; vertical-align: middle;\\\" *ngIf=\\\"!item.img\\\">\\r\\n                  <img src=\\\"assets/no_image.jpg\\\">\\r\\n                </td>\\r\\n                <th>타입</th>\\r\\n                <td *ngIf=\\\"item.type == 'tva'\\\">TVA</td>\\r\\n                <td *ngIf=\\\"item.type == 'movie'\\\">극장판</td>\\r\\n              </tr>\\r\\n              <tr>\\r\\n                <th rowspan=\\\"3\\\" style=\\\"vertical-align: middle;\\\">제목</th>\\r\\n                <td *ngIf=\\\"item.title.rv == 'kor'\\\">\\r\\n                  <b>\\r\\n                    {{item.title.kor}}\\r\\n                  </b>\\r\\n                </td>\\r\\n                <td *ngIf=\\\"item.title.rv != 'kor' && item.title.kor\\\">\\r\\n                  {{item.title.kor}}\\r\\n                </td>\\r\\n                <td *ngIf=\\\"!item.title.kor\\\" class=\\\"no-item\\\">-</td>\\r\\n              </tr>\\r\\n              <tr>\\r\\n                <td *ngIf=\\\"item.title.rv == 'eng'\\\">\\r\\n                  <b>\\r\\n                    {{item.title.eng}}\\r\\n                  </b>\\r\\n                </td>\\r\\n                <td *ngIf=\\\"item.title.rv != 'eng' && item.title.eng\\\">\\r\\n                  {{item.title.eng}}\\r\\n                </td>\\r\\n                <td *ngIf=\\\"!item.title.eng\\\" class=\\\"no-item\\\">-</td>\\r\\n              </tr>\\r\\n              <tr>\\r\\n                <td *ngIf=\\\"item.title.rv == 'jpn'\\\">\\r\\n                  <b>\\r\\n                    {{item.title.jpn}}\\r\\n                  </b>\\r\\n                </td>\\r\\n                <td *ngIf=\\\"item.title.rv != 'jpn' && item.title.jpn\\\">\\r\\n                  {{item.title.jpn}}\\r\\n                </td>\\r\\n                <td *ngIf=\\\"!item.title.jpn\\\" class=\\\"no-item\\\">-</td>\\r\\n              </tr>\\r\\n              <tr>\\r\\n                <th>방영 시기</th>\\r\\n                <td>{{item.aired}}</td>\\r\\n              </tr>\\r\\n              <tr *ngFor=\\\"let studio of item.studios; index as j\\\">\\r\\n                <th *ngIf=\\\"j == 0\\\" [attr.rowspan]=\\\"item.studios.length\\\" style=\\\"vertical-align: middle;\\\">제작사</th>\\r\\n                <td>\\r\\n                  <span class=\\\"clickable\\\" (click)=\\\"findByStudio(studio)\\\">{{studio}}</span>\\r\\n                </td>\\r\\n              </tr>\\r\\n              <tr>\\r\\n                <th>메모</th>\\r\\n                <td>{{item.memo}}</td>\\r\\n              </tr>\\r\\n              <tr>\\r\\n                <th>MyAnimeList</th>\\r\\n                <td>\\r\\n                  <a [href]=\\\"'https://myanimelist.net/anime/' + item.mal_id\\\" target=\\\"_blank\\\" *ngIf=\\\"item.mal_id\\\" class=\\\"detail-link\\\">\\r\\n                    {{item.mal_id}}\\r\\n                  </a>\\r\\n                  <span *ngIf=\\\"!item.mal_id\\\" class=\\\"no-item\\\">-</span>\\r\\n                </td>\\r\\n              </tr>\\r\\n              <tr>\\r\\n                <td colspan=\\\"2\\\" style=\\\"text-align: center;\\\">\\r\\n                  <a mat-button [href]=\\\"searchService.namuwiki(item.title[item.title.rv])\\\" target=\\\"_blank\\\" [matTooltip]=\\\"searchService.namuwiki_label()\\\" class=\\\"no-hover-link\\\">\\r\\n                    <mat-icon>{{searchService.namuwiki_icon()}}</mat-icon>\\r\\n                  </a>\\r\\n                  <button mat-button (click)=\\\"modify(item._id)\\\" matTooltip=\\\"수정\\\">\\r\\n                    <mat-icon>create</mat-icon>\\r\\n                  </button>\\r\\n                  <a mat-button [routerLink]=\\\"['/', planMap.get(item._id).type, 'data-from-plan', item._id]\\\" class=\\\"no-hover-link\\\" matTooltip=\\\"시청 완료 목록으로\\\">\\r\\n                    <mat-icon>input</mat-icon>\\r\\n                  </a>\\r\\n                  <a mat-button [routerLink]=\\\"['/watching/data-from-plan', item._id]\\\" class=\\\"no-hover-link\\\" matTooltip=\\\"시청 중인 목록으로\\\">\\r\\n                    <mat-icon>add_to_queue</mat-icon>\\r\\n                  </a>\\r\\n                  <button mat-button (click)=\\\"remove(item._id, i, true)\\\" matTooltip=\\\"삭제\\\">\\r\\n                    <mat-icon>delete</mat-icon>\\r\\n                  </button>\\r\\n                </td>\\r\\n              </tr>\\r\\n            </table>\\r\\n\\r\\n          </td>\\r\\n        </tr>\\r\\n        <tr *ngIf=\\\"item.modifying\\\">\\r\\n          <td colspan=\\\"122\\\">\\r\\n            \\r\\n            <!-- modifying -->\\r\\n            <form (submit)=\\\"onModifySubmit(item._id, i, true)\\\">\\r\\n              <table class=\\\"table table-secondary\\\" style=\\\"width: 70%; margin: auto;\\\">\\r\\n                <tr>\\r\\n                  <th style=\\\"width: 30%;\\\">검색</th>\\r\\n                  <td>\\r\\n                    <mat-form-field class=\\\"form-item-select\\\">\\r\\n                      <mat-label>검색옵션</mat-label>\\r\\n                      <mat-select #searchOption>\\r\\n                        <mat-option value=\\\"onnada\\\">Onnada</mat-option>\\r\\n                        <mat-option value=\\\"mal\\\">MyAnimeList</mat-option>\\r\\n                        <mat-option value=\\\"mal_id\\\">MyAnimeList ID</mat-option>\\r\\n                      </mat-select>\\r\\n                    </mat-form-field>\\r\\n                    <mat-form-field appearance=\\\"outline\\\">\\r\\n                      <mat-label>검색어를 입력해주세요.</mat-label>\\r\\n                      <input matInput #searchBox (keyup.enter)=\\\"search(searchOption.value, searchBox.value, item.modifying)\\\">\\r\\n                    </mat-form-field>\\r\\n                    <button mat-flat-button type=\\\"button\\\" (click)=\\\"search(searchOption.value, searchBox.value, item.modifying)\\\">\\r\\n                      <mat-icon>search</mat-icon>\\r\\n                    </button>\\r\\n                  </td>\\r\\n                </tr>\\r\\n                <tr><td colspan=\\\"2\\\"><mat-progress-bar *ngIf=\\\"loading\\\" mode=\\\"indeterminate\\\"></mat-progress-bar></td></tr>\\r\\n                <tr>\\r\\n                  <th>제목</th>\\r\\n                  <td>\\r\\n                    <mat-radio-group [(ngModel)]=\\\"item.modifying.title.rv\\\" name=\\\"rv\\\">\\r\\n                      <table class=\\\"table table-borderless inner-table\\\">\\r\\n                        <tr>\\r\\n                          <th><mat-radio-button value=\\\"kor\\\">KOR</mat-radio-button></th>\\r\\n                          <td>\\r\\n                            <mat-form-field class=\\\"form-item\\\">\\r\\n                              <input matInput placeholder=\\\"한국어 제목\\\" [(ngModel)]=\\\"item.modifying.title.kor\\\" name=\\\"kor\\\">\\r\\n                            </mat-form-field>\\r\\n                          </td>\\r\\n                        </tr>\\r\\n                        <tr>\\r\\n                          <th><mat-radio-button value=\\\"eng\\\">ENG</mat-radio-button></th>\\r\\n                          <td>\\r\\n                            <mat-form-field class=\\\"form-item\\\">\\r\\n                              <input matInput placeholder=\\\"알파벳 제목\\\" [(ngModel)]=\\\"item.modifying.title.eng\\\" name=\\\"eng\\\">\\r\\n                            </mat-form-field>\\r\\n                          </td>\\r\\n                        </tr>\\r\\n                        <tr>\\r\\n                          <th><mat-radio-button value=\\\"jpn\\\">JPN</mat-radio-button></th>\\r\\n                          <td>\\r\\n                            <mat-form-field class=\\\"form-item\\\">\\r\\n                              <input matInput placeholder=\\\"일어 제목\\\" [(ngModel)]=\\\"item.modifying.title.jpn\\\" name=\\\"jpn\\\">\\r\\n                            </mat-form-field>\\r\\n                          </td>\\r\\n                        </tr>\\r\\n                      </table>\\r\\n                    </mat-radio-group>\\r\\n                  </td>\\r\\n                </tr>\\r\\n                <tr>\\r\\n                  <th>방영 시기</th>\\r\\n                  <td>\\r\\n                    <mat-form-field>\\r\\n                      <input matInput placeholder=\\\"방영 시작일\\\" [(ngModel)]=\\\"item.modifying.aired\\\" name=\\\"aired\\\">\\r\\n                    </mat-form-field>\\r\\n                  </td>\\r\\n                </tr>\\r\\n                <tr>\\r\\n                  <th>제작사</th>\\r\\n                  <td>\\r\\n                    <mat-form-field class=\\\"form-item\\\">\\r\\n                      <textarea matInput placeholder=\\\"제작사\\\" [(ngModel)]=\\\"studios\\\" name=\\\"studios\\\" rows=\\\"4\\\"></textarea>\\r\\n                      <mat-hint>여러 개의 경우, 줄을 나눠서 입력해주세요.</mat-hint>\\r\\n                    </mat-form-field>\\r\\n                  </td>\\r\\n                </tr>\\r\\n                <tr>\\r\\n                  <th>메모</th>\\r\\n                  <td>\\r\\n                    <mat-form-field class=\\\"form-item\\\">\\r\\n                      <textarea matInput placeholder=\\\"메모\\\" [(ngModel)]=\\\"item.modifying.memo\\\" name=\\\"memo\\\" rows=\\\"4\\\"></textarea>\\r\\n                    </mat-form-field>\\r\\n                  </td>\\r\\n                </tr>\\r\\n                <tr>\\r\\n                  <td colspan=\\\"2\\\" style=\\\"text-align: center;\\\">\\r\\n                    <button mat-button type=\\\"submit\\\">\\r\\n                      <mat-icon>check_circle_outline</mat-icon>\\r\\n                    </button>\\r\\n                    <button mat-button type=\\\"button\\\" (click)=\\\"closeEdit(item._id)\\\">\\r\\n                      <mat-icon>cancel</mat-icon>\\r\\n                    </button>\\r\\n                  </td>\\r\\n                </tr>\\r\\n              </table>\\r\\n            </form>\\r\\n\\r\\n          </td>\\r\\n        </tr>\\r\\n\\r\\n      </ng-container>\\r\\n    </tbody>\\r\\n  </table>\\r\\n</section>\\r\\n\\r\\n<section>\\r\\n  <div class=\\\"container\\\" #writingArea>\\r\\n    <table *ngIf=\\\"!writing\\\" class=\\\"table table-dark\\\">\\r\\n      <tr>\\r\\n        <td>\\r\\n          <span class=\\\"clickable\\\" (click)=\\\"write()\\\">+ 새로 작성하기</span>\\r\\n        </td>\\r\\n      </tr>\\r\\n    </table>\\r\\n    <form (submit)=\\\"onWriteSubmit()\\\" *ngIf=\\\"writing\\\">\\r\\n      <table class=\\\"table table-secondary\\\" style=\\\"width: 70%; margin: auto;\\\">\\r\\n        <tr>\\r\\n          <th style=\\\"width: 30%;\\\">검색</th>\\r\\n          <td>\\r\\n            <mat-form-field class=\\\"form-item-select\\\">\\r\\n              <mat-label>검색옵션</mat-label>\\r\\n              <mat-select #searchOption>\\r\\n                <mat-option value=\\\"onnada\\\">Onnada</mat-option>\\r\\n                <mat-option value=\\\"mal\\\">MyAnimeList</mat-option>\\r\\n                <mat-option value=\\\"mal_id\\\">MyAnimeList ID</mat-option>\\r\\n              </mat-select>\\r\\n            </mat-form-field>\\r\\n            <mat-form-field appearance=\\\"outline\\\">\\r\\n              <mat-label>검색어를 입력해주세요.</mat-label>\\r\\n              <input matInput #searchBox (keyup.enter)=\\\"search(searchOption.value, searchBox.value, writing)\\\">\\r\\n            </mat-form-field>\\r\\n            <button mat-flat-button type=\\\"button\\\" (click)=\\\"search(searchOption.value, searchBox.value, writing)\\\">\\r\\n              <mat-icon>search</mat-icon>\\r\\n            </button>\\r\\n          </td>\\r\\n        </tr>\\r\\n        <tr><td colspan=\\\"2\\\"><mat-progress-bar *ngIf=\\\"loading\\\" mode=\\\"indeterminate\\\"></mat-progress-bar></td></tr>\\r\\n        <tr>\\r\\n          <th>타입</th>\\r\\n          <td>\\r\\n            <mat-form-field>\\r\\n              <mat-label>타입</mat-label>\\r\\n              <mat-select [(ngModel)]=\\\"writing.type\\\" name=\\\"type\\\">\\r\\n                <mat-option value=\\\"tva\\\">TVA</mat-option>\\r\\n                <mat-option value=\\\"movie\\\">극장판</mat-option>\\r\\n              </mat-select>\\r\\n            </mat-form-field>\\r\\n          </td>\\r\\n        </tr>\\r\\n        <tr>\\r\\n          <th>제목</th>\\r\\n          <td>\\r\\n            <mat-radio-group [(ngModel)]=\\\"writing.title.rv\\\" name=\\\"rv\\\">\\r\\n              <table class=\\\"table table-borderless\\\">\\r\\n                <tr>\\r\\n                  <th><mat-radio-button value=\\\"kor\\\">KOR</mat-radio-button></th>\\r\\n                  <td>\\r\\n                    <mat-form-field class=\\\"form-item\\\">\\r\\n                      <input matInput placeholder=\\\"한국어 제목\\\" [(ngModel)]=\\\"writing.title.kor\\\" name=\\\"kor\\\">\\r\\n                    </mat-form-field>\\r\\n                  </td>\\r\\n                </tr>\\r\\n                <tr>\\r\\n                  <th><mat-radio-button value=\\\"eng\\\">ENG</mat-radio-button></th>\\r\\n                  <td>\\r\\n                    <mat-form-field class=\\\"form-item\\\">\\r\\n                      <input matInput placeholder=\\\"알파벳 제목\\\" [(ngModel)]=\\\"writing.title.eng\\\" name=\\\"eng\\\">\\r\\n                    </mat-form-field>\\r\\n                  </td>\\r\\n                </tr>\\r\\n                <tr>\\r\\n                  <th><mat-radio-button value=\\\"jpn\\\">JPN</mat-radio-button></th>\\r\\n                  <td>\\r\\n                    <mat-form-field class=\\\"form-item\\\">\\r\\n                      <input matInput placeholder=\\\"일어 제목\\\" [(ngModel)]=\\\"writing.title.jpn\\\" name=\\\"jpn\\\">\\r\\n                    </mat-form-field>\\r\\n                  </td>\\r\\n                </tr>\\r\\n              </table>\\r\\n            </mat-radio-group>\\r\\n          </td>\\r\\n        </tr>\\r\\n        <tr>\\r\\n          <th>방영 시기</th>\\r\\n          <td>\\r\\n            <mat-form-field>\\r\\n              <input matInput placeholder=\\\"방영 시작일\\\" [(ngModel)]=\\\"writing.aired\\\" name=\\\"aired\\\">\\r\\n            </mat-form-field>\\r\\n          </td>\\r\\n        </tr>\\r\\n        <tr>\\r\\n          <th>제작사</th>\\r\\n          <td>\\r\\n            <mat-form-field class=\\\"form-item\\\">\\r\\n              <textarea matInput placeholder=\\\"제작사\\\" [(ngModel)]=\\\"studios\\\" name=\\\"studios\\\" rows=\\\"4\\\"></textarea>\\r\\n              <mat-hint>여러 개의 경우, 줄을 나눠서 입력해주세요.</mat-hint>\\r\\n            </mat-form-field>\\r\\n          </td>\\r\\n        </tr>\\r\\n        <tr>\\r\\n          <th>메모</th>\\r\\n          <td>\\r\\n            <mat-form-field class=\\\"form-item\\\">\\r\\n              <textarea matInput placeholder=\\\"메모\\\" [(ngModel)]=\\\"writing.memo\\\" name=\\\"memo\\\" rows=\\\"4\\\"></textarea>\\r\\n            </mat-form-field>\\r\\n          </td>\\r\\n        </tr>\\r\\n        <tr>\\r\\n          <td colspan=\\\"2\\\" style=\\\"text-align: center;\\\">\\r\\n            <button mat-button type=\\\"submit\\\">\\r\\n              <mat-icon>check_circle_outline</mat-icon>\\r\\n            </button>\\r\\n            <button mat-button type=\\\"button\\\" (click)=\\\"closeEdit()\\\">\\r\\n              <mat-icon>cancel</mat-icon>\\r\\n            </button>\\r\\n          </td>\\r\\n        </tr>\\r\\n      </table>\\r\\n    </form>\\r\\n  </div>\\r\\n</section>\\r\\n\"","export default \"<section class=\\\"container\\\">\\r\\n  <div class=\\\"border border-secondary info-area\\\">\\r\\n    <h4>TVA</h4>\\r\\n    <p>카테고리 수: {{tvas?.length}}</p>\\r\\n    <!-- <p>TVA 수: {{count()}}</p> -->\\r\\n    <p>TVA 수: {{counts.sequences}}</p>\\r\\n    <p>에피소드 수: {{counts.episodes}}</p>\\r\\n    <p>\\r\\n      <button mat-flat-button (click)=\\\"openAll()\\\">전체 열기</button>&nbsp;\\r\\n      <button mat-flat-button (click)=\\\"closeAll()\\\">전체 닫기</button>&nbsp;\\r\\n      <button mat-flat-button (click)=\\\"writeTva(); writingArea.scrollIntoView()\\\">새 항목 작성</button>\\r\\n    </p>\\r\\n  </div>\\r\\n</section>\\r\\n\\r\\n<section class=\\\"container\\\">\\r\\n  <mat-progress-bar *ngIf=\\\"!tvas\\\" mode=\\\"indeterminate\\\"></mat-progress-bar>\\r\\n  <div *ngIf=\\\"tvas\\\">\\r\\n    <table class=\\\"table table-dark\\\">\\r\\n      <thead>\\r\\n        <tr>\\r\\n          <th (click)=\\\"align(0, 0)\\\">카테고리</th>\\r\\n          <th (click)=\\\"align(0, 1)\\\">시리즈</th>\\r\\n          <th (click)=\\\"align(0, 2)\\\">제목</th>\\r\\n          <th>시즌</th>\\r\\n          <th (click)=\\\"align(0, 3)\\\" colspan=\\\"120\\\">제작사</th>\\r\\n          <th (click)=\\\"align(0, 4)\\\">화수</th>\\r\\n          <th (click)=\\\"align(0, 5)\\\">방영분기</th>\\r\\n        </tr>\\r\\n      </thead>\\r\\n      <tbody>\\r\\n        <ng-container *ngFor=\\\"let tva of tvas; index as t\\\">\\r\\n\\r\\n          <ng-container *ngFor=\\\"let series of tva.series; index as i\\\">\\r\\n            <ng-container *ngFor=\\\"let sequence of series.sequences; index as j\\\">\\r\\n              <tr [attr.id]=\\\"tva._id\\\">\\r\\n                <td *ngIf=\\\"tva.series.length > 1 && i == 0 && j == 0\\\" [attr.rowspan]=\\\"allElementsLength(t)\\\"\\r\\n                  class=\\\"table-category\\\" style=\\\"vertical-align: middle;\\\">{{tva.category}}</td>\\r\\n                <td *ngIf=\\\"tva.series.length > 1 && j == 0\\\" class=\\\"table-series\\\"\\r\\n                  [attr.rowspan]=\\\"tva.series[i].sequences.length\\\" style=\\\"vertical-align: middle;\\\">{{series.title}}</td>\\r\\n                <td *ngIf=\\\"tva.series.length == 1 && tva.series[0].sequences.length > 1 && j == 0\\\"\\r\\n                  [attr.rowspan]=\\\"tva.series[0].sequences.length\\\" colspan=\\\"2\\\" class=\\\"table-category\\\"\\r\\n                  style=\\\"vertical-align: middle; text-align: center;\\\">{{tva.category}}</td>\\r\\n                <td *ngIf=\\\"tva.series.length == 1 && tva.series[0].sequences.length == 1\\\" colspan=\\\"2\\\"></td>\\r\\n                <td>\\r\\n                  <span class=\\\"clickable\\\" (click)=\\\"clickTva(t, i, j)\\\">{{sequence.title[sequence.title.rv]}}</span>\\r\\n                </td>\\r\\n                <td *ngIf=\\\"tva.series.length == 1 && tva.series[0].sequences.length == 1; else seasonTemplate\\\"></td>\\r\\n                <ng-template #seasonTemplate>\\r\\n                  <td>{{sequence.season}}</td>\\r\\n                </ng-template>\\r\\n                <td *ngFor=\\\"let studio of sequence.studios\\\" [attr.colspan]=\\\"120 / sequence.studios.length\\\">\\r\\n                  <span class=\\\"clickable\\\" (click)=\\\"findByStudio(studio)\\\">{{studio}}</span>\\r\\n                </td>\\r\\n                <td>{{sequence.episodes}}</td>\\r\\n                <td>'{{sequence.premiered.year.toString().substring(2)}} - {{sequence.premiered.quarter}}</td>\\r\\n              </tr>\\r\\n              <tr *ngIf=\\\"tva.opened && i == tva.series.length-1 && j == series.sequences.length-1\\\">\\r\\n                <td colspan=\\\"126\\\" style=\\\"padding: 0px;\\\">\\r\\n\\r\\n                  <!-- detail -->\\r\\n                  <table class=\\\"table table-dark table-hover\\\">\\r\\n                    <tr>\\r\\n                      <td style=\\\"text-align: center; vertical-align: middle;\\\"\\r\\n                        [attr.rowspan]=\\\"(tva.category_movie ? 14 : 13) + tva.series[tva.opened.series].sequences[tva.opened.sequence].studios.length\\\">\\r\\n                        <img [src]=\\\"tva.series[tva.opened.series].sequences[tva.opened.sequence].img\\\">\\r\\n                      </td>\\r\\n                      <th>카테고리</th>\\r\\n                      <td>\\r\\n                        <span class=\\\"clickable\\\" (click)=\\\"editCategory(t)\\\">{{tva.category}}</span>\\r\\n                      </td>\\r\\n                    </tr>\\r\\n                    <tr *ngIf=\\\"tva.opened.linked\\\">\\r\\n                      <th>극장판</th>\\r\\n                      <td>\\r\\n                        <a [routerLink]=\\\"['/movie', tva.opened.linked._id, tva.opened.linked.series, 0]\\\" class=\\\"detail-link\\\">\\r\\n                          {{tva.opened.linked.title}}\\r\\n                        </a>\\r\\n                      </td>\\r\\n                    </tr>\\r\\n                    <tr>\\r\\n                      <th>시리즈</th>\\r\\n                      <td>{{tva.series[tva.opened.series].title}}</td>\\r\\n                    </tr>\\r\\n                    <tr>\\r\\n                      <th>시리즈 메모</th>\\r\\n                      <td>{{tva.series[tva.opened.series].memo}}</td>\\r\\n                    </tr>\\r\\n                    <tr><td></td><td></td></tr>\\r\\n                    <tr>\\r\\n                      <th rowspan=\\\"3\\\" style=\\\"vertical-align: middle;\\\">제목</th>\\r\\n                      <td *ngIf=\\\"tva.series[tva.opened.series].sequences[tva.opened.sequence].title.rv == 'kor'\\\">\\r\\n                        <b>\\r\\n                          {{tva.series[tva.opened.series].sequences[tva.opened.sequence].title.kor}}\\r\\n                        </b>\\r\\n                      </td>\\r\\n                      <td *ngIf=\\\"tva.series[tva.opened.series].sequences[tva.opened.sequence].title.rv != 'kor'\\\">\\r\\n                        {{tva.series[tva.opened.series].sequences[tva.opened.sequence].title.kor}}\\r\\n                      </td>\\r\\n                    </tr>\\r\\n                    <tr>\\r\\n                      <td *ngIf=\\\"tva.series[tva.opened.series].sequences[tva.opened.sequence].title.rv == 'eng'\\\">\\r\\n                        <b>\\r\\n                          {{tva.series[tva.opened.series].sequences[tva.opened.sequence].title.eng}}\\r\\n                        </b>\\r\\n                      </td>\\r\\n                      <td *ngIf=\\\"tva.series[tva.opened.series].sequences[tva.opened.sequence].title.rv != 'eng'\\\">\\r\\n                        {{tva.series[tva.opened.series].sequences[tva.opened.sequence].title.eng}}\\r\\n                      </td>\\r\\n                    </tr>\\r\\n                    <tr>\\r\\n                      <td *ngIf=\\\"tva.series[tva.opened.series].sequences[tva.opened.sequence].title.rv == 'jpn'\\\">\\r\\n                        <b>\\r\\n                          {{tva.series[tva.opened.series].sequences[tva.opened.sequence].title.jpn}}\\r\\n                        </b>\\r\\n                      </td>\\r\\n                      <td *ngIf=\\\"tva.series[tva.opened.series].sequences[tva.opened.sequence].title.rv != 'jpn'\\\">\\r\\n                        {{tva.series[tva.opened.series].sequences[tva.opened.sequence].title.jpn}}\\r\\n                      </td>\\r\\n                    </tr>\\r\\n                    <tr>\\r\\n                      <th>방영 분기</th>\\r\\n                      <td>\\r\\n                        {{tva.series[tva.opened.series].sequences[tva.opened.sequence].premiered.year}}년 {{tva.series[tva.opened.series].sequences[tva.opened.sequence].premiered.quarter}}분기\\r\\n                      </td>\\r\\n                    </tr>\\r\\n                    <tr>\\r\\n                      <th>방영 시기</th>\\r\\n                      <td>\\r\\n                        {{tva.series[tva.opened.series].sequences[tva.opened.sequence].aired.start}} ~ {{tva.series[tva.opened.series].sequences[tva.opened.sequence].aired.end}}\\r\\n                      </td>\\r\\n                    </tr>\\r\\n                    <tr>\\r\\n                      <th>방영 화수</th>\\r\\n                      <td>{{tva.series[tva.opened.series].sequences[tva.opened.sequence].episodes}}화</td>\\r\\n                    </tr>\\r\\n                    <tr *ngFor=\\\"let studio of tva.series[tva.opened.series].sequences[tva.opened.sequence].studios; index as s\\\">\\r\\n                      <th *ngIf=\\\"s == 0\\\" style=\\\"vertical-align: middle;\\\"\\r\\n                        [attr.rowspan]=\\\"tva.series[tva.opened.series].sequences[tva.opened.sequence].studios.length\\\">제작사</th>\\r\\n                      <td>\\r\\n                        <span class=\\\"clickable\\\" (click)=\\\"findByStudio(studio)\\\">{{studio}}</span>\\r\\n                      </td>\\r\\n                    </tr>\\r\\n                    <tr>\\r\\n                      <th>메모</th>\\r\\n                      <td>{{tva.series[tva.opened.series].sequences[tva.opened.sequence].memo}}</td>\\r\\n                    </tr>\\r\\n                    <tr>\\r\\n                      <th>MyAnimeList</th>\\r\\n                      <td>\\r\\n                        <a [href]=\\\"'https://myanimelist.net/anime/' + tva.series[tva.opened.series].sequences[tva.opened.sequence].mal_id\\\" target=\\\"_blank\\\" class=\\\"detail-link\\\">\\r\\n                          {{tva.series[tva.opened.series].sequences[tva.opened.sequence].mal_id}}\\r\\n                        </a>\\r\\n                      </td>\\r\\n                    </tr>\\r\\n                    <tr>\\r\\n                      <td colspan=\\\"2\\\" style=\\\"text-align: center;\\\">\\r\\n                        <a mat-button [href]=\\\"searchService.namuwiki(tva.series[tva.opened.series].title)\\\" target=\\\"_blank\\\" [matTooltip]=\\\"searchService.namuwiki_label()\\\" class=\\\"no-hover-link\\\">\\r\\n                          <mat-icon>{{searchService.namuwiki_icon()}}</mat-icon>\\r\\n                        </a>\\r\\n                        <button mat-button (click)=\\\"modifyTva(t, tva.opened.series, tva.opened.sequence)\\\" matTooltip=\\\"수정\\\">\\r\\n                          <mat-icon>create</mat-icon>\\r\\n                        </button>\\r\\n                        <button mat-button (click)=\\\"removeTva(t, tva.opened.series, tva.opened.sequence)\\\" matTooltip=\\\"삭제\\\">\\r\\n                          <mat-icon>delete</mat-icon>\\r\\n                        </button>\\r\\n                      </td>\\r\\n                    </tr>\\r\\n                  </table>\\r\\n\\r\\n                </td>\\r\\n              </tr>\\r\\n              <tr *ngIf=\\\"tva.modifying && i == tva.series.length-1 && j == series.sequences.length-1\\\">\\r\\n                <td colspan=\\\"126\\\">\\r\\n                  \\r\\n                  <!-- modifying -->\\r\\n                  <form (submit)=\\\"onModifySubmit(t, modifying.series, modifying.sequence)\\\">\\r\\n                    <table class=\\\"table table-secondary\\\" style=\\\"width: 70%; margin: auto;\\\">\\r\\n                      <tr>\\r\\n                        <th style=\\\"width: 30%;\\\">검색</th>\\r\\n                        <td>\\r\\n                          <mat-form-field class=\\\"form-item-select\\\">\\r\\n                            <mat-label>검색옵션</mat-label>\\r\\n                            <mat-select #searchOption>\\r\\n                              <mat-option value=\\\"onnada\\\">Onnada</mat-option>\\r\\n                              <mat-option value=\\\"mal\\\">MyAnimeList</mat-option>\\r\\n                              <mat-option value=\\\"mal_id\\\">MyAnimeList ID</mat-option>\\r\\n                            </mat-select>\\r\\n                          </mat-form-field>\\r\\n                          <mat-form-field appearance=\\\"outline\\\">\\r\\n                            <mat-label>검색어를 입력해주세요.</mat-label>\\r\\n                            <input matInput #searchBox (keyup.enter)=\\\"searchTva(searchOption.value, searchBox.value, t)\\\">\\r\\n                          </mat-form-field>\\r\\n                          <button mat-flat-button type=\\\"button\\\" (click)=\\\"searchTva(searchOption.value, searchBox.value, t)\\\">\\r\\n                            <mat-icon>search</mat-icon>\\r\\n                          </button>\\r\\n                        </td>\\r\\n                      </tr>\\r\\n                      <tr><td colspan=\\\"2\\\"><mat-progress-bar *ngIf=\\\"loading\\\" mode=\\\"indeterminate\\\"></mat-progress-bar></td></tr>\\r\\n                      <tr>\\r\\n                        <th>시리즈</th>\\r\\n                        <td>\\r\\n                          <mat-form-field class=\\\"form-item\\\">\\r\\n                            <input matInput placeholder=\\\"시리즈\\\" [formControl]=\\\"seriesControl\\\" [matAutocomplete]=\\\"auto\\\" name=\\\"seriesTitle\\\">\\r\\n                            <mat-autocomplete #auto=\\\"matAutocomplete\\\">\\r\\n                              <mat-option *ngFor=\\\"let option of seriesFilteredOptions | async\\\" [value]=\\\"option\\\">{{option}}</mat-option>\\r\\n                            </mat-autocomplete>\\r\\n                          </mat-form-field>\\r\\n                        </td>\\r\\n                      </tr>\\r\\n                      <tr>\\r\\n                        <th>제목</th>\\r\\n                        <td>\\r\\n                          <mat-radio-group [(ngModel)]=\\\"tva.modifying.title.rv\\\" name=\\\"rv\\\">\\r\\n                            <table class=\\\"table table-borderless inner-table\\\">\\r\\n                              <tr>\\r\\n                                <th><mat-radio-button value=\\\"kor\\\">KOR</mat-radio-button></th>\\r\\n                                <td>\\r\\n                                  <mat-form-field class=\\\"form-item\\\">\\r\\n                                    <input matInput placeholder=\\\"한국어 제목\\\" [(ngModel)]=\\\"tva.modifying.title.kor\\\" name=\\\"kor\\\">\\r\\n                                  </mat-form-field>\\r\\n                                </td>\\r\\n                              </tr>\\r\\n                              <tr>\\r\\n                                <th><mat-radio-button value=\\\"eng\\\">ENG</mat-radio-button></th>\\r\\n                                <td>\\r\\n                                  <mat-form-field class=\\\"form-item\\\">\\r\\n                                    <input matInput placeholder=\\\"알파벳 제목\\\" [(ngModel)]=\\\"tva.modifying.title.eng\\\" name=\\\"eng\\\">\\r\\n                                  </mat-form-field>\\r\\n                                </td>\\r\\n                              </tr>\\r\\n                              <tr>\\r\\n                                <th><mat-radio-button value=\\\"jpn\\\">JPN</mat-radio-button></th>\\r\\n                                <td>\\r\\n                                  <mat-form-field class=\\\"form-item\\\">\\r\\n                                    <input matInput placeholder=\\\"일어 제목\\\" [(ngModel)]=\\\"tva.modifying.title.jpn\\\" name=\\\"jpn\\\">\\r\\n                                  </mat-form-field>\\r\\n                                </td>\\r\\n                              </tr>\\r\\n                            </table>\\r\\n                          </mat-radio-group>\\r\\n                        </td>\\r\\n                      </tr>\\r\\n                      <tr>\\r\\n                        <th>시즌</th>\\r\\n                        <td>\\r\\n                          <mat-form-field>\\r\\n                            <input matInput type=\\\"number\\\" [(ngModel)]=\\\"tva.modifying.season\\\" name=\\\"season\\\" min=\\\"1\\\">\\r\\n                            <span matSuffix>기</span>\\r\\n                          </mat-form-field>\\r\\n                        </td>\\r\\n                      </tr>\\r\\n                      <tr>\\r\\n                        <th rowspan=\\\"2\\\">방영 분기</th>\\r\\n                        <td>\\r\\n                          <mat-form-field>\\r\\n                            <input matInput placeholder=\\\"연도\\\" type=\\\"number\\\" [(ngModel)]=\\\"tva.modifying.premiered.year\\\" name=\\\"year\\\">\\r\\n                            <span matSuffix>년</span>\\r\\n                          </mat-form-field>\\r\\n                        </td>\\r\\n                      </tr>\\r\\n                      <tr>\\r\\n                        <td>\\r\\n                          <mat-form-field>\\r\\n                            <input matInput placeholder=\\\"분기\\\" type=\\\"number\\\" [(ngModel)]=\\\"tva.modifying.premiered.quarter\\\" name=\\\"quarter\\\" max=\\\"4\\\" min=\\\"1\\\">\\r\\n                            <span matSuffix>분기</span>\\r\\n                          </mat-form-field>\\r\\n                        </td>\\r\\n                      </tr>\\r\\n                      <tr>\\r\\n                        <th rowspan=\\\"2\\\">방영 시기</th>\\r\\n                        <td>\\r\\n                          <mat-form-field>\\r\\n                            <input matInput placeholder=\\\"방영 시작일\\\" [(ngModel)]=\\\"tva.modifying.aired.start\\\" name=\\\"aired_start\\\">\\r\\n                          </mat-form-field>\\r\\n                        </td>\\r\\n                      </tr>\\r\\n                      <tr>\\r\\n                        <td>\\r\\n                          <mat-form-field>\\r\\n                            <input matInput placeholder=\\\"방영 종료일\\\" [(ngModel)]=\\\"tva.modifying.aired.end\\\" name=\\\"aired_end\\\">\\r\\n                          </mat-form-field>\\r\\n                        </td>\\r\\n                      </tr>\\r\\n                      <tr>\\r\\n                        <th>방영 화수</th>\\r\\n                        <td>\\r\\n                          <mat-form-field>\\r\\n                            <input matInput type=\\\"number\\\" [(ngModel)]=\\\"tva.modifying.episodes\\\" name=\\\"episodes\\\" min=\\\"1\\\">\\r\\n                            <span matSuffix>화</span>\\r\\n                          </mat-form-field>\\r\\n                        </td>\\r\\n                      </tr>\\r\\n                      <tr>\\r\\n                        <th>제작사</th>\\r\\n                        <td>\\r\\n                          <mat-form-field class=\\\"form-item\\\">\\r\\n                            <textarea matInput placeholder=\\\"제작사\\\" [(ngModel)]=\\\"modifying.studios\\\" name=\\\"studios\\\" rows=\\\"4\\\"></textarea>\\r\\n                            <mat-hint>여러 개의 경우, 줄을 나눠서 입력해주세요.</mat-hint>\\r\\n                          </mat-form-field>\\r\\n                        </td>\\r\\n                      </tr>\\r\\n                      <tr>\\r\\n                        <th>메모</th>\\r\\n                        <td>\\r\\n                          <mat-form-field class=\\\"form-item\\\">\\r\\n                            <textarea matInput placeholder=\\\"메모\\\" [(ngModel)]=\\\"tva.modifying.memo\\\" name=\\\"memo\\\" rows=\\\"4\\\"></textarea>\\r\\n                          </mat-form-field>\\r\\n                        </td>\\r\\n                      </tr>\\r\\n                      <tr>\\r\\n                        <td colspan=\\\"2\\\" style=\\\"text-align: center;\\\">\\r\\n                          <button mat-button type=\\\"submit\\\">\\r\\n                            <mat-icon>check_circle_outline</mat-icon>\\r\\n                          </button>\\r\\n                          <button mat-button type=\\\"button\\\" (click)=\\\"cancelModify(t)\\\">\\r\\n                            <mat-icon>cancel</mat-icon>\\r\\n                          </button>\\r\\n                        </td>\\r\\n                      </tr>\\r\\n                    </table>\\r\\n                  </form>\\r\\n\\r\\n                </td>\\r\\n              </tr>\\r\\n            </ng-container>\\r\\n          </ng-container>\\r\\n\\r\\n        </ng-container>\\r\\n      </tbody>\\r\\n    </table>\\r\\n  </div>\\r\\n\\r\\n</section>\\r\\n\\r\\n<section>\\r\\n  <div class=\\\"container\\\" id=\\\"writing-area\\\" #writingArea>\\r\\n    <table *ngIf=\\\"!writing\\\" class=\\\"table table-dark\\\">\\r\\n      <tr>\\r\\n        <td>\\r\\n          <span class=\\\"clickable\\\" (click)=\\\"writeTva()\\\">+ 새로 작성하기</span>\\r\\n        </td>\\r\\n      </tr>\\r\\n    </table>\\r\\n    <form (submit)=\\\"onWriteSubmit()\\\" *ngIf=\\\"writing\\\">\\r\\n      <table class=\\\"table table-secondary\\\" style=\\\"width: 70%; margin: auto;\\\">\\r\\n        <tr>\\r\\n          <th style=\\\"width: 30%;\\\">검색</th>\\r\\n          <td>\\r\\n            <mat-form-field class=\\\"form-item-select\\\">\\r\\n              <mat-label>검색옵션</mat-label>\\r\\n              <mat-select #writeSearchOption>\\r\\n                <mat-option value=\\\"onnada\\\">Onnada</mat-option>\\r\\n                <mat-option value=\\\"mal\\\">MyAnimeList</mat-option>\\r\\n                <mat-option value=\\\"mal_id\\\">MyAnimeList ID</mat-option>\\r\\n              </mat-select>\\r\\n            </mat-form-field>\\r\\n            <mat-form-field appearance=\\\"outline\\\">\\r\\n              <mat-label>검색어를 입력해주세요.</mat-label>\\r\\n              <input matInput #writeSearchBox (keyup.enter)=\\\"searchTva(writeSearchOption.value, writeSearchBox.value)\\\">\\r\\n            </mat-form-field>\\r\\n            <button mat-flat-button type=\\\"button\\\" (click)=\\\"searchTva(writeSearchOption.value, writeSearchBox.value)\\\">\\r\\n              <mat-icon>search</mat-icon>\\r\\n            </button>\\r\\n          </td>\\r\\n        </tr>\\r\\n        <tr><td colspan=\\\"2\\\"><mat-progress-bar *ngIf=\\\"loading\\\" mode=\\\"indeterminate\\\"></mat-progress-bar></td></tr>\\r\\n        <tr>\\r\\n          <th>카테고리</th>\\r\\n          <td>\\r\\n            <mat-form-field class=\\\"form-item\\\">\\r\\n              <input matInput placeholder=\\\"카테고리\\\" [formControl]=\\\"categoryControl\\\" [matAutocomplete]=\\\"autoWriteCategory\\\" name=\\\"categoryTitle\\\">\\r\\n              <mat-autocomplete #autoWriteCategory=\\\"matAutocomplete\\\" (optionSelected)=\\\"categoryInput($event)\\\">\\r\\n                <mat-option *ngFor=\\\"let option of categoryFilteredOptions | async\\\" [value]=\\\"option\\\">{{option}}</mat-option>\\r\\n              </mat-autocomplete>\\r\\n            </mat-form-field>\\r\\n          </td>\\r\\n        </tr>\\r\\n        <tr>\\r\\n          <th>시리즈</th>\\r\\n          <td>\\r\\n            <mat-form-field [formGroup]=\\\"writeFormGroup\\\" class=\\\"form-item\\\">\\r\\n              <input matInput placeholder=\\\"시리즈\\\" [matAutocomplete]=\\\"autoWriteSeries\\\" formControlName=\\\"writeSeriesControl\\\">\\r\\n              <mat-autocomplete #autoWriteSeries=\\\"matAutocomplete\\\" (optionSelected)=\\\"seriesInput($event)\\\">\\r\\n                <mat-option *ngFor=\\\"let option of seriesFilteredOptions | async\\\" [value]=\\\"option\\\">{{option}}</mat-option>\\r\\n              </mat-autocomplete>\\r\\n            </mat-form-field>\\r\\n          </td>\\r\\n        </tr>\\r\\n        <tr>\\r\\n          <th>시리즈 메모</th>\\r\\n          <td>\\r\\n            <mat-form-field class=\\\"form-item\\\">\\r\\n              <textarea matInput placeholder=\\\"시리즈 메모\\\" [(ngModel)]=\\\"seriesMemo\\\" name=\\\"seriesMemo\\\" rows=\\\"4\\\"></textarea>\\r\\n            </mat-form-field>\\r\\n          </td>\\r\\n        </tr>\\r\\n        <tr>\\r\\n          <th>제목</th>\\r\\n          <td>\\r\\n            <mat-radio-group [(ngModel)]=\\\"writingTva.title.rv\\\" name=\\\"rv\\\">\\r\\n              <table class=\\\"table table-borderless\\\">\\r\\n                <tr>\\r\\n                  <th><mat-radio-button value=\\\"kor\\\">KOR</mat-radio-button></th>\\r\\n                  <td>\\r\\n                    <mat-form-field class=\\\"form-item\\\">\\r\\n                      <input matInput placeholder=\\\"한국어 제목\\\" [(ngModel)]=\\\"writingTva.title.kor\\\" name=\\\"kor\\\">\\r\\n                    </mat-form-field>\\r\\n                    <button mat-icon-button (click)=\\\"toCategory('kor')\\\" type=\\\"button\\\">\\r\\n                      <mat-icon>swap_vert</mat-icon>\\r\\n                    </button>\\r\\n                  </td>\\r\\n                </tr>\\r\\n                <tr>\\r\\n                  <th><mat-radio-button value=\\\"eng\\\">ENG</mat-radio-button></th>\\r\\n                  <td>\\r\\n                    <mat-form-field class=\\\"form-item\\\">\\r\\n                      <input matInput placeholder=\\\"알파벳 제목\\\" [(ngModel)]=\\\"writingTva.title.eng\\\" name=\\\"eng\\\">\\r\\n                    </mat-form-field>\\r\\n                    <button mat-icon-button (click)=\\\"toCategory('eng')\\\" type=\\\"button\\\">\\r\\n                      <mat-icon>swap_vert</mat-icon>\\r\\n                    </button>\\r\\n                  </td>\\r\\n                </tr>\\r\\n                <tr>\\r\\n                  <th><mat-radio-button value=\\\"jpn\\\">JPN</mat-radio-button></th>\\r\\n                  <td>\\r\\n                    <mat-form-field class=\\\"form-item\\\">\\r\\n                      <input matInput placeholder=\\\"일어 제목\\\" [(ngModel)]=\\\"writingTva.title.jpn\\\" name=\\\"jpn\\\">\\r\\n                    </mat-form-field>\\r\\n                    <button mat-icon-button (click)=\\\"toCategory('jpn')\\\" type=\\\"button\\\">\\r\\n                      <mat-icon>swap_vert</mat-icon>\\r\\n                    </button>\\r\\n                  </td>\\r\\n                </tr>\\r\\n              </table>\\r\\n            </mat-radio-group>\\r\\n          </td>\\r\\n        </tr>\\r\\n        <tr>\\r\\n          <th>시즌</th>\\r\\n          <td>\\r\\n            <mat-form-field>\\r\\n              <input matInput type=\\\"number\\\" [(ngModel)]=\\\"writingTva.season\\\" name=\\\"season\\\" min=\\\"1\\\">\\r\\n              <span matSuffix>기</span>\\r\\n            </mat-form-field>\\r\\n          </td>\\r\\n        </tr>\\r\\n        <tr>\\r\\n          <th rowspan=\\\"2\\\">방영 분기</th>\\r\\n          <td>\\r\\n            <mat-form-field>\\r\\n              <input matInput placeholder=\\\"연도\\\" type=\\\"number\\\" [(ngModel)]=\\\"writingTva.premiered.year\\\" name=\\\"year\\\">\\r\\n              <span matSuffix>년</span>\\r\\n            </mat-form-field>\\r\\n          </td>\\r\\n        </tr>\\r\\n        <tr>\\r\\n          <td>\\r\\n            <mat-form-field>\\r\\n              <input matInput placeholder=\\\"분기\\\" type=\\\"number\\\" [(ngModel)]=\\\"writingTva.premiered.quarter\\\" name=\\\"quarter\\\" max=\\\"4\\\" min=\\\"1\\\">\\r\\n              <span matSuffix>분기</span>\\r\\n            </mat-form-field>\\r\\n          </td>\\r\\n        </tr>\\r\\n        <tr>\\r\\n          <th rowspan=\\\"2\\\">방영 시기</th>\\r\\n          <td>\\r\\n            <mat-form-field>\\r\\n              <input matInput placeholder=\\\"방영 시작일\\\" [(ngModel)]=\\\"writingTva.aired.start\\\" name=\\\"aired_start\\\">\\r\\n            </mat-form-field>\\r\\n          </td>\\r\\n        </tr>\\r\\n        <tr>\\r\\n          <td>\\r\\n            <mat-form-field>\\r\\n              <input matInput placeholder=\\\"방영 종료일\\\" [(ngModel)]=\\\"writingTva.aired.end\\\" name=\\\"aired_end\\\">\\r\\n            </mat-form-field>\\r\\n          </td>\\r\\n        </tr>\\r\\n        <tr>\\r\\n          <th>방영 화수</th>\\r\\n          <td>\\r\\n            <mat-form-field>\\r\\n              <input matInput type=\\\"number\\\" [(ngModel)]=\\\"writingTva.episodes\\\" name=\\\"episodes\\\" min=\\\"1\\\">\\r\\n              <span matSuffix>화</span>\\r\\n            </mat-form-field>\\r\\n          </td>\\r\\n        </tr>\\r\\n        <tr>\\r\\n          <th>제작사</th>\\r\\n          <td>\\r\\n            <mat-form-field class=\\\"form-item\\\">\\r\\n              <textarea matInput placeholder=\\\"제작사\\\" [(ngModel)]=\\\"modifying.studios\\\" name=\\\"studios\\\" rows=\\\"4\\\"></textarea>\\r\\n              <mat-hint>여러 개의 경우, 줄을 나눠서 입력해주세요.</mat-hint>\\r\\n            </mat-form-field>\\r\\n          </td>\\r\\n        </tr>\\r\\n        <tr>\\r\\n          <th>메모</th>\\r\\n          <td>\\r\\n            <mat-form-field class=\\\"form-item\\\">\\r\\n              <textarea matInput placeholder=\\\"메모\\\" [(ngModel)]=\\\"writingTva.memo\\\" name=\\\"memo\\\" rows=\\\"4\\\"></textarea>\\r\\n            </mat-form-field>\\r\\n          </td>\\r\\n        </tr>\\r\\n        <tr>\\r\\n          <td colspan=\\\"2\\\" style=\\\"text-align: center;\\\">\\r\\n            <button mat-button type=\\\"submit\\\">\\r\\n              <mat-icon>check_circle_outline</mat-icon>\\r\\n            </button>\\r\\n            <button mat-button type=\\\"button\\\" (click)=\\\"cancelWrite()\\\">\\r\\n              <mat-icon>cancel</mat-icon>\\r\\n            </button>\\r\\n          </td>\\r\\n        </tr>\\r\\n      </table>\\r\\n    </form>\\r\\n  </div>\\r\\n</section>\\r\\n\"","export default \"<section class=\\\"container\\\">\\r\\n  <div class=\\\"border border-secondary info-area\\\">\\r\\n    <h4>시청 중</h4>\\r\\n    <p>방영 중인 항목 수: {{airings?.length}}</p>\\r\\n    <p>완결작 수: {{ends?.length}}</p>\\r\\n    <p class=\\\"info-button-area\\\">\\r\\n      <button mat-flat-button (click)=\\\"openAll()\\\">전체 열기</button>&nbsp;\\r\\n      <button mat-flat-button (click)=\\\"closeAll()\\\">전체 닫기</button>&nbsp;\\r\\n      <button mat-flat-button (click)=\\\"write(); writingArea.scrollIntoView()\\\">새 항목 작성</button>&nbsp;\\r\\n      <button mat-flat-button (click)=\\\"openTodayAiring()\\\" title=\\\"오늘이라고 적었긴 한데 그냥 24시간 이내 방영작임\\\">오늘 방영작 펼치기</button>\\r\\n    </p>\\r\\n  </div>\\r\\n</section>\\r\\n\\r\\n<section class=\\\"container\\\">\\r\\n  <mat-progress-bar *ngIf=\\\"!airings\\\" mode=\\\"indeterminate\\\"></mat-progress-bar>\\r\\n  <table class=\\\"table table-dark\\\" *ngIf=\\\"airings\\\">\\r\\n    <caption>방영 중인 목록</caption>\\r\\n    <thead>\\r\\n      <tr>\\r\\n        <th (click)=\\\"align(0, 0)\\\">타입</th>\\r\\n        <th (click)=\\\"align(0, 1)\\\">제목</th>\\r\\n        <th (click)=\\\"align(0, 2)\\\" colspan=\\\"120\\\">제작사</th>\\r\\n        <th (click)=\\\"align(0, 4)\\\">방영요일</th>\\r\\n      </tr>\\r\\n    </thead>\\r\\n    <tbody>\\r\\n      <ng-container *ngFor=\\\"let item of airings; index as i\\\">\\r\\n\\r\\n        <tr [attr.id]=\\\"item._id\\\">\\r\\n          <td *ngIf=\\\"item.type == 'tva'\\\">TVA</td>\\r\\n          <td *ngIf=\\\"item.type == 'movie'\\\">극장판</td>\\r\\n          <td>\\r\\n            <span class=\\\"clickable\\\" (click)=\\\"click(item._id)\\\">{{item.title[item.title.rv]}}</span>\\r\\n          </td>\\r\\n          <td *ngFor=\\\"let studio of item.studios\\\" [attr.colspan]=\\\"120 / item.studios.length\\\">\\r\\n            <span class=\\\"clickable\\\" (click)=\\\"findByStudio(studio)\\\">{{studio}}</span>\\r\\n          </td>\\r\\n          <td>{{getDay(item.broadcast)}}</td>\\r\\n        </tr>\\r\\n        <tr *ngIf=\\\"item.opened\\\">\\r\\n          <td colspan=\\\"123\\\" style=\\\"padding: 0px;\\\">\\r\\n          \\r\\n            <!-- detail -->\\r\\n            <table class=\\\"table table-dark\\\">\\r\\n              <tr>\\r\\n                <td [attr.rowspan]=\\\"8 + item.studios.length\\\" style=\\\"text-align: center; vertical-align: middle;\\\">\\r\\n                  <img [src]=\\\"item.img\\\">\\r\\n                </td>\\r\\n                <th>타입</th>\\r\\n                <td *ngIf=\\\"item.type == 'tva'\\\">TVA</td>\\r\\n                <td *ngIf=\\\"item.type == 'movie'\\\">극장판</td>\\r\\n              </tr>\\r\\n              <tr>\\r\\n                <th rowspan=\\\"3\\\" style=\\\"vertical-align: middle;\\\">제목</th>\\r\\n                <td *ngIf=\\\"item.title.rv == 'kor'\\\">\\r\\n                  <b>\\r\\n                    {{item.title.kor}}\\r\\n                  </b>\\r\\n                </td>\\r\\n                <td *ngIf=\\\"item.title.rv != 'kor'\\\">\\r\\n                  {{item.title.kor}}\\r\\n                </td>\\r\\n              </tr>\\r\\n              <tr>\\r\\n                <td *ngIf=\\\"item.title.rv == 'eng'\\\">\\r\\n                  <b>\\r\\n                    {{item.title.eng}}\\r\\n                  </b>\\r\\n                </td>\\r\\n                <td *ngIf=\\\"item.title.rv != 'eng'\\\">\\r\\n                  {{item.title.eng}}\\r\\n                </td>\\r\\n              </tr>\\r\\n              <tr>\\r\\n                <td *ngIf=\\\"item.title.rv == 'jpn'\\\">\\r\\n                  <b>\\r\\n                    {{item.title.jpn}}\\r\\n                  </b>\\r\\n                </td>\\r\\n                <td *ngIf=\\\"item.title.rv != 'jpn'\\\">\\r\\n                  {{item.title.jpn}}\\r\\n                </td>\\r\\n              </tr>\\r\\n              <tr>\\r\\n                <th>방영 분기</th>\\r\\n                <td>{{item.premiered.year}}년 {{item.premiered.quarter}}분기</td>\\r\\n              </tr>\\r\\n              <tr>\\r\\n                <th>방영 시기</th>\\r\\n                <td>{{item.aired}}</td>\\r\\n              </tr>\\r\\n              <tr *ngFor=\\\"let studio of item.studios; index as j\\\">\\r\\n                <th *ngIf=\\\"j == 0\\\" [attr.rowspan]=\\\"item.studios.length\\\" style=\\\"vertical-align: middle;\\\">제작사</th>\\r\\n                <td>\\r\\n                  <span class=\\\"clickable\\\" (click)=\\\"findByStudio(studio)\\\">{{studio}}</span>\\r\\n                </td>\\r\\n              </tr>\\r\\n              <tr>\\r\\n                <th>메모</th>\\r\\n                <td>{{item.memo}}</td>\\r\\n              </tr>\\r\\n              <tr>\\r\\n                <th>MyAnimeList</th>\\r\\n                <td>\\r\\n                  <a [href]=\\\"'https://myanimelist.net/anime/' + item.mal_id\\\" target=\\\"_blank\\\" class=\\\"detail-link\\\">\\r\\n                    {{item.mal_id}}\\r\\n                  </a>\\r\\n                </td>\\r\\n              </tr>\\r\\n              <tr><td colspan=\\\"3\\\">오늘: {{getToday()}}</td></tr>\\r\\n              <tr>\\r\\n                <td colspan=\\\"3\\\" class=\\\"inner-table-section\\\" *ngIf=\\\"!item.videos || (item.videos && item.videos.length > 0)\\\">\\r\\n\\r\\n                  <mat-progress-bar *ngIf=\\\"!item.videos\\\" mode=\\\"indeterminate\\\"></mat-progress-bar>\\r\\n                  <table class=\\\"table table-dark\\\" *ngIf=\\\"item.videos\\\">\\r\\n                    <tr *ngFor=\\\"let video of item.videos\\\">\\r\\n                      <td>{{getDate(video.date)}}</td>\\r\\n                      <td>{{video.name}}</td>\\r\\n                      <td>{{getSize(video.size)}}</td>\\r\\n                      <td>\\r\\n                        <a [href]=\\\"video.magnet | safeUrl\\\" class=\\\"download-link\\\">▶</a>\\r\\n                      </td>\\r\\n                    </tr>\\r\\n                  </table>\\r\\n\\r\\n                </td>\\r\\n              </tr>\\r\\n\\r\\n              <tr *ngIf=\\\"!item.videos || (item.videos && item.videos.length > 0)\\\"><td colspan=\\\"3\\\"></td></tr>\\r\\n\\r\\n              <tr>\\r\\n                <td colspan=\\\"3\\\" class=\\\"inner-table-section\\\" *ngIf=\\\"!item.ohys || (item.ohys && item.ohys.length > 0)\\\">\\r\\n\\r\\n                  <mat-progress-bar *ngIf=\\\"!item.ohys\\\" mode=\\\"indeterminate\\\"></mat-progress-bar>\\r\\n                  <table class=\\\"table table-dark\\\" *ngIf=\\\"item.ohys\\\">\\r\\n                    <tr *ngFor=\\\"let ohys of item.ohys\\\">\\r\\n                      <td>{{ohys.name}}</td>\\r\\n                      <td>\\r\\n                        <a [href]=\\\"ohys.link\\\" class=\\\"download-link\\\" download>@</a>\\r\\n                      </td>\\r\\n                      <td>\\r\\n                        <a [href]=\\\"ohys.magnet | safeUrl\\\" class=\\\"download-link\\\">▶</a>\\r\\n                      </td>\\r\\n                    </tr>\\r\\n                  </table>\\r\\n\\r\\n                </td>\\r\\n              </tr>\\r\\n\\r\\n              <tr *ngIf=\\\"!item.ohys || (item.ohys && item.ohys.length > 0)\\\"><td colspan=\\\"3\\\"></td></tr>\\r\\n\\r\\n              <tr>\\r\\n                <td colspan=\\\"3\\\" class=\\\"inner-table-section\\\" *ngIf=\\\"!item.subtitles || (item.subtitles && item.subtitles.length > 0)\\\">\\r\\n\\r\\n                  <mat-progress-bar *ngIf=\\\"!item.subtitles\\\" mode=\\\"indeterminate\\\"></mat-progress-bar>\\r\\n                  <table class=\\\"table table-dark\\\" *ngIf=\\\"item.subtitles\\\">\\r\\n                    <tr *ngFor=\\\"let subtitle of item.subtitles\\\">\\r\\n                      <td>{{getDate(subtitle.date)}}</td>\\r\\n                      <td>제{{subtitle.episode}}화</td>\\r\\n                      <td>{{subtitle.by}}</td>\\r\\n                      <td><a class=\\\"download-link\\\" [href]=\\\"subtitle.link\\\" target=\\\"_blank\\\">페이지로 이동</a></td>\\r\\n                    </tr>\\r\\n                  </table>\\r\\n\\r\\n                </td>\\r\\n              </tr>\\r\\n              <tr>\\r\\n                <td colspan=\\\"3\\\" style=\\\"text-align: center;\\\">\\r\\n                  <a mat-button [href]=\\\"searchService.namuwiki(item.title[item.title.rv])\\\" target=\\\"_blank\\\" [matTooltip]=\\\"searchService.namuwiki_label()\\\" class=\\\"no-hover-link\\\">\\r\\n                    <mat-icon>{{searchService.namuwiki_icon()}}</mat-icon>\\r\\n                  </a>\\r\\n                  <button mat-button (click)=\\\"modify(item._id)\\\" matTooltip=\\\"수정\\\">\\r\\n                    <mat-icon>create</mat-icon>\\r\\n                  </button>\\r\\n                  <a mat-button class=\\\"no-hover-link\\\" [routerLink]=\\\"['/', watchingMap.get(item._id).type, 'data-from-watching', item._id]\\\" matTooltip=\\\"시청 완료\\\">\\r\\n                    <mat-icon>input</mat-icon>\\r\\n                  </a>\\r\\n                  <button mat-button (click)=\\\"remove(item._id, i, true)\\\" matTooltip=\\\"삭제\\\">\\r\\n                    <mat-icon>delete</mat-icon>\\r\\n                  </button>\\r\\n                </td>\\r\\n              </tr>\\r\\n            </table>\\r\\n\\r\\n          </td>\\r\\n        </tr>\\r\\n        <tr *ngIf=\\\"item.modifying\\\">\\r\\n          <td colspan=\\\"122\\\">\\r\\n            \\r\\n            <!-- modifying -->\\r\\n            <form (submit)=\\\"onModifySubmit(item._id, i, true)\\\">\\r\\n              <table class=\\\"table table-secondary\\\" style=\\\"width: 70%; margin: auto;\\\">\\r\\n                <tr>\\r\\n                  <th style=\\\"width: 30%;\\\">검색</th>\\r\\n                  <td>\\r\\n                    <mat-form-field class=\\\"form-item-select\\\">\\r\\n                      <mat-label>검색옵션</mat-label>\\r\\n                      <mat-select #searchOption>\\r\\n                        <mat-option value=\\\"onnada\\\">Onnada</mat-option>\\r\\n                        <mat-option value=\\\"mal\\\">MyAnimeList</mat-option>\\r\\n                        <mat-option value=\\\"mal_id\\\">MyAnimeList ID</mat-option>\\r\\n                      </mat-select>\\r\\n                    </mat-form-field>\\r\\n                    <mat-form-field appearance=\\\"outline\\\">\\r\\n                      <mat-label>검색어를 입력해주세요.</mat-label>\\r\\n                      <input matInput #searchBox (keyup.enter)=\\\"search(searchOption.value, searchBox.value, item.modifying)\\\">\\r\\n                    </mat-form-field>\\r\\n                    <button mat-flat-button type=\\\"button\\\" (click)=\\\"search(searchOption.value, searchBox.value, item.modifying)\\\">\\r\\n                      <mat-icon>search</mat-icon>\\r\\n                    </button>\\r\\n                  </td>\\r\\n                </tr>\\r\\n                <tr><td colspan=\\\"2\\\"><mat-progress-bar *ngIf=\\\"loading\\\" mode=\\\"indeterminate\\\"></mat-progress-bar></td></tr>\\r\\n                <tr>\\r\\n                  <th>제목</th>\\r\\n                  <td>\\r\\n                    <mat-radio-group [(ngModel)]=\\\"item.modifying.title.rv\\\" name=\\\"rv\\\">\\r\\n                      <table class=\\\"table table-borderless inner-table\\\">\\r\\n                        <tr>\\r\\n                          <th><mat-radio-button value=\\\"kor\\\">KOR</mat-radio-button></th>\\r\\n                          <td>\\r\\n                            <mat-form-field class=\\\"form-item\\\">\\r\\n                              <input matInput placeholder=\\\"한국어 제목\\\" [(ngModel)]=\\\"item.modifying.title.kor\\\" name=\\\"kor\\\">\\r\\n                            </mat-form-field>\\r\\n                          </td>\\r\\n                        </tr>\\r\\n                        <tr>\\r\\n                          <th><mat-radio-button value=\\\"eng\\\">ENG</mat-radio-button></th>\\r\\n                          <td>\\r\\n                            <mat-form-field class=\\\"form-item\\\">\\r\\n                              <input matInput placeholder=\\\"알파벳 제목\\\" [(ngModel)]=\\\"item.modifying.title.eng\\\" name=\\\"eng\\\">\\r\\n                            </mat-form-field>\\r\\n                          </td>\\r\\n                        </tr>\\r\\n                        <tr>\\r\\n                          <th><mat-radio-button value=\\\"jpn\\\">JPN</mat-radio-button></th>\\r\\n                          <td>\\r\\n                            <mat-form-field class=\\\"form-item\\\">\\r\\n                              <input matInput placeholder=\\\"일어 제목\\\" [(ngModel)]=\\\"item.modifying.title.jpn\\\" name=\\\"jpn\\\">\\r\\n                            </mat-form-field>\\r\\n                          </td>\\r\\n                        </tr>\\r\\n                      </table>\\r\\n                    </mat-radio-group>\\r\\n                  </td>\\r\\n                </tr>\\r\\n                <tr>\\r\\n                  <th rowspan=\\\"2\\\">방영 분기</th>\\r\\n                  <td>\\r\\n                    <mat-form-field>\\r\\n                      <input matInput placeholder=\\\"연도\\\" type=\\\"number\\\" [(ngModel)]=\\\"item.modifying.premiered.year\\\" name=\\\"year\\\">\\r\\n                      <span matSuffix>년</span>\\r\\n                    </mat-form-field>\\r\\n                  </td>\\r\\n                </tr>\\r\\n                <tr>\\r\\n                  <td>\\r\\n                    <mat-form-field>\\r\\n                      <input matInput placeholder=\\\"분기\\\" type=\\\"number\\\" [(ngModel)]=\\\"item.modifying.premiered.quarter\\\" name=\\\"quarter\\\" max=\\\"4\\\" min=\\\"1\\\">\\r\\n                      <span matSuffix>분기</span>\\r\\n                    </mat-form-field>\\r\\n                  </td>\\r\\n                </tr>\\r\\n                <tr>\\r\\n                  <th>방영 시기</th>\\r\\n                  <td>\\r\\n                    <mat-form-field>\\r\\n                      <input matInput placeholder=\\\"방영 시작일\\\" [(ngModel)]=\\\"item.modifying.aired\\\" name=\\\"aired\\\">\\r\\n                    </mat-form-field>\\r\\n                  </td>\\r\\n                </tr>\\r\\n                <tr>\\r\\n                  <th>제작사</th>\\r\\n                  <td>\\r\\n                    <mat-form-field class=\\\"form-item\\\">\\r\\n                      <textarea matInput placeholder=\\\"제작사\\\" [(ngModel)]=\\\"studios\\\" name=\\\"studios\\\" rows=\\\"4\\\"></textarea>\\r\\n                      <mat-hint>여러 개의 경우, 줄을 나눠서 입력해주세요.</mat-hint>\\r\\n                    </mat-form-field>\\r\\n                  </td>\\r\\n                </tr>\\r\\n                <tr>\\r\\n                  <th>메모</th>\\r\\n                  <td>\\r\\n                    <mat-form-field class=\\\"form-item\\\">\\r\\n                      <textarea matInput placeholder=\\\"메모\\\" [(ngModel)]=\\\"item.modifying.memo\\\" name=\\\"memo\\\" rows=\\\"4\\\"></textarea>\\r\\n                    </mat-form-field>\\r\\n                  </td>\\r\\n                </tr>\\r\\n                <tr>\\r\\n                  <td colspan=\\\"2\\\" style=\\\"text-align: center;\\\">\\r\\n                    <button mat-button type=\\\"submit\\\">\\r\\n                      <mat-icon>check_circle_outline</mat-icon>\\r\\n                    </button>\\r\\n                    <button mat-button type=\\\"button\\\" (click)=\\\"closeEdit(item._id)\\\">\\r\\n                      <mat-icon>cancel</mat-icon>\\r\\n                    </button>\\r\\n                  </td>\\r\\n                </tr>\\r\\n              </table>\\r\\n            </form>\\r\\n\\r\\n          </td>\\r\\n        </tr>\\r\\n\\r\\n      </ng-container>\\r\\n    </tbody>\\r\\n  </table>\\r\\n</section>\\r\\n\\r\\n<section class=\\\"container\\\">\\r\\n  <table class=\\\"table table-dark\\\" *ngIf=\\\"ends\\\">\\r\\n    <caption>완결작 목록</caption>\\r\\n    <thead>\\r\\n      <tr>\\r\\n        <th (click)=\\\"align(1, 0)\\\">타입</th>\\r\\n        <th (click)=\\\"align(1, 1)\\\">제목</th>\\r\\n        <th (click)=\\\"align(1, 2)\\\" colspan=\\\"120\\\">제작사</th>\\r\\n        <th (click)=\\\"align(1, 3)\\\">방영분기</th>\\r\\n      </tr>\\r\\n    </thead>\\r\\n    <tbody>\\r\\n      <ng-container *ngFor=\\\"let item of ends; index as i\\\">\\r\\n\\r\\n        <tr [attr.id]=\\\"item._id\\\">\\r\\n          <td *ngIf=\\\"item.type == 'tva'\\\">TVA</td>\\r\\n          <td *ngIf=\\\"item.type == 'movie'\\\">극장판</td>\\r\\n          <td>\\r\\n            <span class=\\\"clickable\\\" (click)=\\\"click(item._id)\\\">{{item.title[item.title.rv]}}</span>\\r\\n          </td>\\r\\n          <td *ngFor=\\\"let studio of item.studios\\\" [attr.colspan]=\\\"120 / item.studios.length\\\">\\r\\n            <span class=\\\"clickable\\\" (click)=\\\"findByStudio(studio)\\\">{{studio}}</span>\\r\\n          </td>\\r\\n          <td>'{{item.premiered.year.toString().substring(2)}} - {{item.premiered.quarter}}</td>\\r\\n        </tr>\\r\\n        <tr *ngIf=\\\"item.opened\\\">\\r\\n          <td colspan=\\\"123\\\" style=\\\"padding: 0px;\\\">\\r\\n          \\r\\n            <!-- detail -->\\r\\n            <table class=\\\"table table-dark table-hover\\\">\\r\\n              <tr>\\r\\n                <td [attr.rowspan]=\\\"10 + item.studios.length\\\" style=\\\"text-align: center; vertical-align: middle;\\\">\\r\\n                  <img [src]=\\\"item.img\\\">\\r\\n                </td>\\r\\n                <th>타입</th>\\r\\n                <td *ngIf=\\\"item.type == 'tva'\\\">TVA</td>\\r\\n                <td *ngIf=\\\"item.type == 'movie'\\\">극장판</td>\\r\\n              </tr>\\r\\n              <tr>\\r\\n                <th rowspan=\\\"3\\\" style=\\\"vertical-align: middle;\\\">제목</th>\\r\\n                <td *ngIf=\\\"item.title.rv == 'kor'\\\">\\r\\n                  <b>\\r\\n                    {{item.title.kor}}\\r\\n                  </b>\\r\\n                </td>\\r\\n                <td *ngIf=\\\"item.title.rv != 'kor'\\\">\\r\\n                  {{item.title.kor}}\\r\\n                </td>\\r\\n              </tr>\\r\\n              <tr>\\r\\n                <td *ngIf=\\\"item.title.rv == 'eng'\\\">\\r\\n                  <b>\\r\\n                    {{item.title.eng}}\\r\\n                  </b>\\r\\n                </td>\\r\\n                <td *ngIf=\\\"item.title.rv != 'eng'\\\">\\r\\n                  {{item.title.eng}}\\r\\n                </td>\\r\\n              </tr>\\r\\n              <tr>\\r\\n                <td *ngIf=\\\"item.title.rv == 'jpn'\\\">\\r\\n                  <b>\\r\\n                    {{item.title.jpn}}\\r\\n                  </b>\\r\\n                </td>\\r\\n                <td *ngIf=\\\"item.title.rv != 'jpn'\\\">\\r\\n                  {{item.title.jpn}}\\r\\n                </td>\\r\\n              </tr>\\r\\n              <tr>\\r\\n                <th>방영 분기</th>\\r\\n                <td>{{item.premiered.year}}년 {{item.premiered.quarter}}분기</td>\\r\\n              </tr>\\r\\n              <tr>\\r\\n                <th>방영 시기</th>\\r\\n                <td>{{item.aired}}</td>\\r\\n              </tr>\\r\\n              <tr *ngFor=\\\"let studio of item.studios; index as j\\\">\\r\\n                <th *ngIf=\\\"j == 0\\\" [attr.rowspan]=\\\"item.studios.length\\\" style=\\\"vertical-align: middle;\\\">제작사</th>\\r\\n                <td>\\r\\n                  <span class=\\\"clickable\\\" (click)=\\\"findByStudio(studio)\\\">{{studio}}</span>\\r\\n                </td>\\r\\n              </tr>\\r\\n              <tr>\\r\\n                <th>메모</th>\\r\\n                <td>{{item.memo}}</td>\\r\\n              </tr>\\r\\n              <tr>\\r\\n                <th>MyAnimeList</th>\\r\\n                <td>\\r\\n                  <a [href]=\\\"'https://myanimelist.net/anime/' + item.mal_id\\\" target=\\\"_blank\\\" class=\\\"detail-link\\\">\\r\\n                    {{item.mal_id}}\\r\\n                  </a>\\r\\n                </td>\\r\\n              </tr>\\r\\n              <tr>\\r\\n                <td colspan=\\\"2\\\" style=\\\"text-align: center;\\\">\\r\\n                  <a mat-button [href]=\\\"searchService.namuwiki(item.title[item.title.rv])\\\" target=\\\"_blank\\\" [matTooltip]=\\\"searchService.namuwiki_label()\\\" class=\\\"no-hover-link\\\">\\r\\n                    <mat-icon>{{searchService.namuwiki_icon()}}</mat-icon>\\r\\n                  </a>\\r\\n                  <button mat-button (click)=\\\"findVideosAndSubtitles(item)\\\" matTooltip=\\\"영상/자막 찾기\\\">\\r\\n                    <mat-icon>find_in_page</mat-icon>\\r\\n                  </button>\\r\\n                  <button mat-button (click)=\\\"modify(item._id)\\\" matTooltip=\\\"수정\\\">\\r\\n                    <mat-icon>create</mat-icon>\\r\\n                  </button>\\r\\n                  <a mat-button class=\\\"no-hover-link\\\" [routerLink]=\\\"['/', watchingMap.get(item._id).type, 'data-from-watching', item._id]\\\" matTooltip=\\\"시청 완료\\\">\\r\\n                    <mat-icon>input</mat-icon>\\r\\n                  </a>\\r\\n                  <button mat-button (click)=\\\"remove(item._id, i, false)\\\" matTooltip=\\\"삭제\\\">\\r\\n                    <mat-icon>delete</mat-icon>\\r\\n                  </button>\\r\\n                </td>\\r\\n              </tr>\\r\\n            </table>\\r\\n\\r\\n          </td>\\r\\n        </tr>\\r\\n        <tr *ngIf=\\\"item.modifying\\\">\\r\\n          <td colspan=\\\"122\\\">\\r\\n            \\r\\n            <!-- modifying -->\\r\\n            <form (submit)=\\\"onModifySubmit(item._id, i, false)\\\">\\r\\n              <table class=\\\"table table-secondary\\\" style=\\\"width: 70%; margin: auto;\\\">\\r\\n                <tr>\\r\\n                  <th style=\\\"width: 30%;\\\">검색</th>\\r\\n                  <td>\\r\\n                    <mat-form-field class=\\\"form-item-select\\\">\\r\\n                      <mat-label>검색옵션</mat-label>\\r\\n                      <mat-select #searchOption>\\r\\n                        <mat-option value=\\\"onnada\\\">Onnada</mat-option>\\r\\n                        <mat-option value=\\\"mal\\\">MyAnimeList</mat-option>\\r\\n                        <mat-option value=\\\"mal_id\\\">MyAnimeList ID</mat-option>\\r\\n                      </mat-select>\\r\\n                    </mat-form-field>\\r\\n                    <mat-form-field appearance=\\\"outline\\\">\\r\\n                      <mat-label>검색어를 입력해주세요.</mat-label>\\r\\n                      <input matInput #searchBox (keyup.enter)=\\\"search(searchOption.value, searchBox.value, item.modifying)\\\">\\r\\n                    </mat-form-field>\\r\\n                    <button mat-flat-button type=\\\"button\\\" (click)=\\\"search(searchOption.value, searchBox.value, item.modifying)\\\">\\r\\n                      <mat-icon>search</mat-icon>\\r\\n                    </button>\\r\\n                  </td>\\r\\n                </tr>\\r\\n                <tr><td colspan=\\\"2\\\"><mat-progress-bar *ngIf=\\\"loading\\\" mode=\\\"indeterminate\\\"></mat-progress-bar></td></tr>\\r\\n                <tr>\\r\\n                  <th>타입</th>\\r\\n                  <td>\\r\\n                    <mat-form-field class=\\\"form-item\\\">\\r\\n                      <mat-label>타입</mat-label>\\r\\n                      <mat-select [(ngModel)]=\\\"item.modifying.type\\\" name=\\\"type\\\">\\r\\n                        <mat-option value=\\\"tva\\\">TVA</mat-option>\\r\\n                        <mat-option value=\\\"movie\\\">극장판</mat-option>\\r\\n                      </mat-select>\\r\\n                    </mat-form-field>\\r\\n                  </td>\\r\\n                </tr>\\r\\n                <tr>\\r\\n                  <th>제목</th>\\r\\n                  <td>\\r\\n                    <mat-radio-group [(ngModel)]=\\\"item.modifying.title.rv\\\" name=\\\"rv\\\">\\r\\n                      <table class=\\\"table table-borderless inner-table\\\">\\r\\n                        <tr>\\r\\n                          <th><mat-radio-button value=\\\"kor\\\">KOR</mat-radio-button></th>\\r\\n                          <td>\\r\\n                            <mat-form-field class=\\\"form-item\\\">\\r\\n                              <input matInput placeholder=\\\"한국어 제목\\\" [(ngModel)]=\\\"item.modifying.title.kor\\\" name=\\\"kor\\\">\\r\\n                            </mat-form-field>\\r\\n                          </td>\\r\\n                        </tr>\\r\\n                        <tr>\\r\\n                          <th><mat-radio-button value=\\\"eng\\\">ENG</mat-radio-button></th>\\r\\n                          <td>\\r\\n                            <mat-form-field class=\\\"form-item\\\">\\r\\n                              <input matInput placeholder=\\\"알파벳 제목\\\" [(ngModel)]=\\\"item.modifying.title.eng\\\" name=\\\"eng\\\">\\r\\n                            </mat-form-field>\\r\\n                          </td>\\r\\n                        </tr>\\r\\n                        <tr>\\r\\n                          <th><mat-radio-button value=\\\"jpn\\\">JPN</mat-radio-button></th>\\r\\n                          <td>\\r\\n                            <mat-form-field class=\\\"form-item\\\">\\r\\n                              <input matInput placeholder=\\\"일어 제목\\\" [(ngModel)]=\\\"item.modifying.title.jpn\\\" name=\\\"jpn\\\">\\r\\n                            </mat-form-field>\\r\\n                          </td>\\r\\n                        </tr>\\r\\n                      </table>\\r\\n                    </mat-radio-group>\\r\\n                  </td>\\r\\n                </tr>\\r\\n                <tr>\\r\\n                  <th rowspan=\\\"2\\\">방영 분기</th>\\r\\n                  <td>\\r\\n                    <mat-form-field>\\r\\n                      <input matInput placeholder=\\\"연도\\\" type=\\\"number\\\" [(ngModel)]=\\\"item.modifying.premiered.year\\\" name=\\\"year\\\">\\r\\n                      <span matSuffix>년</span>\\r\\n                    </mat-form-field>\\r\\n                  </td>\\r\\n                </tr>\\r\\n                <tr>\\r\\n                  <td>\\r\\n                    <mat-form-field>\\r\\n                      <input matInput placeholder=\\\"분기\\\" type=\\\"number\\\" [(ngModel)]=\\\"item.modifying.premiered.quarter\\\" name=\\\"quarter\\\" max=\\\"4\\\" min=\\\"1\\\">\\r\\n                      <span matSuffix>분기</span>\\r\\n                    </mat-form-field>\\r\\n                  </td>\\r\\n                </tr>\\r\\n                <tr>\\r\\n                  <th>방영 시기</th>\\r\\n                  <td>\\r\\n                    <mat-form-field>\\r\\n                      <input matInput placeholder=\\\"방영 시작일\\\" [(ngModel)]=\\\"item.modifying.aired\\\" name=\\\"aired\\\">\\r\\n                    </mat-form-field>\\r\\n                  </td>\\r\\n                </tr>\\r\\n                <tr>\\r\\n                  <th>제작사</th>\\r\\n                  <td>\\r\\n                    <mat-form-field class=\\\"form-item\\\">\\r\\n                      <textarea matInput placeholder=\\\"제작사\\\" [(ngModel)]=\\\"studios\\\" name=\\\"studios\\\" rows=\\\"4\\\"></textarea>\\r\\n                      <mat-hint>여러 개의 경우, 줄을 나눠서 입력해주세요.</mat-hint>\\r\\n                    </mat-form-field>\\r\\n                  </td>\\r\\n                </tr>\\r\\n                <tr>\\r\\n                  <th>메모</th>\\r\\n                  <td>\\r\\n                    <mat-form-field class=\\\"form-item\\\">\\r\\n                      <textarea matInput placeholder=\\\"메모\\\" [(ngModel)]=\\\"item.modifying.memo\\\" name=\\\"memo\\\" rows=\\\"4\\\"></textarea>\\r\\n                    </mat-form-field>\\r\\n                  </td>\\r\\n                </tr>\\r\\n                <tr>\\r\\n                  <td colspan=\\\"2\\\" style=\\\"text-align: center;\\\">\\r\\n                    <button mat-button type=\\\"submit\\\">\\r\\n                      <mat-icon>check_circle_outline</mat-icon>\\r\\n                    </button>\\r\\n                    <button mat-button type=\\\"button\\\" (click)=\\\"closeEdit(item._id)\\\">\\r\\n                      <mat-icon>cancel</mat-icon>\\r\\n                    </button>\\r\\n                  </td>\\r\\n                </tr>\\r\\n              </table>\\r\\n            </form>\\r\\n\\r\\n          </td>\\r\\n        </tr>\\r\\n\\r\\n      </ng-container>\\r\\n    </tbody>\\r\\n  </table>\\r\\n</section>\\r\\n\\r\\n<section>\\r\\n  <div class=\\\"container\\\" id=\\\"writing-area\\\" #writingArea>\\r\\n    <table *ngIf=\\\"!writing\\\" class=\\\"table table-dark\\\">\\r\\n      <tr>\\r\\n        <td>\\r\\n          <span class=\\\"clickable\\\" (click)=\\\"write()\\\">+ 새로 작성하기</span>\\r\\n        </td>\\r\\n      </tr>\\r\\n    </table>\\r\\n    <form (submit)=\\\"onWriteSubmit()\\\" *ngIf=\\\"writing\\\">\\r\\n      <table class=\\\"table table-secondary\\\" style=\\\"width: 70%; margin: auto;\\\">\\r\\n        <tr>\\r\\n          <th style=\\\"width: 30%;\\\">검색</th>\\r\\n          <td>\\r\\n            <mat-form-field class=\\\"form-item-select\\\">\\r\\n              <mat-label>검색옵션</mat-label>\\r\\n              <mat-select #searchOption>\\r\\n                <mat-option value=\\\"onnada\\\">Onnada</mat-option>\\r\\n                <mat-option value=\\\"mal\\\">MyAnimeList</mat-option>\\r\\n                <mat-option value=\\\"mal_id\\\">MyAnimeList ID</mat-option>\\r\\n              </mat-select>\\r\\n            </mat-form-field>\\r\\n            <mat-form-field appearance=\\\"outline\\\">\\r\\n              <mat-label>검색어를 입력해주세요.</mat-label>\\r\\n              <input matInput #searchBox (keyup.enter)=\\\"search(searchOption.value, searchBox.value, writing)\\\">\\r\\n            </mat-form-field>\\r\\n            <button mat-flat-button type=\\\"button\\\" (click)=\\\"search(searchOption.value, searchBox.value, writing)\\\">\\r\\n              <mat-icon>search</mat-icon>\\r\\n            </button>\\r\\n          </td>\\r\\n        </tr>\\r\\n        <tr><td colspan=\\\"2\\\"><mat-progress-bar *ngIf=\\\"loading\\\" mode=\\\"indeterminate\\\"></mat-progress-bar></td></tr>\\r\\n        <tr>\\r\\n          <th>타입</th>\\r\\n          <td>\\r\\n            <mat-form-field>\\r\\n              <mat-label>타입</mat-label>\\r\\n              <mat-select [(ngModel)]=\\\"writing.type\\\" name=\\\"type\\\">\\r\\n                <mat-option value=\\\"tva\\\">TVA</mat-option>\\r\\n                <mat-option value=\\\"movie\\\">극장판</mat-option>\\r\\n              </mat-select>\\r\\n            </mat-form-field>\\r\\n          </td>\\r\\n        </tr>\\r\\n        <tr>\\r\\n          <th>제목</th>\\r\\n          <td>\\r\\n            <mat-radio-group [(ngModel)]=\\\"writing.title.rv\\\" name=\\\"rv\\\">\\r\\n              <table class=\\\"table table-borderless\\\">\\r\\n                <tr>\\r\\n                  <th><mat-radio-button value=\\\"kor\\\">KOR</mat-radio-button></th>\\r\\n                  <td>\\r\\n                    <mat-form-field class=\\\"form-item\\\">\\r\\n                      <input matInput placeholder=\\\"한국어 제목\\\" [(ngModel)]=\\\"writing.title.kor\\\" name=\\\"kor\\\">\\r\\n                    </mat-form-field>\\r\\n                  </td>\\r\\n                </tr>\\r\\n                <tr>\\r\\n                  <th><mat-radio-button value=\\\"eng\\\">ENG</mat-radio-button></th>\\r\\n                  <td>\\r\\n                    <mat-form-field class=\\\"form-item\\\">\\r\\n                      <input matInput placeholder=\\\"알파벳 제목\\\" [(ngModel)]=\\\"writing.title.eng\\\" name=\\\"eng\\\">\\r\\n                    </mat-form-field>\\r\\n                  </td>\\r\\n                </tr>\\r\\n                <tr>\\r\\n                  <th><mat-radio-button value=\\\"jpn\\\">JPN</mat-radio-button></th>\\r\\n                  <td>\\r\\n                    <mat-form-field class=\\\"form-item\\\">\\r\\n                      <input matInput placeholder=\\\"일어 제목\\\" [(ngModel)]=\\\"writing.title.jpn\\\" name=\\\"jpn\\\">\\r\\n                    </mat-form-field>\\r\\n                  </td>\\r\\n                </tr>\\r\\n              </table>\\r\\n            </mat-radio-group>\\r\\n          </td>\\r\\n        </tr>\\r\\n        <tr>\\r\\n          <th>OHLI</th>\\r\\n          <td>\\r\\n            <mat-form-field>\\r\\n              <input matInput placeholder=\\\"OHLI ID\\\" type=\\\"number\\\" [(ngModel)]=\\\"writing.ohli_id\\\" name=\\\"ohli_id\\\">\\r\\n            </mat-form-field>\\r\\n            <button mat-flat-button type=\\\"button\\\" (click)=\\\"findOhliId(writing)\\\">\\r\\n              <mat-icon>search</mat-icon>\\r\\n            </button>&nbsp;\\r\\n            <button mat-flat-button type=\\\"button\\\" (click)=\\\"removeOhliId(writing)\\\">\\r\\n              <mat-icon>clear</mat-icon>\\r\\n            </button>\\r\\n          </td>\\r\\n        </tr>\\r\\n        <tr>\\r\\n          <th rowspan=\\\"2\\\">방영 분기</th>\\r\\n          <td>\\r\\n            <mat-form-field>\\r\\n              <input matInput placeholder=\\\"연도\\\" type=\\\"number\\\" [(ngModel)]=\\\"writing.premiered.year\\\" name=\\\"year\\\">\\r\\n              <span matSuffix>년</span>\\r\\n            </mat-form-field>\\r\\n          </td>\\r\\n        </tr>\\r\\n        <tr>\\r\\n          <td>\\r\\n            <mat-form-field>\\r\\n              <input matInput placeholder=\\\"분기\\\" type=\\\"number\\\" [(ngModel)]=\\\"writing.premiered.quarter\\\" name=\\\"quarter\\\" max=\\\"4\\\" min=\\\"1\\\">\\r\\n              <span matSuffix>분기</span>\\r\\n            </mat-form-field>\\r\\n          </td>\\r\\n        </tr>\\r\\n        <tr>\\r\\n          <th>방영 시기</th>\\r\\n          <td>\\r\\n            <mat-form-field>\\r\\n              <input matInput placeholder=\\\"방영 시작일\\\" [(ngModel)]=\\\"writing.aired\\\" name=\\\"aired\\\">\\r\\n            </mat-form-field>\\r\\n          </td>\\r\\n        </tr>\\r\\n        <tr>\\r\\n          <th>제작사</th>\\r\\n          <td>\\r\\n            <mat-form-field class=\\\"form-item\\\">\\r\\n              <textarea matInput placeholder=\\\"제작사\\\" [(ngModel)]=\\\"studios\\\" name=\\\"studios\\\" rows=\\\"4\\\"></textarea>\\r\\n              <mat-hint>여러 개의 경우, 줄을 나눠서 입력해주세요.</mat-hint>\\r\\n            </mat-form-field>\\r\\n          </td>\\r\\n        </tr>\\r\\n        <tr>\\r\\n          <th>메모</th>\\r\\n          <td>\\r\\n            <mat-form-field class=\\\"form-item\\\">\\r\\n              <textarea matInput placeholder=\\\"메모\\\" [(ngModel)]=\\\"writing.memo\\\" name=\\\"memo\\\" rows=\\\"4\\\"></textarea>\\r\\n            </mat-form-field>\\r\\n          </td>\\r\\n        </tr>\\r\\n        <tr>\\r\\n          <td colspan=\\\"2\\\" style=\\\"text-align: center;\\\">\\r\\n            <button mat-button type=\\\"submit\\\">\\r\\n              <mat-icon>check_circle_outline</mat-icon>\\r\\n            </button>\\r\\n            <button mat-button type=\\\"button\\\" (click)=\\\"closeEdit()\\\">\\r\\n              <mat-icon>cancel</mat-icon>\\r\\n            </button>\\r\\n          </td>\\r\\n        </tr>\\r\\n      </table>\\r\\n    </form>\\r\\n  </div>\\r\\n</section>\\r\\n\"","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nconst routes: Routes = [];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forRoot(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class AppRoutingModule { }\r\n","export default \".mat-tabs:hover {\\r\\n    text-decoration: none;\\r\\n    color: rgb(119, 119, 120);\\r\\n}\\r\\n\\r\\nfooter * {\\r\\n    /* color: rgb(0, 175, 219); */\\r\\n    /* color: white; */\\r\\n    color: rgb(235, 235, 235);\\r\\n}\\r\\n\\r\\n#scroll-button {\\r\\n    background-color: rgb(248, 249, 250);\\r\\n    position: fixed;\\r\\n    width: 40px;\\r\\n    height: 60px;\\r\\n    right: 5px;\\r\\n    bottom: 5px;\\r\\n    text-align: center;\\r\\n    border-radius: 5px;\\r\\n}\\r\\n\\r\\n#scroll-button td:hover {\\r\\n    border-radius: 5px;\\r\\n    background-color: rgb(186, 196, 205);\\r\\n}\\r\\n\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvYXBwLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxxQkFBcUI7SUFDckIseUJBQXlCO0FBQzdCOztBQUVBO0lBQ0ksNkJBQTZCO0lBQzdCLGtCQUFrQjtJQUNsQix5QkFBeUI7QUFDN0I7O0FBRUE7SUFDSSxvQ0FBb0M7SUFDcEMsZUFBZTtJQUNmLFdBQVc7SUFDWCxZQUFZO0lBQ1osVUFBVTtJQUNWLFdBQVc7SUFDWCxrQkFBa0I7SUFDbEIsa0JBQWtCO0FBQ3RCOztBQUVBO0lBQ0ksa0JBQWtCO0lBQ2xCLG9DQUFvQztBQUN4QyIsImZpbGUiOiJzcmMvYXBwL2FwcC5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLm1hdC10YWJzOmhvdmVyIHtcclxuICAgIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcclxuICAgIGNvbG9yOiByZ2IoMTE5LCAxMTksIDEyMCk7XHJcbn1cclxuXHJcbmZvb3RlciAqIHtcclxuICAgIC8qIGNvbG9yOiByZ2IoMCwgMTc1LCAyMTkpOyAqL1xyXG4gICAgLyogY29sb3I6IHdoaXRlOyAqL1xyXG4gICAgY29sb3I6IHJnYigyMzUsIDIzNSwgMjM1KTtcclxufVxyXG5cclxuI3Njcm9sbC1idXR0b24ge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogcmdiKDI0OCwgMjQ5LCAyNTApO1xyXG4gICAgcG9zaXRpb246IGZpeGVkO1xyXG4gICAgd2lkdGg6IDQwcHg7XHJcbiAgICBoZWlnaHQ6IDYwcHg7XHJcbiAgICByaWdodDogNXB4O1xyXG4gICAgYm90dG9tOiA1cHg7XHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICBib3JkZXItcmFkaXVzOiA1cHg7XHJcbn1cclxuXHJcbiNzY3JvbGwtYnV0dG9uIHRkOmhvdmVyIHtcclxuICAgIGJvcmRlci1yYWRpdXM6IDVweDtcclxuICAgIGJhY2tncm91bmQtY29sb3I6IHJnYigxODYsIDE5NiwgMjA1KTtcclxufVxyXG4iXX0= */\"","import { Component } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\n\r\n@Component({\r\n  selector: 'app-root',\r\n  templateUrl: './app.component.html',\r\n  styleUrls: ['./app.component.css']\r\n})\r\nexport class AppComponent {\r\n  navLinks = [\r\n    { path: '/tva', label: 'TVA' },\r\n    { path: '/movie', label: '극장판' },\r\n    { path: '/watching', label: '시청 중인 목록' },\r\n    { path: '/plan', label: '시청 예정 목록' }\r\n  ];\r\n\r\n  constructor(\r\n    public router: Router\r\n  ) { }\r\n\r\n  scrollUp() {\r\n    window.scroll(0, 0);\r\n  }\r\n\r\n  scrollDown() {\r\n    let footer = document.getElementById('footer');\r\n    footer.scrollIntoView();\r\n  }\r\n\r\n}\r\n","import { BrowserModule } from '@angular/platform-browser';\r\nimport { NgModule } from '@angular/core';\r\n\r\nimport { AppRoutingModule } from './app-routing.module';\r\nimport { AppComponent } from './app.component';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { HttpClientModule, HTTP_INTERCEPTORS } from '@angular/common/http';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { NgFlashMessagesModule } from 'ng-flash-messages';\r\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\r\nimport { ContentTypeInterceptor } from 'src/app/interceptors/content.type.interceptor';\r\nimport { SafeHtml } from 'src/app/pipes/safe.html';\r\nimport { SafeUrl } from 'src/app/pipes/safe.url';\r\n\r\nimport {\r\n  MatButtonModule,\r\n  MatFormFieldModule,\r\n  MatInputModule,\r\n  MatTabsModule,\r\n  MatProgressSpinnerModule,\r\n  MatProgressBarModule,\r\n  MatIconModule,\r\n  MatRadioModule,\r\n  MatSelectModule,\r\n  MatDialogModule,\r\n  MatAutocompleteModule,\r\n  MatCheckboxModule,\r\n  MatPaginatorModule,\r\n  MatTooltipModule,\r\n  MAT_TOOLTIP_DEFAULT_OPTIONS,\r\n  MatTooltipDefaultOptions\r\n} from '@angular/material';\r\n\r\nimport { TvaService } from './services/tva.service';\r\nimport { MovieService } from './services/movie.service';\r\nimport { WatchingService } from './services/watching.service';\r\nimport { SearchService } from './services/search.service';\r\nimport { PlanService } from './services/plan.service';\r\n\r\nimport { HomeComponent } from './components/home/home.component';\r\nimport { TvaComponent } from './components/tva/tva.component';\r\nimport { MovieComponent } from './components/movie/movie.component';\r\nimport { WatchingComponent } from './components/watching/watching.component';\r\nimport { PlanComponent } from './components/plan/plan.component';\r\nimport { NoPageComponent } from './components/no-page/no-page.component';\r\n\r\nimport { SearchDialogComponent } from './components/dialogs/search-dialog/search-dialog.component';\r\nimport { OhliDialogComponent } from './components/dialogs/ohli-dialog/ohli-dialog.component';\r\nimport { TextFieldDialogComponent } from './components/dialogs/text-field-dialog/text-field-dialog.component';\r\nimport { StudioDialogComponent } from './components/dialogs/studio-dialog/studio-dialog.component';\r\nimport { EndedDialogComponent } from './components/dialogs/ended-dialog/ended-dialog.component';\r\n\r\nconst appRoutes: Routes = [\r\n  { path: '', component: HomeComponent },\r\n  { path: 'tva', component: TvaComponent },\r\n  { path: 'tva/:_id/:series/:sequence', component: TvaComponent },\r\n  { path: 'tva/:from/:incompletion_id', component: TvaComponent },\r\n  { path: 'movie', component: MovieComponent },\r\n  { path: 'movie/:_id/:series/:sequence', component: MovieComponent },\r\n  { path: 'movie/:from/:incompletion_id', component: MovieComponent },\r\n  { path: 'watching', component: WatchingComponent },\r\n  { path: 'watching/:_id', component: WatchingComponent },\r\n  { path: 'watching/data-from-plan/:plan_id', component: WatchingComponent },\r\n  { path: 'plan', component: PlanComponent },\r\n  { path: 'plan/:_id', component: PlanComponent },\r\n  { path: 'no-page', component: NoPageComponent },\r\n  { path: '**', component: NoPageComponent }\r\n];\r\n\r\n@NgModule({\r\n  declarations: [\r\n    AppComponent,\r\n    SafeHtml,\r\n    SafeUrl,\r\n    HomeComponent,\r\n    TvaComponent,\r\n    MovieComponent,\r\n    WatchingComponent,\r\n    PlanComponent,\r\n    SearchDialogComponent,\r\n    OhliDialogComponent,\r\n    TextFieldDialogComponent,\r\n    NoPageComponent,\r\n    StudioDialogComponent,\r\n    EndedDialogComponent\r\n  ],\r\n  imports: [\r\n    BrowserModule,\r\n    AppRoutingModule,\r\n    RouterModule.forRoot(appRoutes, {\r\n      useHash: true,\r\n      onSameUrlNavigation: 'reload',\r\n      scrollPositionRestoration: 'enabled'\r\n    }),\r\n    HttpClientModule,\r\n    NgFlashMessagesModule.forRoot(),\r\n    FormsModule,\r\n    BrowserAnimationsModule,\r\n    ReactiveFormsModule,\r\n\r\n    MatButtonModule,\r\n    MatFormFieldModule,\r\n    MatInputModule,\r\n    MatTabsModule,\r\n    MatProgressSpinnerModule,\r\n    MatProgressBarModule,\r\n    MatIconModule,\r\n    MatRadioModule,\r\n    MatSelectModule,\r\n    MatDialogModule,\r\n    MatAutocompleteModule,\r\n    MatCheckboxModule,\r\n    MatPaginatorModule,\r\n    MatTooltipModule\r\n  ],\r\n  exports: [\r\n    RouterModule,\r\n    MatButtonModule,\r\n    MatFormFieldModule,\r\n    MatInputModule,\r\n    MatTabsModule,\r\n    MatProgressSpinnerModule,\r\n    MatProgressBarModule,\r\n    MatIconModule,\r\n    MatRadioModule,\r\n    MatSelectModule,\r\n    MatDialogModule,\r\n    MatAutocompleteModule,\r\n    MatCheckboxModule,\r\n    MatPaginatorModule,\r\n    MatTooltipModule\r\n  ],\r\n  entryComponents: [\r\n    SearchDialogComponent,\r\n    OhliDialogComponent,\r\n    TextFieldDialogComponent,\r\n    StudioDialogComponent,\r\n    EndedDialogComponent\r\n  ],\r\n  providers: [\r\n    { provide: HTTP_INTERCEPTORS, useClass: ContentTypeInterceptor, multi: true },\r\n    // { provide: MAT_DIALOG_DEFAULT_OPTIONS, useValue: {hasBackdrop: false} },\r\n    { provide: MAT_TOOLTIP_DEFAULT_OPTIONS, useValue: {position: 'above'} },\r\n    TvaService,\r\n    MovieService,\r\n    WatchingService,\r\n    SearchService,\r\n    PlanService\r\n  ],\r\n  bootstrap: [ AppComponent ]\r\n})\r\nexport class AppModule { }\r\n","export default \"a {\\r\\n    color: black;\\r\\n}\\r\\n\\r\\na:hover {\\r\\n    color: black;\\r\\n}\\r\\n\\r\\n.btn-link:hover {\\r\\n    text-decoration: none;\\r\\n}\\r\\n\\r\\n.btn-link:focus {\\r\\n    text-decoration: none;\\r\\n}\\r\\n\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50cy9kaWFsb2dzL2VuZGVkLWRpYWxvZy9lbmRlZC1kaWFsb2cuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLFlBQVk7QUFDaEI7O0FBRUE7SUFDSSxZQUFZO0FBQ2hCOztBQUVBO0lBQ0kscUJBQXFCO0FBQ3pCOztBQUVBO0lBQ0kscUJBQXFCO0FBQ3pCIiwiZmlsZSI6InNyYy9hcHAvY29tcG9uZW50cy9kaWFsb2dzL2VuZGVkLWRpYWxvZy9lbmRlZC1kaWFsb2cuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbImEge1xyXG4gICAgY29sb3I6IGJsYWNrO1xyXG59XHJcblxyXG5hOmhvdmVyIHtcclxuICAgIGNvbG9yOiBibGFjaztcclxufVxyXG5cclxuLmJ0bi1saW5rOmhvdmVyIHtcclxuICAgIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcclxufVxyXG5cclxuLmJ0bi1saW5rOmZvY3VzIHtcclxuICAgIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcclxufVxyXG4iXX0= */\"","import { Component, Inject } from '@angular/core';\r\nimport { MatDialogRef, MAT_DIALOG_DATA, MatDialog } from '@angular/material';\r\nimport { ItemTitle } from 'src/app/models/item';\r\nimport { WatchingVideo, Ohys, WatchingSubtitle } from 'src/app/models/watching';\r\nimport { WatchingService } from 'src/app/services/watching.service';\r\nimport { SearchService } from 'src/app/services/search.service';\r\nimport { SendingOhliProtocol } from 'src/app/models/ohli';\r\nimport { OhliDialogComponent } from '../ohli-dialog/ohli-dialog.component';\r\n\r\n@Component({\r\n  selector: 'app-ended-dialog',\r\n  templateUrl: './ended-dialog.component.html',\r\n  styleUrls: ['./ended-dialog.component.css']\r\n})\r\nexport class EndedDialogComponent {\r\n  year: number = undefined;\r\n\r\n  videos: WatchingVideo[] = undefined;\r\n  ohyses: Ohys[] = undefined;\r\n  subtitles: WatchingSubtitle[] = [];\r\n\r\n  constructor(\r\n    public dialogRef: MatDialogRef<EndedDialogComponent>,\r\n    @Inject(MAT_DIALOG_DATA) public data: SendingEndedProtocol,\r\n    private watchingService: WatchingService,\r\n    private searchService: SearchService,\r\n    private dialog: MatDialog,\r\n  ) {\r\n    const title = this.data.title.eng;\r\n    this.searchService.mal(this.data.mal_id).subscribe(malSearched => {\r\n      if ( !malSearched.aired.end ) {\r\n        alert('종영 연도를 찾을 수 없습니다.\\n현재 방영 중인 항목일 수도 있습니다.');\r\n        this.year = new Date().getFullYear();\r\n        this.videos = this.ohyses = [];\r\n      } else {\r\n        this.year = new Date(malSearched.aired.end).getFullYear()\r\n        this.watchingService.getVideos(title).subscribe(videos => this.videos = videos);\r\n        this.watchingService.getOhys(title).subscribe(ohyses => this.ohyses = ohyses);\r\n      }\r\n    });\r\n  }\r\n\r\n  findOhliId() {\r\n    const data: SendingOhliProtocol = {title: this.data.title.kor, ohli_id: null, year: this.year};\r\n    const dialogRef = this.dialog.open(OhliDialogComponent, {data: data});\r\n    dialogRef.afterClosed().subscribe(() => {\r\n      if ( data.ohli_id ) {\r\n        this.subtitles = undefined;\r\n        this.watchingService.getSubtitles(data.ohli_id).subscribe(subtitles => this.subtitles = subtitles);\r\n      }\r\n    });\r\n  }\r\n\r\n  getDate(dateString: string): string {\r\n    let today = new Date();\r\n    let given = new Date(dateString);\r\n    if ( given.getMonth() == today.getMonth() && given.getDate() == today.getDate() )\r\n      return dateString.substring(11);\r\n    else\r\n      return `${given.getMonth()+1}/${given.getDate()}`;\r\n  }\r\n\r\n  getSize(size: number): string {\r\n    const dividedSize = Math.round(size / 1024 / 1024);\r\n    if ( dividedSize >= 1000 ) return (dividedSize / 1024).toFixed(2) + 'GB';\r\n    else return dividedSize + 'MB';\r\n  }\r\n\r\n  onClose() {\r\n    this.dialogRef.close();\r\n  }\r\n\r\n}\r\n\r\ninterface SendingEndedProtocol {\r\n  title: ItemTitle,\r\n  mal_id: number,\r\n  img: string\r\n}\r\n","export default \"img {\\r\\n    max-width: 250px;\\r\\n}\\r\\n\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50cy9kaWFsb2dzL29obGktZGlhbG9nL29obGktZGlhbG9nLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxnQkFBZ0I7QUFDcEIiLCJmaWxlIjoic3JjL2FwcC9jb21wb25lbnRzL2RpYWxvZ3Mvb2hsaS1kaWFsb2cvb2hsaS1kaWFsb2cuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbImltZyB7XHJcbiAgICBtYXgtd2lkdGg6IDI1MHB4O1xyXG59XHJcbiJdfQ== */\"","import { Component, Inject } from '@angular/core';\r\nimport { Ohli, SendingOhliProtocol } from 'src/app/models/ohli';\r\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material';\r\nimport { WatchingService } from 'src/app/services/watching.service';\r\n\r\n@Component({\r\n  selector: 'app-ohli-dialog',\r\n  templateUrl: './ohli-dialog.component.html',\r\n  styleUrls: ['./ohli-dialog.component.css']\r\n})\r\nexport class OhliDialogComponent {\r\n  loading: boolean = true;\r\n  ohlis: Ohli[];\r\n\r\n  constructor(\r\n    public dialogRef: MatDialogRef<OhliDialogComponent>,\r\n    @Inject(MAT_DIALOG_DATA) public data: SendingOhliProtocol,\r\n    private watchingService: WatchingService\r\n  ) {\r\n    if ( this.data.year ) {\r\n      this.watchingService.ohli(this.data.title, this.data.year).subscribe(ohlis => {\r\n        this.ohlis = ohlis;\r\n        this.loading = false;\r\n      });\r\n    } else {\r\n      this.watchingService.ohli(this.data.title).subscribe(ohlis => {\r\n        this.ohlis = ohlis;\r\n        this.loading = false;\r\n      });\r\n    }\r\n  }\r\n\r\n  onClose() {\r\n    this.dialogRef.close();\r\n  }\r\n\r\n  selectItem(i: number) {\r\n    this.data.ohli_id = this.ohlis[i].id;\r\n    this.onClose();\r\n  }\r\n\r\n}\r\n","export default \"a {\\r\\n    color: black;\\r\\n}\\r\\n\\r\\na:hover {\\r\\n    color: black;\\r\\n}\\r\\n\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50cy9kaWFsb2dzL3NlYXJjaC1kaWFsb2cvc2VhcmNoLWRpYWxvZy5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksWUFBWTtBQUNoQjs7QUFFQTtJQUNJLFlBQVk7QUFDaEIiLCJmaWxlIjoic3JjL2FwcC9jb21wb25lbnRzL2RpYWxvZ3Mvc2VhcmNoLWRpYWxvZy9zZWFyY2gtZGlhbG9nLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyJhIHtcclxuICAgIGNvbG9yOiBibGFjaztcclxufVxyXG5cclxuYTpob3ZlciB7XHJcbiAgICBjb2xvcjogYmxhY2s7XHJcbn1cclxuIl19 */\"","import { Component, Inject } from '@angular/core';\r\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material';\r\nimport { SendingSearchedProtocol, Searched } from 'src/app/models/searched';\r\nimport { SearchService } from 'src/app/services/search.service';\r\n\r\n@Component({\r\n  selector: 'app-search-dialog',\r\n  templateUrl: './search-dialog.component.html',\r\n  styleUrls: ['./search-dialog.component.css']\r\n})\r\nexport class SearchDialogComponent {\r\n  loading: boolean = true;\r\n  searches: Searched[];\r\n\r\n  constructor(\r\n    public dialogRef: MatDialogRef<SearchDialogComponent>,\r\n    @Inject(MAT_DIALOG_DATA) public data: SendingSearchedProtocol,\r\n    private searchService: SearchService\r\n  ) {\r\n    this.searchService.search(this.data.search.text, this.data.search.option).subscribe(searches => {\r\n      this.searches = searches;\r\n      this.loading = false;\r\n    }, err => {\r\n      alert('검색 도중 에러가 발생하였습니다.\\n' + err.name + '\\n' + err.statusText);\r\n    });\r\n  }\r\n\r\n  onClose() {\r\n    this.dialogRef.close();\r\n  }\r\n\r\n  selectItem(i: number) {\r\n    this.loading = true;\r\n    this.searchService.mal(this.searches[i].mal_id).subscribe(malSearched => {\r\n      this.data.malSearched = malSearched;\r\n      if ( this.searches[i].title_kor ) this.data.malSearched.title.kor = this.searches[i].title_kor;\r\n      this.loading = false;\r\n      this.onClose();\r\n    });\r\n  }\r\n\r\n  getLink(): string {\r\n    if ( this.data.search.option == 'onnada' ) return 'http://onnada.com/search/?t=anime&q=' + encodeURI(this.data.search.text);\r\n    else 'https://myanimelist.net/search/all?q=' + encodeURI(this.data.search.text);\r\n  }\r\n\r\n}\r\n","export default \"a {\\r\\n    color: black;\\r\\n    text-decoration: none;\\r\\n}\\r\\n\\r\\na:hover {\\r\\n    text-decoration: underline;\\r\\n}\\r\\n\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50cy9kaWFsb2dzL3N0dWRpby1kaWFsb2cvc3R1ZGlvLWRpYWxvZy5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksWUFBWTtJQUNaLHFCQUFxQjtBQUN6Qjs7QUFFQTtJQUNJLDBCQUEwQjtBQUM5QiIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudHMvZGlhbG9ncy9zdHVkaW8tZGlhbG9nL3N0dWRpby1kaWFsb2cuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbImEge1xyXG4gICAgY29sb3I6IGJsYWNrO1xyXG4gICAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xyXG59XHJcblxyXG5hOmhvdmVyIHtcclxuICAgIHRleHQtZGVjb3JhdGlvbjogdW5kZXJsaW5lO1xyXG59XHJcbiJdfQ== */\"","import { Component, Inject } from '@angular/core';\r\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material';\r\nimport { ItemTitle } from 'src/app/models/item';\r\nimport { TvaService } from 'src/app/services/tva.service';\r\nimport { MovieService } from 'src/app/services/movie.service';\r\nimport { Tva, TvaSequence } from 'src/app/models/tva';\r\nimport { Movie, MovieSequence } from 'src/app/models/movie';\r\nimport { Completion } from 'src/app/models/completion';\r\n\r\n@Component({\r\n  selector: 'app-studio-dialog',\r\n  templateUrl: './studio-dialog.component.html',\r\n  styleUrls: ['./studio-dialog.component.css']\r\n})\r\nexport class StudioDialogComponent {\r\n  private static source: {\r\n    tvas: Tva[],\r\n    movies: Movie[]\r\n  } = undefined;\r\n  tvas: StudioDialogItem[] = [];\r\n  movies: StudioDialogItem[] = [];\r\n\r\n  constructor(\r\n    public dialogRef: MatDialogRef<StudioDialogComponent>,\r\n    @Inject(MAT_DIALOG_DATA) public data: string,\r\n    private tvaService: TvaService,\r\n    private movieService: MovieService\r\n  ) {\r\n    if ( !StudioDialogComponent.source ) {\r\n      StudioDialogComponent.source = {tvas: undefined, movies: undefined};\r\n      this.tvaService.getTvas().subscribe(tvas => this.itemsToArray(StudioDialogComponent.source.tvas = tvas, this.tvas, true));\r\n      this.movieService.getMovies().subscribe(movies => this.itemsToArray(StudioDialogComponent.source.movies = movies, this.movies));\r\n    } else {\r\n      this.itemsToArray(StudioDialogComponent.source.tvas, this.tvas, true);\r\n      this.itemsToArray(StudioDialogComponent.source.movies, this.movies);\r\n      this.tvaService.getTvas().subscribe(tvas => StudioDialogComponent.source.tvas = tvas);\r\n      this.movieService.getMovies().subscribe(movies => StudioDialogComponent.source.movies = movies);\r\n    }\r\n  }\r\n\r\n  private itemsToArray(items: Completion[], arr: StudioDialogItem[], isTva?: boolean) {\r\n    for (let item of items) {\r\n      for (let [i, series] of item.series.entries()) {\r\n        for (let [j, sequence] of series.sequences.entries()) {\r\n          if ( sequence.studios.includes(this.data) ) {\r\n            arr.push({\r\n              title: sequence.title,\r\n              _id: item._id,\r\n              series: i,\r\n              sequence: j,\r\n              date: isTva ? (<TvaSequence> sequence).aired.start : (<MovieSequence> sequence).aired\r\n            });\r\n          }\r\n        }\r\n      }\r\n    }\r\n    arr.sort((a, b) => { return new Date(a.date).getTime() - new Date(b.date).getTime() });\r\n  }\r\n\r\n  onClose() {\r\n    this.dialogRef.close();\r\n  }\r\n\r\n  getLink(url: string, item: StudioDialogItem): string {\r\n    // if ( item.moreParams ) link += ((arr: any[]): string => { let result = ''; for (let each of arr) result += `/${each}`; return result; })(item.moreParams);\r\n    return `/${url}/${item._id}/${item.series}/${item.sequence}`;\r\n  }\r\n\r\n  getFormattedDate(date: string): string {\r\n    let d = new Date(date);\r\n    let f = (n: number): string => { if ( n == 0 ) n = 1; return n < 10 ? '0' + n : n.toString() };\r\n    return `'${d.getFullYear().toString().substr(2, 2)}.${f(d.getMonth())}.${f(d.getDate())}`;\r\n  }\r\n\r\n  yearChanged(i: number): boolean {\r\n    if ( i == 0 ) return false;\r\n    let before = new Date(this.tvas[i-1].date);\r\n    let after = new Date(this.tvas[i].date);\r\n    return before.getFullYear() != after.getFullYear();\r\n  }\r\n\r\n}\r\n\r\ninterface StudioDialogItem {\r\n  _id: string,\r\n  title: ItemTitle,\r\n  series: number,\r\n  sequence: number,\r\n  date: string\r\n}\r\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudHMvZGlhbG9ncy90ZXh0LWZpZWxkLWRpYWxvZy90ZXh0LWZpZWxkLWRpYWxvZy5jb21wb25lbnQuY3NzIn0= */\"","import { Component, Inject } from '@angular/core';\r\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material';\r\n\r\n@Component({\r\n  selector: 'app-text-field-dialog',\r\n  templateUrl: './text-field-dialog.component.html',\r\n  styleUrls: ['./text-field-dialog.component.css']\r\n})\r\nexport class TextFieldDialogComponent {\r\n\r\n  constructor(\r\n    public dialogRef: MatDialogRef<TextFieldDialogComponent>,\r\n    @Inject(MAT_DIALOG_DATA) public data: SendingTextProtocol\r\n  ) { }\r\n\r\n  onClose() {\r\n    this.dialogRef.close();\r\n  }\r\n\r\n}\r\n\r\nexport interface SendingTextProtocol {\r\n  title: string,\r\n  explain: string,\r\n  text: string,\r\n  placeholder: string\r\n}\r\n","export default \".carousel-item {\\r\\n    height: 42rem;\\r\\n}\\r\\n\\r\\nli {\\r\\n    margin: .75rem;\\r\\n}\\r\\n\\r\\n@media (min-width: 40em) {\\r\\n    .carousel-caption p {\\r\\n        margin-bottom: 1.25rem;\\r\\n        font-size: 1.25rem;\\r\\n        line-height: 1.4;\\r\\n    }\\r\\n}\\r\\n\\r\\n.carousel-button:hover {\\r\\n    color: black;\\r\\n    text-decoration: none;\\r\\n}\\r\\n\\r\\n.searched-link {\\r\\n    color: white;\\r\\n}\\r\\n\\r\\n.searched-link:hover {\\r\\n    color: white;\\r\\n}\\r\\n\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50cy9ob21lL2hvbWUuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLGFBQWE7QUFDakI7O0FBRUE7SUFDSSxjQUFjO0FBQ2xCOztBQUVBO0lBQ0k7UUFDSSxzQkFBc0I7UUFDdEIsa0JBQWtCO1FBQ2xCLGdCQUFnQjtJQUNwQjtBQUNKOztBQUVBO0lBQ0ksWUFBWTtJQUNaLHFCQUFxQjtBQUN6Qjs7QUFFQTtJQUNJLFlBQVk7QUFDaEI7O0FBRUE7SUFDSSxZQUFZO0FBQ2hCIiwiZmlsZSI6InNyYy9hcHAvY29tcG9uZW50cy9ob21lL2hvbWUuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIi5jYXJvdXNlbC1pdGVtIHtcclxuICAgIGhlaWdodDogNDJyZW07XHJcbn1cclxuXHJcbmxpIHtcclxuICAgIG1hcmdpbjogLjc1cmVtO1xyXG59XHJcblxyXG5AbWVkaWEgKG1pbi13aWR0aDogNDBlbSkge1xyXG4gICAgLmNhcm91c2VsLWNhcHRpb24gcCB7XHJcbiAgICAgICAgbWFyZ2luLWJvdHRvbTogMS4yNXJlbTtcclxuICAgICAgICBmb250LXNpemU6IDEuMjVyZW07XHJcbiAgICAgICAgbGluZS1oZWlnaHQ6IDEuNDtcclxuICAgIH1cclxufVxyXG5cclxuLmNhcm91c2VsLWJ1dHRvbjpob3ZlciB7XHJcbiAgICBjb2xvcjogYmxhY2s7XHJcbiAgICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XHJcbn1cclxuXHJcbi5zZWFyY2hlZC1saW5rIHtcclxuICAgIGNvbG9yOiB3aGl0ZTtcclxufVxyXG5cclxuLnNlYXJjaGVkLWxpbms6aG92ZXIge1xyXG4gICAgY29sb3I6IHdoaXRlO1xyXG59XHJcbiJdfQ== */\"","import { PageEvent } from \"@angular/material\";\r\nimport { TvaSequence, Tva } from 'src/app/models/tva';\r\nimport { MovieSequence, Movie } from 'src/app/models/movie';\r\nimport { Watching } from 'src/app/models/watching';\r\nimport { Plan } from 'src/app/models/plan';\r\nimport { Sequence } from 'src/app/models/completion';\r\n\r\nexport interface Carousel {\r\n    type: string,\r\n    title: string,\r\n    content: string,\r\n    link: string\r\n}\r\n\r\nexport interface PageEvents {\r\n    tva: PageEvent,\r\n    movie: PageEvent,\r\n    watching: PageEvent,\r\n    plan: PageEvent\r\n}\r\n\r\ninterface Detail {\r\n    _id: string,\r\n    series: number,\r\n    sequence: number,\r\n    seriesTitle: string\r\n}\r\n\r\nexport interface SearchedSequence extends Sequence, Detail {}\r\ninterface SearchedTvaSequence extends TvaSequence, Detail {}\r\ninterface SearchedMovieSequence extends MovieSequence, Detail {}\r\n\r\nclass Shapes {\r\n    tvas: any[];\r\n    movies: any[];\r\n    watchings: Watching[];\r\n    plans: Plan[];\r\n\r\n    constructor() {\r\n        this.tvas = [];\r\n        this.movies = [];\r\n        this.watchings = [];\r\n        this.plans = [];\r\n    }\r\n}\r\n\r\nexport class Items extends Shapes {\r\n    tvas: Tva[];\r\n    movies: Movie[];\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n}\r\n\r\nexport class SearchedItems extends Shapes {\r\n    tvas: SearchedTvaSequence[];\r\n    movies: SearchedMovieSequence[];\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { TvaService } from 'src/app/services/tva.service';\r\nimport { MovieService } from 'src/app/services/movie.service';\r\nimport { WatchingService } from 'src/app/services/watching.service';\r\nimport { PlanService } from 'src/app/services/plan.service';\r\nimport { Completion, Sequence } from 'src/app/models/completion';\r\nimport { Incompletion } from 'src/app/models/incompletion';\r\nimport { PageEvent, MatDialog } from '@angular/material';\r\nimport { Carousel, Items, SearchedItems, PageEvents, SearchedSequence } from './home.component.model';\r\nimport { TitleService } from 'src/app/services/title.service';\r\nimport { StudioDialogComponent } from '../dialogs/studio-dialog/studio-dialog.component';\r\n\r\n@Component({\r\n  selector: 'app-home',\r\n  templateUrl: './home.component.html',\r\n  styleUrls: ['./home.component.css']\r\n})\r\nexport class HomeComponent implements OnInit {\r\n  carousel: Carousel[] = [];\r\n  backgrounds: number[] = [];\r\n\r\n  private readonly titleTypes = [ 'eng', 'kor', 'jpn' ];\r\n  allItems: Items = new Items();\r\n  searchedItems: SearchedItems = new SearchedItems();\r\n  searchedText: string = undefined;\r\n\r\n  pageEvents: PageEvents;\r\n  readonly pageSizeOptions = [ 5, 10, 25, 100 ];\r\n  readonly pageSize = 10;\r\n\r\n  constructor(\r\n    private tvaService: TvaService,\r\n    private movieService: MovieService,\r\n    private watchingService: WatchingService,\r\n    private planService: PlanService,\r\n    private titleService: TitleService,\r\n    private dialog: MatDialog\r\n  ) {\r\n    this.titleService.setDefaultTitle();\r\n    this.tvaService.getTvas().subscribe(tvas => {\r\n      this.allItems.tvas = tvas;\r\n      let tva = tvas[ this.getRandomNumber(tvas.length) ];\r\n      let i: number = this.getRandomNumber(tva.series.length);\r\n      let j: number = this.getRandomNumber(tva.series[i].sequences.length);\r\n      let sequence = tva.series[i].sequences[j];\r\n      this.carousel.push({\r\n        type: '[ TVA ]',\r\n        title: sequence.title[sequence.title.rv],\r\n        content: `${sequence.premiered.year}년 ${sequence.premiered.quarter}분기 방영`,\r\n        link: `/tva/${tva._id}/${i}/${j}`\r\n      });\r\n    });\r\n    this.movieService.getMovies().subscribe(movies => {\r\n      this.allItems.movies = movies;\r\n      let movie = movies[ this.getRandomNumber(movies.length) ];\r\n      let i: number = this.getRandomNumber(movie.series.length);\r\n      let j: number = this.getRandomNumber(movie.series[i].sequences.length);\r\n      let sequence = movie.series[i].sequences[j];\r\n      let date = new Date(sequence.aired);\r\n      this.carousel.push({\r\n        type: '[ 극장판 ]',\r\n        title: sequence.title[sequence.title.rv],\r\n        content: `${date.getFullYear()}년 ${date.getMonth() + 1}월 ${date.getDate()}일 개봉`,\r\n        link: `/movie/${movie._id}/${i}/${j}`\r\n      });\r\n    });\r\n    this.watchingService.getWatchings().subscribe(watchings => {\r\n      this.allItems.watchings = watchings;\r\n      let watching = watchings[ this.getRandomNumber(watchings.length) ];\r\n      this.carousel.push({\r\n        type: `[ ${watching.type == 'tva' ? 'TVA' : '극장판'} - 시청 중 ] `,\r\n        title: watching.title[watching.title.rv],\r\n        content: `${watching.premiered.year}년 ${watching.premiered.quarter}분기 방영`,\r\n        link: `/watching/${watching._id}`\r\n      });\r\n    });\r\n    this.planService.getPlans().subscribe(plans => {\r\n      this.allItems.plans = plans;\r\n      let plan = plans[ this.getRandomNumber(plans.length) ];\r\n      let date = new Date(plan.aired);\r\n      this.carousel.push({\r\n        type: `[ ${plan.type == 'tva' ? 'TVA' : '극장판'} - 시청 예정 ] `,\r\n        title: plan.title[plan.title.rv],\r\n        content: (plan.aired != null && plan.aired != '') ? `${date.getFullYear()}년 ${Math.floor((date.getMonth() + 4) / 3)}분기 방영` : '기타 정보 없음',\r\n        link: `/plan/${plan._id}`\r\n      });\r\n    });\r\n\r\n    let pageEvent = new PageEvent();\r\n    pageEvent.pageIndex = 0;\r\n    pageEvent.pageSize = 10;\r\n    this.pageEvents = {\r\n      tva: pageEvent,\r\n      movie: pageEvent,\r\n      watching: pageEvent,\r\n      plan: pageEvent\r\n    };\r\n  }\r\n\r\n  private getRandomNumber(len: number): number {\r\n    return Math.floor(Math.random() * len);\r\n  }\r\n\r\n  private removeSpace(text: string): string {\r\n    return text.replace(/\\s/gi, '');\r\n  }\r\n\r\n  private matchWithNoSpace(big: string, small: string): boolean {\r\n    return this.removeSpace(big.toLowerCase()).includes(small);\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.backgrounds = [];\r\n    const bgCounts = 10;\r\n    for (let i=0; i<4; i++) {\r\n      let idx: number = this.getRandomNumber(bgCounts);\r\n      let flag: boolean = i != 0;\r\n      while ( flag ) {\r\n        for (let j=0; j<this.backgrounds.length; j++) {\r\n          if ( idx == this.backgrounds[j] ) {\r\n            flag = true;\r\n            idx = this.getRandomNumber(bgCounts);\r\n            break;\r\n          } else {\r\n            flag = false;\r\n          }\r\n        }\r\n      }\r\n      this.backgrounds[i] = idx;\r\n    }\r\n  }\r\n\r\n  private searchCompletion(text: string, what: string) {\r\n    const arr: Completion[] = this.allItems[what];\r\n    arr.some(c => {\r\n      if ( this.matchWithNoSpace(c.category, text) ) {\r\n        for (let [i, series] of c.series.entries()) {\r\n          for (let [j, sequence] of series.sequences.entries()) {\r\n            let searchedSequence: SearchedSequence = <SearchedSequence> sequence;\r\n            searchedSequence._id = c._id;\r\n            searchedSequence.series = i;\r\n            searchedSequence.sequence = j;\r\n            searchedSequence.seriesTitle = series.title;\r\n            (<Sequence[]> this.searchedItems[what]).push(searchedSequence);\r\n          }\r\n        }\r\n        return false;\r\n      }\r\n      for (let [i, series] of c.series.entries()) {\r\n        if ( this.matchWithNoSpace(series.title, text) ) {\r\n          for (let [j, sequence] of series.sequences.entries()) {\r\n            let searchedSequence: SearchedSequence = <SearchedSequence> sequence;\r\n            searchedSequence._id = c._id;\r\n            searchedSequence.series = i;\r\n            searchedSequence.sequence = j;\r\n            searchedSequence.seriesTitle = series.title;\r\n            (<SearchedSequence[]> this.searchedItems[what]).push(searchedSequence);\r\n          }\r\n          return false;\r\n        } else {\r\n          for (let [j, sequence] of series.sequences.entries()) {\r\n            for (let titleType of this.titleTypes) {\r\n              if ( this.matchWithNoSpace(sequence.title[titleType], text) ) {\r\n                let searchedSequence: SearchedSequence = <SearchedSequence> sequence;\r\n                searchedSequence._id = c._id;\r\n                searchedSequence.series = i;\r\n                searchedSequence.sequence = j;\r\n                searchedSequence.seriesTitle = series.title;\r\n                (<SearchedSequence[]> this.searchedItems[what]).push(searchedSequence);\r\n                return false;\r\n              }\r\n            }\r\n            for (let studio of sequence.studios) {\r\n              if ( this.matchWithNoSpace(studio, text) ) {\r\n                let searchedSequence: SearchedSequence = <SearchedSequence> sequence;\r\n                searchedSequence._id = c._id;\r\n                searchedSequence.series = i;\r\n                searchedSequence.sequence = j;\r\n                searchedSequence.seriesTitle = series.title;\r\n                (<SearchedSequence[]> this.searchedItems[what]).push(searchedSequence);\r\n                return false;\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  private searchIncompletion(text: string, what: string) {\r\n    const arr: Incompletion[] = this.allItems[what];\r\n    arr.some(ic => {\r\n      for (let titleType of this.titleTypes) {\r\n        if ( this.matchWithNoSpace(ic.title[titleType], text) ) {\r\n          (<Incompletion[]> this.searchedItems[what]).push(ic);\r\n          return false;\r\n        }\r\n      }\r\n      for (let studio of ic.studios) {\r\n        if ( this.matchWithNoSpace(studio, text) ) {\r\n          (<Incompletion[]> this.searchedItems[what]).push(ic);\r\n          return false;\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  search(text: string) {\r\n    text = this.removeSpace(text).toLowerCase();\r\n    this.searchedItems = new SearchedItems();\r\n    this.searchedText = text;\r\n    if ( text == '' ) return;\r\n    this.searchCompletion(text, 'tvas');\r\n    this.searchCompletion(text, 'movies');\r\n    this.searchIncompletion(text, 'watchings');\r\n    this.searchIncompletion(text, 'plans');\r\n  }\r\n\r\n  allElementsLength(completion: Completion): number {\r\n    let count = 0;\r\n    for (let i=0; i<completion.series.length; i++) {\r\n      count += completion.series[i].sequences.length;\r\n    }\r\n    return count;\r\n  }\r\n\r\n  getQuarterFromAiredDate(aired: string): string {\r\n    if ( !aired || aired == '' ) return '-';\r\n    let date = new Date(aired);\r\n    let year = date.getFullYear().toString().substring(2);\r\n    let qtr = Math.floor((date.getMonth() + 4) / 3);\r\n    return `'${year} - ${qtr}`;\r\n  }\r\n\r\n  findByStudio(studio: string) {\r\n    this.dialog.open(StudioDialogComponent, {data: studio});\r\n  }\r\n\r\n}\r\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudHMvbW92aWUvbW92aWUuY29tcG9uZW50LmNzcyJ9 */\"","import { Component, OnInit } from '@angular/core';\r\nimport { MovieService } from 'src/app/services/movie.service';\r\nimport { TvaService } from 'src/app/services/tva.service';\r\nimport { Movie, MovieSequence } from 'src/app/models/movie';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { NgFlashMessageService } from 'ng-flash-messages';\r\nimport { cloneObject, isOK, notOK } from 'src/app/models/item';\r\nimport { MatDialog } from '@angular/material';\r\nimport { SendingSearchedProtocol, MalSearched, searchedProtocolFactory } from 'src/app/models/searched';\r\nimport { SearchService } from 'src/app/services/search.service';\r\nimport { SearchDialogComponent } from '../dialogs/search-dialog/search-dialog.component';\r\nimport { Tva } from 'src/app/models/tva';\r\nimport { WatchingService } from 'src/app/services/watching.service';\r\nimport { PlanService } from 'src/app/services/plan.service';\r\nimport { HeaderAlign } from 'src/app/models/headerAlign';\r\nimport { SendingTextProtocol, TextFieldDialogComponent } from '../dialogs/text-field-dialog/text-field-dialog.component';\r\nimport { TitleService } from 'src/app/services/title.service';\r\nimport { StudioDialogComponent } from '../dialogs/studio-dialog/studio-dialog.component';\r\n\r\n@Component({\r\n  selector: 'app-movie',\r\n  templateUrl: './movie.component.html',\r\n  styleUrls: ['./movie.component.css']\r\n})\r\nexport class MovieComponent extends HeaderAlign<Movie> implements OnInit {\r\n  movies: Movie[] = null;\r\n  movieMap: Map<string, Movie>;\r\n  modifying: {\r\n    studios: string,\r\n    series: number,\r\n    sequence: number\r\n  } = null;\r\n  loading: boolean = false;\r\n\r\n  writing: boolean = false;\r\n  writingMovie: MovieSequence;\r\n  seriesMemo: string;\r\n  tvas: Tva[] = null;\r\n  linked: {\r\n    idx: number,\r\n    series: number\r\n  } = {\r\n    idx: 0,\r\n    series: 0\r\n  };\r\n\r\n  from: string = undefined;\r\n  incompletion_id: string = undefined;\r\n\r\n  constructor(\r\n    private movieService: MovieService,\r\n    private tvaService: TvaService,\r\n    private searchService: SearchService,\r\n    private watchingService: WatchingService,\r\n    private planService: PlanService,\r\n    private titleService: TitleService,\r\n    private route: ActivatedRoute,\r\n    private flashMessage: NgFlashMessageService,\r\n    private dialog: MatDialog\r\n  ) {\r\n    super([2], [5]);\r\n    this.titleService.setTitle('극장판');\r\n    this.movieService.getMovies().subscribe(movies => {\r\n      this.movies = movies;\r\n      super.setItems([this.movies]);\r\n      this.movieMap = new Map<string, Movie>();\r\n      movies.map(v => this.movieMap.set(v._id, v));\r\n      this.movies.sort((a: Movie, b: Movie) => { return a.category.localeCompare(b.category) });\r\n      setTimeout(() => this.scrollToElement(), 500);\r\n    });\r\n  }\r\n\r\n  protected getAlignment(standard: number) {\r\n    switch(standard) {\r\n      case 0: return (a: Movie, b: Movie) => { return a.category.localeCompare(b.category) * this.alignments[0][standard] }\r\n      case 1: return (a: Movie, b: Movie) => { return a.series[0].title.localeCompare(b.series[0].title) * this.alignments[0][standard] }\r\n      case 2: return (a: Movie, b: Movie) => { return a.series[0].sequences[0].title[a.series[0].sequences[0].title.rv].localeCompare(b.series[0].sequences[0].title[b.series[0].sequences[0].title.rv]) * this.alignments[0][standard] }\r\n      case 3: return (a: Movie, b: Movie) => { return a.series[0].sequences[0].studios[0].localeCompare(b.series[0].sequences[0].studios[0]) * this.alignments[0][standard] }\r\n      case 4: return (a: Movie, b: Movie) => { return (new Date(a.series[0].sequences[0].aired).getTime() - new Date(b.series[0].sequences[0].aired).getTime()) * this.alignments[0][standard] }\r\n      default: return;\r\n    }\r\n  }\r\n\r\n  private scrollToElement() {\r\n    if ( this.route.snapshot.paramMap.get('_id') ) {\r\n      const _id = this.route.snapshot.paramMap.get('_id');\r\n      this.clickMovieWithId(_id, +this.route.snapshot.paramMap.get('series'), +this.route.snapshot.paramMap.get('sequence'));\r\n      let element: HTMLElement = document.getElementById(_id);\r\n      try {\r\n        element.scrollIntoView();\r\n      } catch(e) {\r\n        alert('알 수 없는 에러가 발생하였습니다.\\n' + e);\r\n      }\r\n    } else if ( this.route.snapshot.paramMap.get('incompletion_id') ) {\r\n      this.writeMovie();\r\n      this.from = this.route.snapshot.paramMap.get('from');\r\n      this.incompletion_id = this.route.snapshot.paramMap.get('incompletion_id');\r\n      (this.from == 'data-from-watching' ? this.watchingService : this.planService).get(this.incompletion_id).subscribe(result => {\r\n        if ( !result._id ) {\r\n          alert('알 수 없는 에러가 발생하였습니다.\\n' + result);\r\n          return;\r\n        }\r\n        if ( result.mal_id ) this.searchMovie('mal_id', result.mal_id.toString());\r\n        else {\r\n          this.writingMovie.aired = result.aired;\r\n          this.writingMovie.studios = result.studios;\r\n        }\r\n        this.writingMovie.title = result.title;\r\n        this.writingMovie.memo = result.memo\r\n        let element: HTMLElement = document.getElementById('writing-area');\r\n        try {\r\n          element.scrollIntoView();\r\n        } catch(e) {\r\n          alert('알 수 없는 에러가 발생하였습니다.\\n' + e);\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  allElementsLength(m: number): number {\r\n    let count = 0;\r\n    for (let i=0; i<this.movies[m].series.length; i++) {\r\n      count += this.movies[m].series[i].sequences.length;\r\n    }\r\n    return count;\r\n  }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  clickMovie(m: number, series: number, sequence: number) {\r\n    if ( this.movies[m].modifying ) return;\r\n    let opened = {series: series, sequence: sequence, linked: null};\r\n    if ( this.movies[m].opened ) {\r\n      if ( this.movies[m].opened.series != series || this.movies[m].opened.sequence != sequence ) {\r\n        opened.linked = this.movies[m].opened.linked;\r\n        this.movies[m].opened = opened;\r\n      } else this.movies[m].opened = null;\r\n      return;\r\n    }\r\n    this.movies[m].opened = opened;\r\n    this.setLinkedTva(m, this.movies[m].category_tva, this.movies[m].series[series].key);\r\n  }\r\n\r\n  clickMovieWithId(_id: string, series: number, sequence: number) {\r\n    if ( this.movieMap.get(_id).modifying ) return;\r\n    let opened = {series: series, sequence: sequence, linked: null};\r\n    if ( this.movieMap.get(_id).opened ) {\r\n      if ( this.movieMap.get(_id).opened.series != series || this.movieMap.get(_id).opened.sequence != sequence ) {\r\n        opened.linked = this.movieMap.get(_id).opened.linked;\r\n        this.movieMap.get(_id).opened = opened;\r\n      } else this.movieMap.get(_id).opened = null;\r\n      return;\r\n    }\r\n    this.movieMap.get(_id).opened = opened;\r\n    this.setLinkedTvaWithId(_id, this.movieMap.get(_id).category_tva, this.movieMap.get(_id).series[series].key);\r\n  }\r\n\r\n  private setLinkedTva(m: number, tva_id: string, key: string) {\r\n    if ( this.movies[m].opened.linked ) return;\r\n    this.tvaService.getTva(tva_id).subscribe(tva => {\r\n      for (let i=0; i<tva.series.length; i++) {\r\n        if ( tva.series[i].key == key ) {\r\n          this.movies[m].opened.linked = {\r\n            title: tva.series[i].title,\r\n            _id: tva._id,\r\n            series: i\r\n          };\r\n          return;\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  private setLinkedTvaWithId(_id: string, tva_id: string, key: string) {\r\n    if ( this.movieMap.get(_id).opened.linked ) return;\r\n    this.tvaService.getTva(tva_id).subscribe(tva => {\r\n      for (let i=0; i<tva.series.length; i++) {\r\n        if ( tva.series[i].key == key ) {\r\n          this.movieMap.get(_id).opened.linked = {\r\n            title: tva.series[i].title,\r\n            _id: tva._id,\r\n            series: i\r\n          };\r\n          return;\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  editCategory(m: number) {\r\n    const data: SendingTextProtocol = {\r\n      title: '카테고리명 수정',\r\n      explain: '수정할 카테고리명을 입력해주세요.',\r\n      placeholder: '카테고리명',\r\n      text: this.movies[m].category\r\n    }\r\n    const dialogRef = this.dialog.open(TextFieldDialogComponent, {data: data});\r\n    dialogRef.afterClosed().subscribe(() => {\r\n      if ( !data.text || data.text == '' ) return;\r\n      this.movies[m].category = data.text;\r\n      this.movieService.modifyMovie(this.movies[m]).subscribe(result => {\r\n        if ( !result._id ) alert('수정 실패');\r\n      });\r\n    });\r\n  }\r\n\r\n  private setStudio(studios: string[]) {\r\n    this.modifying.studios = '';\r\n    for (let studio of studios) this.modifying.studios += studio + '\\n';\r\n  }\r\n\r\n  modifyMovie(m: number, series: number, sequence: number) {\r\n    this.movies[m].opened = null;\r\n    for (let tva of this.movies) tva.modifying = null;\r\n    this.movies[m].modifying = cloneObject(this.movies[m].series[series].sequences[sequence]);\r\n    this.modifying = {series: series, sequence: sequence, studios: undefined};\r\n    this.setStudio(this.movies[m].modifying.studios);\r\n\r\n    this.tvaService.getTvas().subscribe(tvas => {\r\n      this.tvas = tvas;\r\n      this.tvas.sort((a: Tva, b: Tva) => {\r\n        return a.category.localeCompare(b.category);\r\n      });\r\n      for (let i=0; i<this.tvas.length; i++) {\r\n        if ( this.movies[m].category_tva == this.tvas[i]._id ) {\r\n          for (let j=0; j<this.tvas[i].series.length; j++) {\r\n            if ( this.movies[m].series[series].key == this.tvas[i].series[j].key ) {\r\n              this.linked = {\r\n                idx: i,\r\n                series: j\r\n              };\r\n              return;\r\n            }\r\n          }\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  cancelModify(m: number) {\r\n    this.movies[m].modifying = null;\r\n    this.movies[m].opened = null;\r\n    this.clickMovie(m, this.modifying.series, this.modifying.sequence);\r\n  }\r\n\r\n  cancelWrite() {\r\n    this.cancelEditing();\r\n  }\r\n\r\n  private cancelEditing() {\r\n    this.writing = false;\r\n    this.tvas = null;\r\n    this.linked = {\r\n      idx: 0,\r\n      series: 0\r\n    };\r\n  }\r\n\r\n  onModifySubmit(m: number, series: number, sequence: number) {\r\n    if ( !confirm('저장하시겠습니까?') ) return;\r\n\r\n    // validating input values\r\n    if ( !isOK(this.movies[m].modifying, ['memo']) ) return notOK();\r\n    if ( !isOK(this.modifying) || !isOK(this.linked) ) return notOK();\r\n\r\n    // change series with input title\r\n    this.movies[m].series[series].sequences.splice(sequence, 1);\r\n    let flag: boolean = false;\r\n    outer: for (let i=0; i<this.movies[m].series.length; i++) {\r\n      if ( this.movies[m].series[i].key == this.tvas[this.linked.idx].series[this.linked.series].key ) {\r\n        flag = true;\r\n        this.movies[m].modifying.studios = this.modifying.studios.trim().split('\\n');\r\n        this.movies[m].series[i].sequences.push(this.movies[m].modifying);\r\n        this.movies[m].series[i].sequences.sort((a, b) => { return a.order - b.order; });\r\n        series = i;\r\n        for (let j=0; j<this.movies[m].series[i].sequences.length; j++) {\r\n          if ( this.movies[m].series[i].sequences[j].order == this.movies[m].modifying.order ) {\r\n            sequence = j;\r\n            break outer;\r\n          }\r\n        }\r\n        break;\r\n      }\r\n    }\r\n\r\n    // create a new series with input title\r\n    if ( !flag ) {\r\n      this.movies[m].series.push({\r\n        title: this.tvas[this.linked.idx].series[this.linked.series].title,\r\n        key: this.tvas[this.linked.idx].series[this.linked.series].key,\r\n        memo: '',\r\n        sequences: [ this.movies[m].modifying ]\r\n      });\r\n      series = this.movies[m].series.length - 1;\r\n      sequence = 0;\r\n      this.movies[m].series.sort((a, b) => { return new Date(a.sequences[0].aired).getTime() - new Date(b.sequences[0].aired).getTime() });\r\n    }\r\n\r\n    // remove empty series (which has an empty sequence)\r\n    for (let i=0; i<this.movies[m].series.length; i++) {\r\n      if ( this.movies[m].series[i].sequences.length == 0 ) {\r\n        this.movies[m].series.splice(i, 1);\r\n        if ( series >= i ) series--;\r\n        break;\r\n      }\r\n    }\r\n\r\n    this.movieService.modifyMovie(this.movies[m]).subscribe(result => {\r\n      if ( result._id ) {\r\n        this.movies[m].modifying = null;\r\n        this.clickMovie(m, series, sequence);\r\n        this.flashMessage.showFlashMessage({\r\n          messages: ['수정되었습니다.'],\r\n          type: 'success',\r\n          timeout: 2000\r\n        });\r\n        return false;\r\n      } else {\r\n        this.flashMessage.showFlashMessage({\r\n          messages: ['오류가 발생하였습니다.'],\r\n          type: 'danger',\r\n          timeout: 3000\r\n        });\r\n        return false;\r\n      }\r\n    });\r\n  }\r\n\r\n  seriesSelect() {\r\n    if ( !this.tvas[this.linked.idx].category_movie ) return;\r\n    for (let movie of this.movies) {\r\n      if ( this.tvas[this.linked.idx].category_movie == movie._id ) {\r\n        for (let movieSeries of movie.series) {\r\n          if ( this.tvas[this.linked.idx].series[this.linked.series].key == movieSeries.key ) {\r\n            this.seriesMemo = movieSeries.memo;\r\n            // this.writingMovie.order = movieSeries.sequences.length + 1;\r\n            return;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    // this.writingMovie.order = 1;\r\n  }\r\n\r\n  private searchedToSequence(sequence: MovieSequence, malSearched: MalSearched) {\r\n    if ( malSearched.title.kor ) sequence.title.kor = malSearched.title.kor;\r\n    sequence.title.eng = malSearched.title.eng;\r\n    sequence.title.jpn = malSearched.title.jpn;\r\n    sequence.aired = malSearched.aired.start;\r\n    sequence.studios = malSearched.studios;\r\n    sequence.mal_id = malSearched.mal_id;\r\n    sequence.img = malSearched.img;\r\n    this.setStudio(sequence.studios);\r\n  }\r\n\r\n  searchMovie(option: string, text: string, m?: number) {\r\n    if ( !option ) {\r\n      alert('옵션을 선택해주세요.');\r\n      return;\r\n    }\r\n    if ( !text || text == '' ) {\r\n      alert('비어있습니다.');\r\n      return;\r\n    }\r\n\r\n    let movie: MovieSequence = m ? this.movies[m].modifying : this.writingMovie;\r\n    if ( option == 'mal_id' ) {\r\n      let id = parseInt(text);\r\n      if ( isNaN(id) ) {\r\n        this.flashMessage.showFlashMessage({\r\n          messages: ['숫자를 입력해야 합니다.'],\r\n          type: 'danger',\r\n          timeout: 3000\r\n        });\r\n        return;\r\n      }\r\n      this.loading = true;\r\n      this.searchService.mal(id).subscribe(result => {\r\n        this.loading = false;\r\n        if ( result.mal_id ) this.searchedToSequence(movie, result);\r\n        else {\r\n          this.flashMessage.showFlashMessage({\r\n            messages: ['존재하지 않는 ID이거나 오류가 발생했습니다.'],\r\n            type: 'danger',\r\n            timeout: 3000\r\n          });\r\n        }\r\n      });\r\n    } else {\r\n      const data: SendingSearchedProtocol = searchedProtocolFactory(text, option);\r\n      const dialogRef = this.dialog.open(SearchDialogComponent, {data: data});\r\n      dialogRef.afterClosed().subscribe(() => {\r\n        if ( data.malSearched ) {\r\n          this.searchedToSequence(movie, data.malSearched);\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  writeMovie() {\r\n    this.seriesMemo = '';\r\n    this.writing = true;\r\n    this.writingMovie = {\r\n      title: {kor: '', eng: '', jpn: '', rv: 'kor'},\r\n      aired: '',\r\n      order: 1,\r\n      studios: [],\r\n      memo: '',\r\n      mal_id: 0,\r\n      img: ''\r\n    };\r\n    this.modifying = {\r\n      studios: '',\r\n      series: 0,\r\n      sequence: 0\r\n    };\r\n\r\n    this.tvaService.getTvas().subscribe(tvas => {\r\n      this.tvas = tvas;\r\n      this.tvas.sort((a: Tva, b: Tva) => {\r\n        return a.category.localeCompare(b.category);\r\n      });\r\n    });\r\n  }\r\n\r\n  onWriteSubmit() {\r\n    // validating input values\r\n    if ( !isOK(this.writingMovie, ['memo']) ) return notOK();\r\n    if ( !isOK(this.modifying) || !isOK(this.linked) ) return notOK();\r\n\r\n    let category: number = -1;\r\n    let series: number = -1;\r\n    for (let i=0; i<this.movies.length; i++) {\r\n      if ( this.movies[i].category == this.tvas[this.linked.idx].category ) {\r\n        category = i;\r\n        for (let j=0; j<this.movies[i].series.length; j++) {\r\n          if ( this.movies[i].series[j].key == this.tvas[this.linked.idx].series[this.linked.series].key ) {\r\n            series = j;\r\n            break;\r\n          }\r\n        }\r\n        break;\r\n      }\r\n    }\r\n\r\n    let newMovie: Movie;\r\n    this.writingMovie.studios = this.modifying.studios.trim().split('\\n');\r\n    if ( category != -1 ) {\r\n      newMovie = this.movies[category];\r\n      if ( series != -1 ) { // add to an existing series\r\n        newMovie.series[series].sequences.push(this.writingMovie);\r\n        newMovie.series[series].sequences.sort((a, b) => { return a.order - b.order });\r\n      } else {  // add new series\r\n        newMovie.series.push({\r\n          title: this.tvas[this.linked.idx].series[this.linked.series].title,\r\n          key: this.tvas[this.linked.idx].series[this.linked.series].key,\r\n          memo: this.seriesMemo,\r\n          sequences: [ this.writingMovie ]\r\n        });\r\n        newMovie.series.sort((a, b) => {\r\n          return new Date(a.sequences[0].aired).getTime() - new Date(b.sequences[0].aired).getTime();\r\n        });\r\n      }\r\n      this.movieService.modifyMovie(newMovie).subscribe(result => {\r\n        if ( result._id ) {\r\n          alert('추가되었습니다.');\r\n          this.flashMessage.showFlashMessage({\r\n            messages: ['추가되었습니다.'],\r\n            type: 'success',\r\n            timeout: 2000\r\n          });\r\n          this.cancelEditing();\r\n          this.movieMap.set(result._id, result);\r\n          this.clickMovieWithId(result._id, series, result.series[series].sequences.length-1);\r\n          let el = document.getElementById(result._id);\r\n          try { el.scrollIntoView() } catch(e) {}\r\n          if ( this.incompletion_id ) {\r\n            (this.from == 'data-from-watching' ? this.watchingService : this.planService).remove(this.incompletion_id).subscribe(err => {\r\n              if ( err ) alert('원래의 목록에서 삭제하는 도중 오류가 발생하였습니다.');\r\n              else this.incompletion_id = undefined;\r\n            });\r\n          }\r\n        } else {\r\n          alert('오류가 발생하였습니다.');\r\n          this.flashMessage.showFlashMessage({\r\n            messages: ['오류가 발생하였습니다.'],\r\n            type: 'danger',\r\n            timeout: 3000\r\n          });\r\n        }\r\n        return;\r\n      });\r\n    } else {\r\n      newMovie = {\r\n        category: this.tvas[this.linked.idx].category,\r\n        category_tva: this.tvas[this.linked.idx]._id,\r\n        series: [{\r\n          title: this.tvas[this.linked.idx].series[this.linked.series].title,\r\n          key: this.tvas[this.linked.idx].series[this.linked.series].key,\r\n          memo: this.seriesMemo,\r\n          sequences: [ this.writingMovie ]\r\n        }]\r\n      };\r\n      this.movieService.addMovie(newMovie).subscribe(result => {\r\n        if ( result._id ) {\r\n          alert('추가되었습니다.');\r\n          this.flashMessage.showFlashMessage({\r\n            messages: ['추가되었습니다.'],\r\n            type: 'success',\r\n            timeout: 2000\r\n          });\r\n          this.cancelEditing();\r\n          this.movies.push(result);\r\n          // this.movies.sort((a, b) => { return a.category.localeCompare(b.category) });\r\n          this.align();\r\n          this.movieMap.set(result._id, result);\r\n          this.clickMovieWithId(result._id, 0, 0);\r\n          setTimeout(() => {\r\n            try { document.getElementById(result._id).scrollIntoView() }\r\n            catch(e) {}\r\n          }, 500);\r\n          if ( this.incompletion_id ) {\r\n            (this.from == 'data-from-watching' ? this.watchingService : this.planService).remove(this.incompletion_id).subscribe(err => {\r\n              if ( err ) alert('원래의 목록에서 삭제하는 도중 오류가 발생하였습니다.');\r\n              else this.incompletion_id = undefined;\r\n            });\r\n          }\r\n        } else {\r\n          alert('오류가 발생하였습니다.');\r\n          this.flashMessage.showFlashMessage({\r\n            messages: ['오류가 발생하였습니다.'],\r\n            type: 'danger',\r\n            timeout: 3000\r\n          });\r\n        }\r\n        return;\r\n      });\r\n    }\r\n\r\n  }\r\n\r\n  removeMovie(m: number, series: number, sequence: number) {\r\n    if ( !confirm('삭제하시겠습니까?') ) return;\r\n    this.movieService.removeMovie(this.movies[m]._id, series, sequence).subscribe(err => {\r\n      if ( err ) {\r\n        this.flashMessage.showFlashMessage({\r\n          messages: ['오류가 발생하였습니다.'],\r\n          type: 'danger',\r\n          timeout: 3000\r\n        });\r\n        return false;\r\n      } else {\r\n        this.movies.splice(m, 1);\r\n      }\r\n    });\r\n  }\r\n\r\n  openAll() {\r\n    for (let i=0; i<this.movies.length; i++) {\r\n      this.movies[i].opened = null;\r\n      this.clickMovie(i, 0, 0);\r\n    }\r\n  }\r\n\r\n  closeAll() {\r\n    for (let movie of this.movies) {\r\n      movie.opened = null;\r\n    }\r\n  }\r\n\r\n  count(): number {\r\n    if ( this.movies ) {\r\n      let count = 0;\r\n      for (let movie of this.movies) {\r\n        for (let series of movie.series) {\r\n          count += series.sequences.length;\r\n        }\r\n      }\r\n      return count;\r\n    }\r\n    return 0;\r\n  }\r\n\r\n  findByStudio(studio: string) {\r\n    this.dialog.open(StudioDialogComponent, {data: studio});\r\n  }\r\n\r\n}\r\n","export default \"a:hover {\\r\\n    text-decoration: none;\\r\\n    color: black;\\r\\n}\\r\\n\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50cy9uby1wYWdlL25vLXBhZ2UuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLHFCQUFxQjtJQUNyQixZQUFZO0FBQ2hCIiwiZmlsZSI6InNyYy9hcHAvY29tcG9uZW50cy9uby1wYWdlL25vLXBhZ2UuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbImE6aG92ZXIge1xyXG4gICAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xyXG4gICAgY29sb3I6IGJsYWNrO1xyXG59XHJcbiJdfQ== */\"","import { Component } from '@angular/core';\r\nimport { TitleService } from 'src/app/services/title.service';\r\n\r\n@Component({\r\n  selector: 'app-no-page',\r\n  templateUrl: './no-page.component.html',\r\n  styleUrls: ['./no-page.component.css']\r\n})\r\nexport class NoPageComponent {\r\n\r\n  constructor(\r\n    private titleService: TitleService\r\n  ) {\r\n    this.titleService.setTitle('Page Not Found');\r\n  }\r\n\r\n}\r\n","export default \".no-item {\\r\\n    color: grey;\\r\\n}\\r\\n\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50cy9wbGFuL3BsYW4uY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLFdBQVc7QUFDZiIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudHMvcGxhbi9wbGFuLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIubm8taXRlbSB7XHJcbiAgICBjb2xvcjogZ3JleTtcclxufVxyXG4iXX0= */\"","import { Component, OnInit } from '@angular/core';\r\nimport { PlanService } from 'src/app/services/plan.service';\r\nimport { NgFlashMessageService } from 'ng-flash-messages';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { MatDialog } from '@angular/material';\r\nimport { SearchService } from 'src/app/services/search.service';\r\nimport { Plan } from 'src/app/models/plan';\r\nimport { MalSearched, SendingSearchedProtocol, searchedProtocolFactory } from 'src/app/models/searched';\r\nimport { SearchDialogComponent } from '../dialogs/search-dialog/search-dialog.component';\r\nimport { cloneObject, notOK, isOK } from 'src/app/models/item';\r\nimport { HeaderAlign } from 'src/app/models/headerAlign';\r\nimport { TitleService } from 'src/app/services/title.service';\r\nimport { StudioDialogComponent } from '../dialogs/studio-dialog/studio-dialog.component';\r\n\r\n@Component({\r\n  selector: 'app-plan',\r\n  templateUrl: './plan.component.html',\r\n  styleUrls: ['./plan.component.css']\r\n})\r\nexport class PlanComponent extends HeaderAlign<Plan> implements OnInit {\r\n  plans: Plan[];\r\n  planMap: Map<string, Plan>;\r\n\r\n  loading: boolean = false;\r\n  writing: Plan = null;\r\n  studios: string = null;\r\n\r\n  constructor(\r\n    private planService: PlanService,\r\n    private route: ActivatedRoute,\r\n    private flashMessage: NgFlashMessageService,\r\n    private dialog: MatDialog,\r\n    private searchService: SearchService,\r\n    private titleService: TitleService,\r\n    private router: Router\r\n  ) {\r\n    super([1], [4]);\r\n    this.titleService.setTitle('시청 예정');\r\n    this.planService.getPlans().subscribe(plans => {\r\n      this.plans = plans;\r\n      super.setItems([this.plans]);\r\n      this.plans.sort((a, b) => { return a.title[a.title.rv].localeCompare(b.title[b.title.rv]) });\r\n      this.planMap = new Map<string, Plan>();\r\n      for (let plan of this.plans) this.planMap.set(plan._id, plan);\r\n      setTimeout(() => this.scrollToElement(), 500); // to wait for page loading\r\n    });\r\n  }\r\n\r\n  private scrollToElement() {\r\n    if ( this.route.snapshot.paramMap.get('_id') ) {\r\n      const _id = this.route.snapshot.paramMap.get('_id');\r\n      this.click(_id);\r\n      let element: HTMLElement = document.getElementById(_id);\r\n      try {\r\n        element.scrollIntoView();\r\n      } catch(e) {\r\n        alert('잘못된 ID값입니다: ' + _id);\r\n      }\r\n    }\r\n  }\r\n\r\n  protected getAlignment(standard: number) {\r\n    switch(standard) {\r\n      case 0: return (a: Plan, b: Plan) => { return a.type.localeCompare(b.type) * this.alignments[0][standard] }\r\n      case 1: return (a: Plan, b: Plan) => { return a.title[a.title.rv].localeCompare(b.title[b.title.rv]) * this.alignments[0][standard] }\r\n      case 2: return (a: Plan, b: Plan) => { return (a.studios[0] ? a.studios[0] : '-').localeCompare((b.studios[0] ? b.studios[0] : '-')) * this.alignments[0][standard] }\r\n      case 3: return (a: Plan, b: Plan) => { return (new Date(a.aired ? a.aired : null).getTime() - new Date(b.aired ? b.aired : null).getTime()) * this.alignments[0][standard] }\r\n      default: return;\r\n    }\r\n  }\r\n\r\n  getQuarterFromAiredDate(aired: string): string {\r\n    if ( !aired || aired == '' ) return '-';\r\n    let date = new Date(aired);\r\n    let year = date.getFullYear().toString().substring(2);\r\n    let qtr = Math.floor((date.getMonth() + 4) / 3);\r\n    return `'${year} - ${qtr}`;\r\n  }\r\n\r\n  click(_id: string) {\r\n    let plan: Plan = this.planMap.get(_id);\r\n    if ( !plan ) return;\r\n    if ( plan.modifying ) return;\r\n    plan.opened = !plan.opened;\r\n  }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  private searchedToItem(plan: Plan, malSearched: MalSearched) {\r\n    if ( malSearched.title.kor ) plan.title.kor = malSearched.title.kor;\r\n    plan.title.eng = malSearched.title.eng;\r\n    plan.title.jpn = malSearched.title.jpn;\r\n    plan.aired = malSearched.aired.start;\r\n    plan.mal_id = malSearched.mal_id;\r\n    plan.img = malSearched.img;\r\n    plan.type = malSearched.type;\r\n    this.studios = malSearched.studios.join('\\n');\r\n  }\r\n\r\n  search(option: string, text: string, item: Plan) {\r\n    if ( !option ) {\r\n      alert('옵션을 선택해주세요.');\r\n      return;\r\n    }\r\n    if ( !text || text == '' ) {\r\n      alert('비어있습니다.');\r\n      return;\r\n    }\r\n\r\n    if ( option == 'mal_id' ) {\r\n      let id = parseInt(text);\r\n      if ( isNaN(id) ) {\r\n        this.flashMessage.showFlashMessage({\r\n          messages: ['숫자를 입력해야 합니다.'],\r\n          type: 'danger',\r\n          timeout: 3000\r\n        });\r\n        return;\r\n      }\r\n      this.loading = true;\r\n      this.searchService.mal(id).subscribe(result => {\r\n        this.loading = false;\r\n        if ( result.mal_id ) this.searchedToItem(item, result);\r\n        else {\r\n          this.flashMessage.showFlashMessage({\r\n            messages: ['존재하지 않는 ID이거나 오류가 발생했습니다.'],\r\n            type: 'danger',\r\n            timeout: 3000\r\n          });\r\n        }\r\n      });\r\n    } else {\r\n      const data: SendingSearchedProtocol = searchedProtocolFactory(text, option);\r\n      const dialogRef = this.dialog.open(SearchDialogComponent, {data: data});\r\n      dialogRef.afterClosed().subscribe(() => {\r\n        if ( data.malSearched ) {\r\n          this.searchedToItem(item, data.malSearched);\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  closeEdit(_id?: string) {\r\n    if ( _id ) this.planMap.get(_id).modifying = null;\r\n    this.writing = null;\r\n    this.studios = '';\r\n  }\r\n\r\n  private closeAllEdit() {\r\n    for (let plan of this.plans) if ( plan.modifying ) this.closeEdit(plan._id);\r\n    this.closeEdit();\r\n  }\r\n\r\n  modify(_id: string) {\r\n    this.closeAllEdit();\r\n    this.planMap.get(_id).opened = false;\r\n    let clone: Plan = cloneObject(this.planMap.get(_id));\r\n    this.planMap.get(_id).modifying = clone;\r\n    this.studios = this.planMap.get(_id).studios.join('\\n');\r\n  }\r\n\r\n  onModifySubmit(_id: string, i: number) {\r\n    if ( !confirm('저장하시겠습니까?') ) return;\r\n    let plan: Plan = this.planMap.get(_id).modifying;\r\n    if ( !isOK(plan.title[plan.title.rv]) ) return notOK(['대표가 되는 제목은 입력해야 합니다.']);\r\n    plan.studios = this.studios.trim().split('\\n');\r\n    this.planService.modifyPlan(plan).subscribe(result => {\r\n      if ( result._id ) {\r\n        this.planMap.delete(_id);\r\n        this.planMap.set(_id, plan);\r\n        this.plans[i] = plan;\r\n        this.click(_id);\r\n      } else {\r\n        alert('오류가 발생하였습니다.');\r\n        this.flashMessage.showFlashMessage({\r\n          messages: ['오류가 발생하였습니다.'],\r\n          type: 'danger',\r\n          timeout: 3000\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  write() {\r\n    this.closeAllEdit();\r\n    let date = new Date();\r\n    let year = date.getFullYear();\r\n    let qtr = Math.floor((date.getMonth() + 4) / 3);\r\n    this.writing = {\r\n      title: {\r\n        kor: '',\r\n        eng: '',\r\n        jpn: '',\r\n        rv: 'kor'\r\n      },\r\n      type: 'tva',\r\n      memo: '',\r\n      mal_id: undefined,\r\n      img: undefined,\r\n      aired: '',\r\n      studios: []\r\n    };\r\n  }\r\n\r\n  onWriteSubmit() {\r\n    if ( !isOK(this.writing.title[this.writing.title.rv]) ) return notOK(['대표가 되는 제목은 입력해야 합니다.']);\r\n\r\n    let trim = this.studios.trim();\r\n    if ( trim != '' ) this.writing.studios = trim.split('\\n');\r\n    this.planService.addPlan(this.writing).subscribe(result => {\r\n      if ( result._id ) {\r\n        alert('작성되었습니다.');\r\n        this.planMap.set(result._id, result);\r\n        this.plans.push(result);\r\n        this.align();\r\n        this.writing = null;\r\n      } else {\r\n        alert('오류가 발생하였습니다.');\r\n        this.flashMessage.showFlashMessage({\r\n          messages: ['오류가 발생하였습니다.'],\r\n          type: 'danger',\r\n          timeout: 3000\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  done(_id: string) {\r\n    this.router.navigate([`/${this.planMap.get(_id).type}/data-from-plan`, _id]);\r\n  }\r\n\r\n  remove(_id: string, i: number) {\r\n    if ( !confirm('삭제하시겠습니까?') ) return;\r\n    this.planService.removePlan(_id).subscribe(err => {\r\n      if ( err ) {\r\n        this.flashMessage.showFlashMessage({\r\n          messages: ['오류가 발생하였습니다.'],\r\n          type: 'danger',\r\n          timeout: 3000\r\n        });\r\n        return false;\r\n      } else {\r\n        this.planMap.delete(_id);\r\n        this.plans.splice(i, 1);\r\n      }\r\n    });\r\n  }\r\n\r\n  openAll() {\r\n    this.planMap.forEach((value, key) => {\r\n      if ( !value.opened ) this.click(key);\r\n    });\r\n  }\r\n\r\n  closeAll() {\r\n    this.planMap.forEach((value, key) => {\r\n      if ( value.opened ) this.click(key);\r\n    });\r\n  }\r\n\r\n  findByStudio(studio: string) {\r\n    this.dialog.open(StudioDialogComponent, {data: studio});\r\n  }\r\n\r\n}\r\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudHMvdHZhL3R2YS5jb21wb25lbnQuY3NzIn0= */\"","import { Component, OnInit } from '@angular/core';\r\nimport { TvaService } from 'src/app/services/tva.service';\r\nimport { Tva, TvaSequence } from 'src/app/models/tva';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { MovieService } from 'src/app/services/movie.service';\r\nimport { NgFlashMessageService } from 'ng-flash-messages';\r\nimport { MatDialog, MatAutocompleteSelectedEvent } from '@angular/material';\r\nimport { SearchDialogComponent } from '../dialogs/search-dialog/search-dialog.component';\r\nimport { SendingSearchedProtocol, MalSearched, searchedProtocolFactory } from 'src/app/models/searched';\r\nimport { cloneObject, isOK, notOK } from 'src/app/models/item';\r\nimport { FormControl, FormGroup } from '@angular/forms';\r\nimport { Observable } from 'rxjs';\r\nimport { map, startWith } from 'rxjs/operators';\r\nimport { SearchService } from 'src/app/services/search.service';\r\nimport { WatchingService } from 'src/app/services/watching.service';\r\nimport { PlanService } from 'src/app/services/plan.service';\r\nimport { HeaderAlign } from 'src/app/models/headerAlign';\r\nimport { SendingTextProtocol, TextFieldDialogComponent } from '../dialogs/text-field-dialog/text-field-dialog.component';\r\nimport { TitleService } from 'src/app/services/title.service';\r\nimport { StudioDialogComponent } from '../dialogs/studio-dialog/studio-dialog.component';\r\n\r\n@Component({\r\n  selector: 'app-tva',\r\n  templateUrl: './tva.component.html',\r\n  styleUrls: ['./tva.component.css']\r\n})\r\nexport class TvaComponent extends HeaderAlign<Tva> implements OnInit {\r\n  tvas: Tva[] = null;\r\n  tvaMap: Map<string, Tva>;\r\n  modifying: {\r\n    seriesTitle: string,\r\n    studios: string,\r\n    series: number,\r\n    sequence: number\r\n  } = null;\r\n  loading: boolean = false;\r\n\r\n  seriesControl: FormControl;\r\n  seriesOptions: string[];\r\n  seriesFilteredOptions: Observable<string[]>;\r\n\r\n  writeFormGroup: FormGroup;\r\n\r\n  categoryControl: FormControl;\r\n  categoryOptions: string[];\r\n  categoryFilteredOptions: Observable<string[]>;\r\n\r\n  writing: boolean = false;\r\n  writingTva: TvaSequence;\r\n  seriesMemo: string;\r\n\r\n  from: string = undefined;\r\n  incompletion_id: string = undefined;\r\n\r\n  counts = {\r\n    sequences: 0,\r\n    episodes: 0\r\n  };\r\n\r\n  constructor(\r\n    private tvaService: TvaService,\r\n    private movieService: MovieService,\r\n    private watchingService: WatchingService,\r\n    private planService: PlanService,\r\n    private searchService: SearchService,\r\n    private titleService: TitleService,\r\n    private route: ActivatedRoute,\r\n    private flashMessage: NgFlashMessageService,\r\n    private dialog: MatDialog\r\n  ) {\r\n    super([2], [6]);\r\n    this.titleService.setTitle('TVA');\r\n    this.tvaService.getTvas().subscribe(tvas => {\r\n      this.tvas = tvas;\r\n      super.setItems([this.tvas]);\r\n      this.tvaMap = new Map<string, Tva>();\r\n      tvas.map(v => this.tvaMap.set(v._id, v));\r\n      this.count();\r\n      this.align();\r\n      setTimeout(() => this.scrollToElement(), 500); // to wait for page loading\r\n    });\r\n  }\r\n\r\n  protected getAlignment(standard: number) {\r\n    switch(standard) {\r\n      case 0: return (a: Tva, b: Tva) => { return a.category.localeCompare(b.category) * this.alignments[0][standard] }\r\n      case 1: return (a: Tva, b: Tva) => { return a.series[0].title.localeCompare(b.series[0].title) * this.alignments[0][standard] }\r\n      case 2: return (a: Tva, b: Tva) => { return a.series[0].sequences[0].title[a.series[0].sequences[0].title.rv].localeCompare(b.series[0].sequences[0].title[a.series[0].sequences[0].title.rv]) * this.alignments[0][standard] }\r\n      case 3: return (a: Tva, b: Tva) => { return a.series[0].sequences[0].studios[0].localeCompare(b.series[0].sequences[0].studios[0]) * this.alignments[0][standard] }\r\n      case 4: return (a: Tva, b: Tva) => { return (a.series[0].sequences[0].episodes - b.series[0].sequences[0].episodes) * this.alignments[0][standard] }\r\n      case 5: return (a: Tva, b: Tva) => { return (new Date(a.series[0].sequences[0].aired.start).getTime() - new Date(b.series[0].sequences[0].aired.start).getTime()) * this.alignments[0][standard] }\r\n      default: return;\r\n    }\r\n  }\r\n\r\n  private scrollToElement() {\r\n    if ( this.route.snapshot.paramMap.get('_id') ) {\r\n      const _id = this.route.snapshot.paramMap.get('_id');\r\n      this.clickTvaWithId(_id, +this.route.snapshot.paramMap.get('series'), +this.route.snapshot.paramMap.get('sequence'));\r\n      let element: HTMLElement = document.getElementById(_id);\r\n      try {\r\n        element.scrollIntoView();\r\n      } catch(e) {\r\n        alert('알 수 없는 에러가 발생하였습니다.\\n' + e);\r\n      }\r\n    } else if ( this.route.snapshot.paramMap.get('from') ) {\r\n      this.writeTva();\r\n      this.from = this.route.snapshot.paramMap.get('from');\r\n      this.incompletion_id = this.route.snapshot.paramMap.get('incompletion_id');\r\n      (this.from == 'data-from-watching' ? this.watchingService : this.planService).get(this.incompletion_id).subscribe(result => {\r\n        if ( !result._id ) {\r\n          alert('알 수 없는 에러가 발생하였습니다.\\n' + result);\r\n          return;\r\n        }\r\n        if ( result.mal_id ) this.searchTva('mal_id', result.mal_id.toString());\r\n        else {\r\n          this.writingTva.aired.start = result.aired;\r\n          this.writingTva.studios = result.studios;\r\n        }\r\n        this.writingTva.title = result.title;\r\n        this.writingTva.memo = result.memo;\r\n        let element: HTMLElement = document.getElementById('writing-area');\r\n        try {\r\n          element.scrollIntoView();\r\n        } catch(e) {\r\n          alert('알 수 없는 에러가 발생하였습니다.\\n' + e);\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  allElementsLength(t: number): number {\r\n    let count = 0;\r\n    for (let i=0; i<this.tvas[t].series.length; i++) {\r\n      count += this.tvas[t].series[i].sequences.length;\r\n    }\r\n    return count;\r\n  }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  clickTva(t: number, series: number, sequence: number) {\r\n    if ( this.tvas[t].modifying ) return;\r\n    let opened = {series: series, sequence: sequence, linked: null};\r\n    if ( this.tvas[t].opened ) {\r\n      if ( this.tvas[t].opened.series != series || this.tvas[t].opened.sequence != sequence ) {\r\n        opened.linked = this.tvas[t].opened.linked;\r\n        this.tvas[t].opened = opened;\r\n      } else this.tvas[t].opened = null;\r\n      return;\r\n    }\r\n    this.tvas[t].opened = opened;\r\n    this.setLinkedTva(t, this.tvas[t].category_movie, this.tvas[t].series[series].key);\r\n  }\r\n\r\n  clickTvaWithId(_id: string, series: number, sequence: number) {\r\n    if ( this.tvaMap.get(_id).modifying ) return;\r\n    let opened = {series: series, sequence: sequence, linked: null};\r\n    if ( this.tvaMap.get(_id).opened ) {\r\n      if ( this.tvaMap.get(_id).opened.series != series || this.tvaMap.get(_id).opened.sequence != sequence ) {\r\n        opened.linked = this.tvaMap.get(_id).opened.linked;\r\n        this.tvaMap.get(_id).opened = opened;\r\n      } else this.tvaMap.get(_id).opened = null;\r\n      return;\r\n    }\r\n    this.tvaMap.get(_id).opened = opened;\r\n    this.setLinkedTvaWithId(_id, this.tvaMap.get(_id).category_movie, this.tvaMap.get(_id).series[series].key);\r\n  }\r\n\r\n  private setLinkedTva(t: number, movie_id: string, key: string) {\r\n    if ( !this.tvas[t].category_movie ) return;\r\n    if ( this.tvas[t].opened.linked ) return;\r\n    this.movieService.getMovie(movie_id).subscribe(movie => {\r\n      for (let i=0; i<movie.series.length; i++) {\r\n        if ( movie.series[i].key == key ) {\r\n          this.tvas[t].opened.linked = {\r\n            title: movie.series[i].title,\r\n            _id: movie._id,\r\n            series: i\r\n          };\r\n          return;\r\n        }\r\n      }\r\n      this.tvas[t].opened.linked = null;\r\n    });\r\n  }\r\n\r\n  private setLinkedTvaWithId(_id: string, movie_id: string, key: string) {\r\n    if ( !this.tvaMap.get(_id).category_movie ) return;\r\n    if ( this.tvaMap.get(_id).opened.linked ) return;\r\n    this.movieService.getMovie(movie_id).subscribe(movie => {\r\n      for (let i=0; i<movie.series.length; i++) {\r\n        if ( movie.series[i].key == key ) {\r\n          this.tvaMap.get(_id).opened.linked = {\r\n            title: movie.series[i].title,\r\n            _id: movie._id,\r\n            series: i\r\n          };\r\n          return;\r\n        }\r\n      }\r\n      this.tvaMap.get(_id).opened.linked = null;\r\n    });\r\n  }\r\n\r\n  editCategory(t: number) {\r\n    const data: SendingTextProtocol = {\r\n      title: '카테고리명 수정',\r\n      explain: '수정할 카테고리명을 입력해주세요.',\r\n      placeholder: '카테고리명',\r\n      text: this.tvas[t].category\r\n    }\r\n    const dialogRef = this.dialog.open(TextFieldDialogComponent, {data: data});\r\n    dialogRef.afterClosed().subscribe(() => {\r\n      if ( !data.text || data.text == '' ) return;\r\n      this.tvas[t].category = data.text;\r\n      this.tvaService.modifyTva(this.tvas[t]).subscribe(result => {\r\n        if ( !result._id ) alert('수정 실패');\r\n      });\r\n    });\r\n  }\r\n\r\n  private setStudio(studios: string[]) {\r\n    this.modifying.studios = '';\r\n    for (let studio of studios) this.modifying.studios += studio + '\\n';\r\n  }\r\n\r\n  modifyTva(t: number, series: number, sequence: number) {\r\n    this.tvas[t].opened = null;\r\n    for (let tva of this.tvas) tva.modifying = null;\r\n    this.tvas[t].modifying = cloneObject(this.tvas[t].series[series].sequences[sequence]);\r\n    this.modifying = {series: series, sequence: sequence, studios: undefined, seriesTitle: this.tvas[t].series[series].title};\r\n    this.setStudio(this.tvas[t].modifying.studios);\r\n\r\n    this.seriesOptions = [];\r\n    this.seriesControl = new FormControl();\r\n    for (let s of this.tvas[t].series) this.seriesOptions.push(s.title);\r\n    this.seriesFilteredOptions = this.seriesControl.valueChanges.pipe(\r\n      startWith(''),\r\n      map(value => {\r\n        return this.seriesOptions.filter(option => option.toLowerCase().includes(value.toLowerCase()));\r\n      })\r\n    );\r\n    this.seriesControl.setValue(this.tvas[t].series[series].title);\r\n  }\r\n\r\n  cancelModify(t: number) {\r\n    this.tvas[t].modifying = null;\r\n    this.tvas[t].opened = null;\r\n    this.clickTva(t, this.modifying.series, this.modifying.sequence);\r\n  }\r\n\r\n  cancelWrite() {\r\n    this.writing = false;\r\n  }\r\n\r\n  onModifySubmit(t: number, series: number, sequence: number) {\r\n    if ( !confirm('저장하시겠습니까?') ) return;\r\n\r\n    // validating input values\r\n    if ( !isOK(this.tvas[t].modifying, ['memo']) ) return notOK();\r\n    this.modifying.seriesTitle = this.seriesControl.value;\r\n    if ( !isOK(this.modifying) ) return notOK();\r\n\r\n    // change series with input title\r\n    this.tvas[t].series[series].sequences.splice(sequence, 1);\r\n    let flag: boolean = false;\r\n    for (let i=0; i<this.tvas[t].series.length; i++) {\r\n      if ( this.tvas[t].series[i].title == this.modifying.seriesTitle ) {\r\n        flag = true;\r\n        this.tvas[t].modifying.studios = this.modifying.studios.trim().split('\\n');\r\n        this.tvas[t].series[i].sequences.push(this.tvas[t].modifying);\r\n        this.tvas[t].series[i].sequences.sort((a, b) => { return a.season - b.season; });\r\n        series = i;\r\n        for (let j=0; j<this.tvas[t].series[i].sequences.length; j++) {\r\n          if ( this.tvas[t].series[i].sequences[j].season == this.tvas[t].modifying.season ) {\r\n            sequence = j;\r\n            break;\r\n          }\r\n        }\r\n        break;\r\n      }\r\n    }\r\n\r\n    // create a new series with input title\r\n    if ( !flag ) {\r\n      this.tvas[t].series.push({\r\n        title: this.modifying.seriesTitle,\r\n        key: new Date().getTime().toString(),\r\n        memo: '',\r\n        sequences: [ this.tvas[t].modifying ]\r\n      });\r\n      series = this.tvas[t].series.length - 1;\r\n      sequence = 0;\r\n      this.tvas[t].series.sort((a, b) => { return new Date(a.sequences[0].aired.start).getTime() - new Date(b.sequences[0].aired.start).getTime() });\r\n    }\r\n\r\n    // remove empty series (which has an empty sequence)\r\n    for (let i=0; i<this.tvas[t].series.length; i++) {\r\n      if ( this.tvas[t].series[i].sequences.length == 0 ) {\r\n        this.tvas[t].series.splice(i, 1);\r\n        if ( series >= i ) series--;\r\n        break;\r\n      }\r\n    }\r\n\r\n    this.tvaService.modifyTva(this.tvas[t]).subscribe(result => {\r\n      if ( result._id ) {\r\n        this.tvas[t].modifying = null;\r\n        this.clickTva(t, series, sequence);\r\n        this.flashMessage.showFlashMessage({\r\n          messages: ['수정되었습니다.'],\r\n          type: 'success',\r\n          timeout: 2000\r\n        });\r\n        return false;\r\n      } else {\r\n        this.flashMessage.showFlashMessage({\r\n          messages: ['오류가 발생하였습니다.'],\r\n          type: 'danger',\r\n          timeout: 3000\r\n        });\r\n        return false;\r\n      }\r\n    });\r\n  }\r\n\r\n  private searchedToSequence(sequence: TvaSequence, malSearched: MalSearched) {\r\n    if ( malSearched.title.kor ) sequence.title.kor = malSearched.title.kor;\r\n    sequence.title.eng = malSearched.title.eng;\r\n    sequence.title.jpn = malSearched.title.jpn;\r\n    sequence.premiered.year = malSearched.premiered.year;\r\n    sequence.premiered.quarter = malSearched.premiered.quarter;\r\n    sequence.aired = malSearched.aired;\r\n    sequence.episodes = malSearched.episodes;\r\n    sequence.studios = malSearched.studios;\r\n    sequence.mal_id = malSearched.mal_id;\r\n    sequence.img = malSearched.img;\r\n    this.setStudio(sequence.studios);\r\n  }\r\n\r\n  searchTva(option: string, text: string, t?: number) {\r\n    if ( !option ) {\r\n      alert('옵션을 선택해주세요.');\r\n      return;\r\n    }\r\n    if ( !text || text == '' ) {\r\n      alert('비어있습니다.');\r\n      return;\r\n    }\r\n\r\n    let tva: TvaSequence = t ? this.tvas[t].modifying : this.writingTva;\r\n    if ( option == 'mal_id' ) {\r\n      let id = parseInt(text);\r\n      if ( isNaN(id) ) {\r\n        this.flashMessage.showFlashMessage({\r\n          messages: ['숫자를 입력해야 합니다.'],\r\n          type: 'danger',\r\n          timeout: 3000\r\n        });\r\n        return;\r\n      }\r\n      this.loading = true;\r\n      this.searchService.mal(id).subscribe(result => {\r\n        this.loading = false;\r\n        if ( result.mal_id ) this.searchedToSequence(tva, result);\r\n        else {\r\n          this.flashMessage.showFlashMessage({\r\n            messages: ['존재하지 않는 ID이거나 오류가 발생했습니다.'],\r\n            type: 'danger',\r\n            timeout: 3000\r\n          });\r\n        }\r\n      });\r\n    } else {\r\n      const data: SendingSearchedProtocol = searchedProtocolFactory(text, option);\r\n      const dialogRef = this.dialog.open(SearchDialogComponent, {data: data});\r\n      dialogRef.afterClosed().subscribe(() => {\r\n        if ( data.malSearched ) {\r\n          this.searchedToSequence(tva, data.malSearched);\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  writeTva() {\r\n    this.categoryOptions = [];\r\n    this.seriesOptions = [];\r\n    for (let tva of this.tvas) {\r\n      this.categoryOptions.push(tva.category);\r\n      tva.modifying = null;\r\n    }\r\n    this.categoryControl = new FormControl();\r\n    this.categoryFilteredOptions = this.categoryControl.valueChanges.pipe(\r\n      startWith(''),\r\n      map(value => {\r\n        return this.categoryOptions.filter(option => option.toLowerCase().includes(value.toLowerCase()));\r\n      })\r\n    );\r\n    this.writeFormGroup = new FormGroup({\r\n      writeSeriesControl: new FormControl()\r\n    });\r\n\r\n    let date = new Date();\r\n    let year = date.getFullYear();\r\n    let qtr = Math.floor((date.getMonth() + 4) / 3);\r\n    this.seriesMemo = '';\r\n    this.writing = true;\r\n    this.writingTva = {\r\n      title: {kor: '', eng: '', jpn: '', rv: 'kor'},\r\n      premiered: {year: year, quarter: qtr},\r\n      aired: {start: '', end: ''},\r\n      season: 1,\r\n      episodes: 0,\r\n      studios: [],\r\n      memo: '',\r\n      mal_id: 0,\r\n      img: ''\r\n    };\r\n    this.modifying = {\r\n      seriesTitle: '',\r\n      studios: '',\r\n      series: 0,\r\n      sequence: 0\r\n    };\r\n  }\r\n\r\n  categoryInput(event: MatAutocompleteSelectedEvent) {\r\n    for (let tva of this.tvas) {\r\n      if ( event.option.value == tva.category ) {\r\n        this.seriesOptions = [];\r\n        for (let series of tva.series) this.seriesOptions.push(series.title);\r\n        this.seriesFilteredOptions = this.writeFormGroup.get('writeSeriesControl').valueChanges.pipe(\r\n          startWith(''),\r\n          map(value => {\r\n            return this.seriesOptions.filter(option => option.toLowerCase()\r\n              .includes(value.toLowerCase()));\r\n          })\r\n        );\r\n        return;\r\n      }\r\n    }\r\n  }\r\n\r\n  seriesInput(event: MatAutocompleteSelectedEvent) {\r\n    for (let tva of this.tvas) {\r\n      if ( event.option.value == tva.category ) {\r\n        for (let series of tva.series) {\r\n          if ( this.writeFormGroup.get('writeSeriesControl').value == series.title ) {\r\n            this.seriesMemo = series.memo;\r\n            this.writingTva.season = series.sequences.length + 1;\r\n            return;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  onWriteSubmit() {\r\n    // validating input values\r\n    if ( !isOK(this.writingTva, ['memo']) ) return notOK();\r\n    this.modifying.seriesTitle = this.writeFormGroup.get('writeSeriesControl').value;\r\n    if ( !isOK(this.modifying) || !isOK(this.categoryControl.value) ) return notOK();\r\n\r\n    let category: number = -1;\r\n    let series: number = -1;\r\n    for (let i=0; i<this.tvas.length; i++) {\r\n      if ( this.tvas[i].category == this.categoryControl.value ) {\r\n        category = i;\r\n        for (let j=0; j<this.tvas[i].series.length; j++) {\r\n          if ( this.tvas[i].series[j].title == this.writeFormGroup.get('writeSeriesControl').value ) {\r\n            series = j;\r\n            break;\r\n          }\r\n        }\r\n        break;\r\n      }\r\n    }\r\n\r\n    let newTva: Tva;\r\n    this.writingTva.studios = this.modifying.studios.trim().split('\\n');\r\n    if ( category != -1 ) {\r\n      newTva = this.tvas[category];\r\n      if ( series != -1 ) { // add to an existing series\r\n        newTva.series[series].sequences.push(this.writingTva);\r\n        newTva.series[series].sequences.sort((a, b) => { return a.season - b.season });\r\n      } else {  // add new series\r\n        newTva.series.push({\r\n          title: <string> this.writeFormGroup.get('writeSeriesControl').value,\r\n          key: new Date().getTime().toString(),\r\n          memo: this.seriesMemo,\r\n          sequences: [ this.writingTva ]\r\n        });\r\n        newTva.series.sort((a, b) => {\r\n          return new Date(a.sequences[0].aired.start).getTime() - new Date(b.sequences[0].aired.start).getTime();\r\n        });\r\n      }\r\n      this.tvaService.modifyTva(newTva).subscribe(result => {\r\n        if ( result._id ) {\r\n          alert('추가되었습니다.');\r\n          this.flashMessage.showFlashMessage({\r\n            messages: ['추가되었습니다.'],\r\n            type: 'success',\r\n            timeout: 2000\r\n          });\r\n          this.tvaMap.set(result._id, result);\r\n          this.clickTvaWithId(result._id, series, result.series[series].sequences.length-1);\r\n          setTimeout(() => {\r\n            try {\r\n              let el = document.getElementById(result._id);\r\n              el.scrollIntoView();\r\n            } catch(e) {}\r\n          }, 500);\r\n          this.writing = false;\r\n          if ( this.incompletion_id ) {\r\n            (this.from == 'data-from-watching' ? this.watchingService : this.planService).remove(this.incompletion_id).subscribe(err => {\r\n              if ( err ) alert('원래의 목록에서 삭제하는 도중 오류가 발생하였습니다.');\r\n              else this.incompletion_id = undefined;\r\n            });\r\n          }\r\n        } else {\r\n          alert('오류가 발생하였습니다.');\r\n          this.flashMessage.showFlashMessage({\r\n            messages: ['오류가 발생하였습니다.'],\r\n            type: 'danger',\r\n            timeout: 3000\r\n          });\r\n        }\r\n        return;\r\n      });\r\n    } else {\r\n      newTva = {\r\n        category: <string> this.categoryControl.value,\r\n        category_movie: null,\r\n        series: [{\r\n          title: <string> this.writeFormGroup.get('writeSeriesControl').value,\r\n          key: new Date().getTime().toString(),\r\n          memo: this.seriesMemo,\r\n          sequences: [ this.writingTva ]\r\n        }]\r\n      };\r\n      this.tvaService.addTva(newTva).subscribe(result => {\r\n        if ( result._id ) {\r\n          alert('추가되었습니다.');\r\n          this.flashMessage.showFlashMessage({\r\n            messages: ['추가되었습니다.'],\r\n            type: 'success',\r\n            timeout: 2000\r\n          });\r\n          this.writing = false;\r\n          this.tvas.push(result);\r\n          this.align();\r\n          this.tvaMap.set(result._id, result);\r\n          this.clickTvaWithId(result._id, 0, 0);\r\n          setTimeout(() => {\r\n            try { document.getElementById(result._id).scrollIntoView() }\r\n            catch(e) {}\r\n          }, 500);\r\n          if ( this.incompletion_id ) {\r\n            (this.from == 'data-from-watching' ? this.watchingService : this.planService).remove(this.incompletion_id).subscribe(err => {\r\n              if ( err ) alert('원래의 목록에서 삭제하는 도중 오류가 발생하였습니다.');\r\n              else this.incompletion_id = undefined;\r\n            });\r\n          }\r\n        } else {\r\n          alert('오류가 발생하였습니다.');\r\n          this.flashMessage.showFlashMessage({\r\n            messages: ['오류가 발생하였습니다.'],\r\n            type: 'danger',\r\n            timeout: 3000\r\n          });\r\n        }\r\n        return;\r\n      });\r\n    }\r\n\r\n  }\r\n\r\n  removeTva(t: number, series: number, sequence: number) {\r\n    if ( !confirm('삭제하시겠습니까?') ) return;\r\n    this.tvaService.removeTva(this.tvas[t]._id, series, sequence).subscribe(err => {\r\n      if ( err ) {\r\n        this.flashMessage.showFlashMessage({\r\n          messages: ['오류가 발생하였습니다.'],\r\n          type: 'danger',\r\n          timeout: 3000\r\n        });\r\n        return false;\r\n      } else {\r\n        this.tvas.splice(t, 1);\r\n      }\r\n    });\r\n  }\r\n\r\n  openAll() {\r\n    for (let i=0; i<this.tvas.length; i++) {\r\n      this.tvas[i].opened = null;\r\n      this.clickTva(i, 0, 0);\r\n    }\r\n  }\r\n\r\n  closeAll() {\r\n    for (let tva of this.tvas) {\r\n      tva.opened = null;\r\n    }\r\n  }\r\n\r\n  count() {\r\n    if ( this.tvas ) {\r\n      this.tvas.map(tva => {\r\n        tva.series.map(series => {\r\n          this.counts.sequences += series.sequences.length;\r\n          series.sequences.map(sequence => this.counts.episodes += sequence.episodes);\r\n        });\r\n      });\r\n    }\r\n  }\r\n\r\n  findByStudio(studio: string) {\r\n    this.dialog.open(StudioDialogComponent, {data: studio});\r\n  }\r\n\r\n  toCategory(rv: string) {\r\n    const s: string = this.writingTva.title[rv];\r\n    this.categoryControl.setValue(s);\r\n    this.writeFormGroup.get('writeSeriesControl').setValue(s);\r\n  }\r\n\r\n}\r\n","export default \".download-link {\\r\\n    color: white;\\r\\n}\\r\\n\\r\\n.download-link:hover {\\r\\n    color: grey;\\r\\n    text-decoration: none;\\r\\n}\\r\\n\\r\\n.inner-table-section {\\r\\n    padding: 0px;\\r\\n}\\r\\n\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50cy93YXRjaGluZy93YXRjaGluZy5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksWUFBWTtBQUNoQjs7QUFFQTtJQUNJLFdBQVc7SUFDWCxxQkFBcUI7QUFDekI7O0FBRUE7SUFDSSxZQUFZO0FBQ2hCIiwiZmlsZSI6InNyYy9hcHAvY29tcG9uZW50cy93YXRjaGluZy93YXRjaGluZy5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmRvd25sb2FkLWxpbmsge1xyXG4gICAgY29sb3I6IHdoaXRlO1xyXG59XHJcblxyXG4uZG93bmxvYWQtbGluazpob3ZlciB7XHJcbiAgICBjb2xvcjogZ3JleTtcclxuICAgIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcclxufVxyXG5cclxuLmlubmVyLXRhYmxlLXNlY3Rpb24ge1xyXG4gICAgcGFkZGluZzogMHB4O1xyXG59XHJcbiJdfQ== */\"","import { Component, OnInit } from '@angular/core';\r\nimport { Watching } from 'src/app/models/watching';\r\nimport { WatchingService } from 'src/app/services/watching.service';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { NgFlashMessageService } from 'ng-flash-messages';\r\nimport { SendingSearchedProtocol, searchedProtocolFactory, MalSearched, Broadcast } from 'src/app/models/searched';\r\nimport { SearchDialogComponent } from '../dialogs/search-dialog/search-dialog.component';\r\nimport { MatDialog } from '@angular/material';\r\nimport { SearchService } from 'src/app/services/search.service';\r\nimport { isOK, notOK, cloneObject } from 'src/app/models/item';\r\nimport { SendingOhliProtocol } from 'src/app/models/ohli';\r\nimport { OhliDialogComponent } from '../dialogs/ohli-dialog/ohli-dialog.component';\r\nimport { PlanService } from 'src/app/services/plan.service';\r\nimport { HeaderAlign } from 'src/app/models/headerAlign';\r\nimport { TitleService } from 'src/app/services/title.service';\r\nimport { StudioDialogComponent } from '../dialogs/studio-dialog/studio-dialog.component';\r\nimport { EndedDialogComponent } from '../dialogs/ended-dialog/ended-dialog.component';\r\n\r\n@Component({\r\n  selector: 'app-watching',\r\n  templateUrl: './watching.component.html',\r\n  styleUrls: ['./watching.component.css']\r\n})\r\nexport class WatchingComponent extends HeaderAlign<Watching> implements OnInit {\r\n  watchingMap: Map<string, Watching>;\r\n  airings: Watching[] = null;\r\n  ends: Watching[] = null;\r\n\r\n  loading: boolean = false;\r\n  writing: Watching = null;\r\n  studios: string = null;\r\n\r\n  plan_id: string = null;\r\n\r\n  private readonly days: string[] = [\r\n    '일', '월', '화', '수', '목', '금', '토'\r\n  ];\r\n\r\n  constructor(\r\n    private watchingService: WatchingService,\r\n    private planService: PlanService,\r\n    private route: ActivatedRoute,\r\n    private flashMessage: NgFlashMessageService,\r\n    private dialog: MatDialog,\r\n    public searchService: SearchService,\r\n    private titleService: TitleService\r\n  ) {\r\n    super([4, 1], [5, 4]);\r\n    this.titleService.setTitle('시청 중');\r\n    this.watchingService.getWatchings().subscribe(watchings => {\r\n      this.watchingMap = new Map<string, Watching>();\r\n      this.airings = [];\r\n      this.ends = [];\r\n      for (let watching of watchings) {\r\n        if ( watching.ohli_id ) this.airings.push(watching);\r\n        else this.ends.push(watching);\r\n        this.watchingMap.set(watching._id, watching);\r\n      }\r\n      this.setItems([this.airings, this.ends]);\r\n      this.align(0);\r\n      this.align(1);\r\n      setTimeout(() => this.scrollToElement(), 500); // to wait for page loading\r\n    });\r\n  }\r\n\r\n  protected getAlignment(standard: number, num?: number) {\r\n    switch(standard) {\r\n      case 0: return (a: Watching, b: Watching) => { return a.type.localeCompare(b.type) * this.alignments[num][standard] }\r\n      case 1: return (a: Watching, b: Watching) => { return a.title[a.title.rv].localeCompare(b.title[b.title.rv]) * this.alignments[num][standard] }\r\n      case 2: return (a: Watching, b: Watching) => { return a.studios[0].localeCompare(b.studios[0]) * this.alignments[num][standard] }\r\n      case 3: return (a: Watching, b: Watching) => { return (new Date(a.aired ? a.aired : null).getTime() - new Date(b.aired ? b.aired : null).getTime()) * this.alignments[num][standard] }\r\n      case 4: return (a: Watching, b: Watching) => { return ( a.broadcast.day != b.broadcast.day ? a.broadcast.day - b.broadcast.day : (a.broadcast.hour * 100 + a.broadcast.minute) - (b.broadcast.hour * 100 + b.broadcast.minute) ) * this.alignments[num][standard] }\r\n      default: return null;\r\n    }\r\n  }\r\n\r\n  private scrollToElement() {\r\n    if ( this.route.snapshot.paramMap.get('_id') ) {\r\n      const _id = this.route.snapshot.paramMap.get('_id');\r\n      this.click(_id);\r\n      let element: HTMLElement = document.getElementById(_id);\r\n      try {\r\n        element.scrollIntoView();\r\n      } catch(e) {\r\n        alert('알 수 없는 에러가 발생하였습니다.\\n' + e);\r\n      }\r\n    } else if ( this.route.snapshot.paramMap.get('plan_id') ) {\r\n      this.plan_id = this.route.snapshot.paramMap.get('plan_id');\r\n      this.write();\r\n      this.planService.getPlan(this.plan_id).subscribe(plan => {\r\n        this.writing.title = plan.title;\r\n        this.writing.type = plan.type;\r\n        this.writing.memo = plan.memo;\r\n        if ( plan.aired ) this.writing.aired = plan.aired;\r\n        this.studios = plan.studios.join('\\n');\r\n        if ( plan.mal_id ) this.search('mal_id', plan.mal_id.toString(), this.writing);\r\n        try {\r\n          let el = document.getElementById('writing-area');\r\n          el.scrollIntoView();\r\n        } catch(e) { alert('에러가 발생하였습니다.\\n' + e) }\r\n      });\r\n    }\r\n  }\r\n\r\n  click(_id: string) {\r\n    let watching: Watching = this.watchingMap.get(_id);\r\n    if ( watching.modifying ) return;\r\n    if ( watching.opened ) watching.opened = false;\r\n    else {\r\n      watching.opened = true;\r\n      if ( watching.ohli_id ) {\r\n        this.watchingService.getVideos(watching.title.eng).subscribe(videos => watching.videos = videos);\r\n        this.watchingService.getOhys(watching.title.eng).subscribe(ohys => {watching.ohys = ohys; console.log(ohys)});\r\n        this.watchingService.getSubtitles(watching.ohli_id).subscribe(subtitles => watching.subtitles = subtitles);\r\n      }\r\n    }\r\n  }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  private searchedToItem(watching: Watching, malSearched: MalSearched) {\r\n    if ( malSearched.title.kor ) watching.title.kor = malSearched.title.kor;\r\n    watching.title.eng = malSearched.title.eng;\r\n    watching.title.jpn = malSearched.title.jpn;\r\n    watching.aired = malSearched.aired.start;\r\n    watching.premiered = malSearched.premiered;\r\n    watching.broadcast = malSearched.broadcast;\r\n    watching.mal_id = malSearched.mal_id;\r\n    watching.img = malSearched.img;\r\n    watching.type = malSearched.type;\r\n    this.studios = malSearched.studios.join('\\n');\r\n  }\r\n\r\n  search(option: string, text: string, item: Watching) {\r\n    if ( !option ) {\r\n      alert('옵션을 선택해주세요.');\r\n      return;\r\n    }\r\n    if ( !text || text == '' ) {\r\n      alert('비어있습니다.');\r\n      return;\r\n    }\r\n\r\n    if ( option == 'mal_id' ) {\r\n      let id = parseInt(text);\r\n      if ( isNaN(id) ) {\r\n        this.flashMessage.showFlashMessage({\r\n          messages: ['숫자를 입력해야 합니다.'],\r\n          type: 'danger',\r\n          timeout: 3000\r\n        });\r\n        return;\r\n      }\r\n      this.loading = true;\r\n      this.searchService.mal(id).subscribe(result => {\r\n        this.loading = false;\r\n        if ( result.mal_id ) this.searchedToItem(item, result);\r\n        else {\r\n          this.flashMessage.showFlashMessage({\r\n            messages: ['존재하지 않는 ID이거나 오류가 발생했습니다.'],\r\n            type: 'danger',\r\n            timeout: 3000\r\n          });\r\n        }\r\n      });\r\n    } else {\r\n      const data: SendingSearchedProtocol = searchedProtocolFactory(text, option);\r\n      const dialogRef = this.dialog.open(SearchDialogComponent, {data: data});\r\n      dialogRef.afterClosed().subscribe(() => {\r\n        if ( data.malSearched ) {\r\n          this.searchedToItem(item, data.malSearched);\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  closeEdit(_id?: string) {\r\n    if ( _id ) this.watchingMap.get(_id).modifying = null;\r\n    this.writing = null;\r\n    this.studios = '';\r\n  }\r\n\r\n  private closeAllEdit() {\r\n    for (let arr of [ this.airings, this.ends ]) {\r\n      for (let item of arr) {\r\n        if ( item.modifying ) {\r\n          this.closeEdit(item._id);\r\n          return;\r\n        }\r\n      }\r\n    }\r\n    this.closeEdit();\r\n  }\r\n\r\n  findOhliId(watching: Watching) {\r\n    if ( !watching.title.kor || watching.title.kor == '' ) {\r\n      alert('한글 제목이 비어있습니다.');\r\n      return;\r\n    }\r\n    const data: SendingOhliProtocol = {title: watching.title.kor, ohli_id: null};\r\n    const dialogRef = this.dialog.open(OhliDialogComponent, {data: data});\r\n    dialogRef.afterClosed().subscribe(() => watching.ohli_id = data.ohli_id);\r\n  }\r\n\r\n  removeOhliId(watching: Watching) {\r\n    watching.ohli_id = null;\r\n  }\r\n\r\n  modify(_id: string) {\r\n    this.closeAllEdit();\r\n    this.watchingMap.get(_id).opened = false;\r\n    this.watchingMap.get(_id).modifying = cloneObject(this.watchingMap.get(_id), ['videos', 'subtitles']);\r\n    this.studios = this.watchingMap.get(_id).studios.join('\\n');\r\n  }\r\n\r\n  onModifySubmit(_id: string, i: number, isAiring: boolean) {\r\n    if ( !confirm('저장하시겠습니까?') ) return;\r\n    if ( !isOK(this.watchingMap.get(_id).modifying, ['memo']) || !isOK(this.studios) ) return notOK(['빈 필드가 있습니다.']);\r\n    let watching: Watching = this.watchingMap.get(_id).modifying;\r\n    watching.studios = this.studios.trim().split('\\n');\r\n    this.watchingService.modifyWatching(watching).subscribe(result => {\r\n      if ( result._id ) {\r\n        this.watchingMap.delete(_id);\r\n        this.watchingMap.set(_id, watching);\r\n        (isAiring ? this.airings : this.ends)[i] = watching;\r\n        this.click(_id);\r\n      } else {\r\n        alert('오류가 발생하였습니다.');\r\n        this.flashMessage.showFlashMessage({\r\n          messages: ['오류가 발생하였습니다.'],\r\n          type: 'danger',\r\n          timeout: 3000\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  write() {\r\n    let date = new Date();\r\n    let year = date.getFullYear();\r\n    let qtr = Math.floor((date.getMonth() + 4) / 3);\r\n    this.closeAllEdit();\r\n    this.writing = {\r\n      title: {\r\n        kor: '',\r\n        eng: '',\r\n        jpn: '',\r\n        rv: 'kor'\r\n      },\r\n      premiered: {\r\n        year: year,\r\n        quarter: qtr\r\n      },\r\n      broadcast: undefined,\r\n      type: 'tva',\r\n      memo: '',\r\n      mal_id: 0,\r\n      img: '',\r\n      aired: '',\r\n      studios: []\r\n    };\r\n  }\r\n\r\n  onWriteSubmit() {\r\n    if ( !isOK(this.writing, ['memo', 'ohli_id', '_id', 'modifying', 'opened']) || !isOK(this.studios) ) return notOK(['빈 필드가 있습니다.']);\r\n\r\n    this.writing.studios = this.studios.trim().split('\\n');\r\n    this.watchingService.addWatching(this.writing).subscribe(result => {\r\n      if ( result._id ) {\r\n        this.watchingMap.set(result._id, result);\r\n        if ( result.ohli_id ) {\r\n          this.airings.push(result);\r\n          this.align(0);\r\n        } else {\r\n          this.ends.push(result);\r\n          this.align(1);\r\n        }\r\n        alert('추가되었습니다.');\r\n        this.writing = null;\r\n        this.click(result._id);\r\n        let el = document.getElementById(result._id);\r\n        try { el.scrollIntoView() } catch(e) {}\r\n\r\n        if ( this.plan_id ) {\r\n          this.planService.remove(this.plan_id).subscribe(err => {\r\n            if ( err ) alert('원래의 목록에서 지우던 도중 오류가 발생하였습니다.');\r\n            else this.plan_id = null;\r\n          });\r\n        }\r\n\r\n      } else {\r\n        alert('오류가 발생하였습니다.');\r\n        this.flashMessage.showFlashMessage({\r\n          messages: ['오류가 발생하였습니다.'],\r\n          type: 'danger',\r\n          timeout: 3000\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  remove(_id: string, i: number, isAiring: boolean) {\r\n    if ( !confirm('삭제하시겠습니까?') ) return;\r\n    this.watchingService.removeWatching(_id).subscribe(err => {\r\n      if ( err ) {\r\n        this.flashMessage.showFlashMessage({\r\n          messages: ['오류가 발생하였습니다.'],\r\n          type: 'danger',\r\n          timeout: 3000\r\n        });\r\n        return false;\r\n      } else {\r\n        this.watchingMap.delete(_id);\r\n        (isAiring ? this.airings : this.ends).splice(i, 1);\r\n      }\r\n    });\r\n  }\r\n\r\n  openAll() {\r\n    this.watchingMap.forEach((value, key) => {\r\n      if ( !value.opened ) this.click(key);\r\n    });\r\n  }\r\n\r\n  closeAll() {\r\n    this.watchingMap.forEach((value, key) => {\r\n      if ( value.opened ) this.click(key);\r\n    });\r\n  }\r\n\r\n  getToday(): string {\r\n    let date = new Date();\r\n    return `${date.getFullYear()}년 ${date.getMonth()+1}월 ${date.getDate()}일`;\r\n  }\r\n\r\n  getDate(dateString: string): string {\r\n    let today = new Date();\r\n    let given = new Date(dateString);\r\n\r\n    if ( given.getMonth() == today.getMonth() && given.getDate() == today.getDate() )\r\n      return dateString.substring(11);\r\n    else\r\n      return `${given.getMonth()+1}/${given.getDate()}`;\r\n  }\r\n\r\n  getDay(broadcast: Broadcast): string {\r\n    const f = (n: number): string => { return n >= 10 ? `${n}` : `0${n}` };\r\n    return `${this.days[broadcast.day]} ${f(broadcast.hour)}:${f(broadcast.minute)}`;\r\n  }\r\n\r\n  getSize(size: number): string {\r\n    const dividedSize = Math.round(size / 1024 / 1024);\r\n    if ( dividedSize >= 1000 ) return (dividedSize / 1024).toFixed(2) + 'GB';\r\n    else return dividedSize + 'MB';\r\n  }\r\n\r\n  findByStudio(studio: string) {\r\n    this.dialog.open(StudioDialogComponent, {data: studio});\r\n  }\r\n\r\n  openTodayAiring() {\r\n    this.closeAll();\r\n    const today = new Date();\r\n    const broadcast: Broadcast = {\r\n      day: today.getDay(),\r\n      hour: today.getHours(),\r\n      minute: today.getMinutes()\r\n    };\r\n    let flag: boolean = false;\r\n    for (let airing of this.airings) {\r\n      if ( !airing.broadcast ) continue;\r\n      else if ( broadcast.day == airing.broadcast.day ) {\r\n        if ( broadcast.hour > airing.broadcast.hour || (broadcast.hour == airing.broadcast.hour && broadcast.minute >= airing.broadcast.minute) ) {\r\n          this.click(airing._id);\r\n          flag = true;\r\n        }\r\n      } else if ( (broadcast.day + 6) % 7 == airing.broadcast.day ) {\r\n        if ( broadcast.hour < airing.broadcast.hour || (broadcast.hour == airing.broadcast.hour && broadcast.minute <= airing.broadcast.minute ) ) {\r\n          this.click(airing._id);\r\n          flag = true;\r\n        }\r\n      }\r\n    }\r\n\r\n    if ( !flag ) {\r\n      this.flashMessage.showFlashMessage({\r\n        messages: [`24시간 이내 방영 항목이 없습니다.`],\r\n        type: 'danger',\r\n        timeout: 3000\r\n      });\r\n    }\r\n  }\r\n\r\n  findVideosAndSubtitles(item: Watching) {\r\n    this.dialog.open(EndedDialogComponent, {data: {\r\n      title: item.title,\r\n      mal_id: item.mal_id,\r\n      img: item.img\r\n    }});\r\n  }\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpRequest, HttpHandler, HttpEvent, HttpInterceptor } from '@angular/common/http';\r\nimport { Observable } from 'rxjs';\r\n\r\n@Injectable()\r\nexport class ContentTypeInterceptor implements HttpInterceptor {\r\n    constructor() { }\r\n\r\n    intercept(request: HttpRequest<any>, next: HttpHandler): Observable<HttpEvent<any>> {\r\n        request = request.clone({\r\n            setHeaders: {\r\n                'Content-Type': 'application/json'\r\n            }\r\n        });\r\n\r\n        return next.handle(request);\r\n    }\r\n}\r\n","export abstract class HeaderAlign<T> {\r\n    private items: T[][];\r\n    alignedAs: number[];\r\n    alignments: number[][] = [];\r\n\r\n    constructor(alignedAs: number[], alignmentsCounts: number[]) {\r\n        this.alignedAs = alignedAs;\r\n        for (let i=0; i<alignmentsCounts.length; i++) {\r\n            let arr: number[] = [];\r\n            for (let j=0; j<alignmentsCounts[i]; j++) arr.push(1);\r\n            this.alignments.push(arr);\r\n        }\r\n    }\r\n\r\n    protected setItems(items: T[][]) {\r\n        this.items = items;\r\n    }\r\n\r\n    protected setAlignments(alignmentsCounts: number[]) {\r\n        this.alignments = [];\r\n        for (let i=0; i<alignmentsCounts.length; i++) {\r\n            let arr: number[] = [];\r\n            for (let j=0; j<alignmentsCounts[i]; j++) arr.push(1);\r\n            this.alignments.push(arr);\r\n        }\r\n    }\r\n\r\n    protected abstract getAlignment(standard: number, num?: number): (a: T, b: T) => number;\r\n    \r\n    align(num?: number, standard?: number) {\r\n        let numIsNotSet: boolean;\r\n        if ( numIsNotSet = (num == undefined) ) num = 0;\r\n        if ( standard ) this.alignedAs[num] = standard;\r\n        if ( numIsNotSet ) this.items[num].sort(this.getAlignment(this.alignedAs[num]));\r\n        else this.items[num].sort(this.getAlignment(this.alignedAs[num], num));\r\n        this.alignments[num][this.alignedAs[num]] *= -1;\r\n    }\r\n\r\n    alignAll(standards?: number[]) {\r\n        for (let [i, standard] of (standards ? standards : this.alignedAs).entries()) {\r\n            this.align(i, standard);\r\n        }\r\n    }\r\n\r\n}\r\n","export class Item {\r\n    _id?: string;\r\n    opened?: any;\r\n    modifying?: any;\r\n}\r\n\r\nexport interface ItemTitle {\r\n    kor: string,\r\n    eng: string,\r\n    jpn: string,\r\n    rv: string\r\n}\r\n\r\nexport function cloneObject(obj: any, excepts?: string[]): any {\r\n    let clone = {};\r\n    for (let key in obj) {\r\n        if ( excepts ) if ( excepts.includes(key) ) continue;\r\n        if ( typeof obj[key] == 'object' && obj[key] != null ) {\r\n            if ( Array.isArray(obj[key]) ) {\r\n                let arr = [];\r\n                for (let each of obj[key]) {\r\n                    if ( typeof each == 'object' ) arr.push(cloneObject(each));\r\n                    else arr.push(each);\r\n                }\r\n                clone[key] = arr;\r\n            } else clone[key] = cloneObject(obj[key]);\r\n\r\n        } else clone[key] = obj[key];\r\n    }\r\n    return clone;\r\n}\r\n\r\nfunction isValid(s: string | number): boolean { return !(s == null || s === ''); }\r\n\r\nexport function isOK(obj: any, excepts?: string[]): boolean {\r\n    if ( typeof obj != 'object' ) {\r\n        if ( !isValid(obj) ) return false;\r\n    } else {\r\n        for (let key in obj) {\r\n            if ( excepts ) if ( excepts.includes(key) ) continue;\r\n            if ( typeof obj[key] != 'object' ) {\r\n                if ( !isOK(obj[key]) ) return false;\r\n            } else if ( Array.isArray(obj[key]) ) {\r\n                for (let each of obj[key]) if ( !isOK(each) ) return false;\r\n            } else {\r\n                if ( !isOK(obj[key]) ) return false;\r\n            }\r\n        }\r\n    }\r\n    return true;\r\n}\r\n\r\nexport function notOK(messages?: string[]) {\r\n    this.flashMessage.showFlashMessage({\r\n        messages: messages ? messages : ['비어있는 필드가 있습니다.'],\r\n        type: 'danger',\r\n        timeout: 3000});\r\n}\r\n","export class Searched {\r\n    type: string;\r\n    title: string;\r\n    title_kor: string;\r\n    mal_id: number;\r\n    img: string;\r\n    premiered: {\r\n        year: number,\r\n        quarter: number\r\n    };\r\n}\r\n\r\nexport class MalSearched {\r\n    type: string;\r\n    title: {\r\n        kor: string,\r\n        eng: string,\r\n        jpn: string\r\n    };\r\n    premiered: {\r\n        year: number,\r\n        quarter: number\r\n    };\r\n    aired: {\r\n        start: string,\r\n        end: string\r\n    };\r\n    broadcast: Broadcast;\r\n    episodes: number; // can be null when it is a movie\r\n    studios: string[];\r\n    mal_id: number;\r\n    img: string;\r\n}\r\n\r\nexport interface Broadcast {\r\n    day: number,\r\n    hour: number,\r\n    minute: number\r\n}\r\n  \r\nexport interface SendingSearchedProtocol {\r\n    search: {\r\n        text: string,\r\n        option: string\r\n    },\r\n    malSearched: MalSearched\r\n}\r\n\r\nexport function searchedProtocolFactory(text: string, option: string): SendingSearchedProtocol {\r\n    return {\r\n        search: {text: text, option: option},\r\n        malSearched: null\r\n    };\r\n}\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\nimport { DomSanitizer } from '@angular/platform-browser';\r\n\r\n@Pipe({\r\n  name: 'safeHtml'\r\n})\r\nexport class SafeHtml implements PipeTransform {\r\n  constructor(\r\n    private dom: DomSanitizer\r\n  ) { }\r\n\r\n  transform(value: string, args) {\r\n    return this.dom.bypassSecurityTrustHtml(value);\r\n  }\r\n\r\n}\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\nimport { DomSanitizer } from '@angular/platform-browser';\r\n\r\n@Pipe({\r\n    name: 'safeUrl'\r\n})\r\nexport class SafeUrl implements PipeTransform {\r\n    constructor(\r\n      private dom: DomSanitizer\r\n    ) { }\r\n  \r\n    transform(value: string, args) {\r\n      return this.dom.bypassSecurityTrustResourceUrl(value);\r\n    }\r\n  \r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\nimport { HttpClient } from '@angular/common/http';\r\n\r\nimport { Movie } from 'src/app/models/movie';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class MovieService {\r\n\r\n  constructor(\r\n    private http: HttpClient\r\n  ) { }\r\n\r\n  getMovies(): Observable<Movie[]> {\r\n    return this.http.get<Movie[]>('/api/movies').pipe();\r\n  }\r\n\r\n  getMovie(_id: string): Observable<Movie> {\r\n    return this.http.get<Movie>(`/api/movies/${_id}`).pipe();\r\n  }\r\n\r\n  addMovie(movie: Movie): Observable<Movie> {\r\n    return this.http.post<Movie>('/api/movies', movie).pipe();\r\n  }\r\n\r\n  modifyMovie(movie: Movie): Observable<Movie> {\r\n    return this.http.put<Movie>(`/api/movies/${movie._id}`, movie).pipe();\r\n  }\r\n\r\n  removeMovie(_id: string, series: number, sequence: number): Observable<any> {\r\n    return this.http.delete(`/api/movies/${_id}/${series}/${sequence}`).pipe();\r\n  }\r\n\r\n  count(): Observable<number> {\r\n    return this.http.get<number>(`/api/movies/count`).pipe();\r\n  }\r\n\r\n  getRandom(): Observable<Movie> {\r\n    return this.http.get<Movie>('/api/movies/random').pipe();\r\n  }\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { Observable } from 'rxjs';\r\nimport { Plan } from '../models/plan';\r\nimport { IncompletionService } from '../models/incompletionService';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class PlanService implements IncompletionService {\r\n\r\n  constructor(\r\n    private http: HttpClient\r\n  ) { }\r\n\r\n  get(_id: string): Observable<Plan> { return this.getPlan(_id) }\r\n  remove(_id: string): Observable<any> { return this.removePlan(_id) }\r\n\r\n  getPlans(): Observable<Plan[]> {\r\n    return this.http.get<Plan[]>('/api/plans').pipe();\r\n  }\r\n\r\n  getPlan(_id: string): Observable<Plan> {\r\n    return this.http.get<Plan>(`/api/plans/${_id}`).pipe();\r\n  }\r\n\r\n  addPlan(plan: Plan): Observable<Plan> {\r\n    return this.http.post<Plan>('/api/plans', plan).pipe();\r\n  }\r\n\r\n  modifyPlan(plan: Plan): Observable<Plan> {\r\n    return this.http.put<Plan>(`/api/plans/${plan._id}`, plan).pipe();\r\n  }\r\n\r\n  removePlan(_id: string): Observable<any> {\r\n    return this.http.delete(`/api/plans/${_id}`).pipe();\r\n  }\r\n\r\n  count(): Observable<number> {\r\n    return this.http.get<number>(`/api/plans/count`).pipe();\r\n  }\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { Observable } from 'rxjs';\r\nimport { Searched, MalSearched } from 'src/app/models/searched';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class SearchService {\r\n\r\n  constructor(\r\n    private http: HttpClient\r\n  ) { }\r\n\r\n  search(text: string, option: string): Observable<Searched[]> {\r\n    return this.http.get<Searched[]>(`/api/searches/${option}/${text}`).pipe();\r\n  }\r\n\r\n  mal(mal_id: number): Observable<MalSearched> {\r\n    return this.http.get<MalSearched>(`/api/searches/mal_id/${mal_id}`).pipe();\r\n  }\r\n\r\n  namuwiki(text: string): string {\r\n    // return `/api/searches/namuwiki/${encodeURI(text)}`;\r\n    return `https://namu.wiki/search/${encodeURI(text)}`;\r\n  }\r\n\r\n  namuwiki_icon(): string {\r\n    return 'import_contacts';\r\n  }\r\n\r\n  namuwiki_label(): string {\r\n    return '나무위키';\r\n  }\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { Title } from '@angular/platform-browser';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class TitleService {\r\n  private static readonly DefaultTitle = 'AnimeLog W';\r\n\r\n  constructor(\r\n    private titleService: Title\r\n  ) { }\r\n\r\n  setTitle(title: string) {\r\n    this.titleService.setTitle(TitleService.DefaultTitle + ' :: ' + title);\r\n  }\r\n\r\n  setDefaultTitle() {\r\n    this.titleService.setTitle(TitleService.DefaultTitle);\r\n  }\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\nimport { HttpClient } from '@angular/common/http';\r\n\r\nimport { Tva } from 'src/app/models/tva';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class TvaService {\r\n\r\n  constructor(\r\n    private http: HttpClient\r\n  ) { }\r\n\r\n  getTvas(): Observable<Tva[]> {\r\n    return this.http.get<Tva[]>('/api/tvas').pipe();\r\n  }\r\n\r\n  getTva(_id: string): Observable<Tva> {\r\n    return this.http.get<Tva>(`/api/tvas/${_id}`).pipe();\r\n  }\r\n\r\n  addTva(tva: Tva): Observable<Tva> {\r\n    return this.http.post<Tva>('/api/tvas', tva).pipe();\r\n  }\r\n\r\n  modifyTva(tva: Tva): Observable<Tva | any> {\r\n    return this.http.put<Tva | any>(`/api/tvas/${tva._id}`, tva).pipe();\r\n  }\r\n\r\n  removeTva(_id: string, series: number, sequence: number): Observable<any> {\r\n    return this.http.delete(`/api/tvas/${_id}/${series}/${sequence}`).pipe();\r\n  }\r\n\r\n  count(): Observable<number> {\r\n    return this.http.get<number>(`/api/tvas/count`).pipe();\r\n  }\r\n\r\n  getRandom(): Observable<Tva> {\r\n    return this.http.get<Tva>('/api/tvas/random').pipe();\r\n  }\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { Watching, WatchingVideo, WatchingSubtitle, Ohys } from 'src/app/models/watching';\r\nimport { Ohli } from '../models/ohli';\r\nimport { IncompletionService } from '../models/incompletionService';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class WatchingService implements IncompletionService {\r\n\r\n  constructor(\r\n    private http: HttpClient\r\n  ) { }\r\n\r\n  get(_id: string): Observable<Watching> { return this.getWatching(_id) }\r\n  remove(_id: string): Observable<Watching> { return this.removeWatching(_id) }\r\n\r\n  getWatchings(): Observable<Watching[]> {\r\n    return this.http.get<Watching[]>('/api/watchings').pipe();\r\n  }\r\n\r\n  getWatching(_id: string): Observable<Watching> {\r\n    return this.http.get<Watching>(`/api/watchings/${_id}`).pipe();\r\n  }\r\n\r\n  addWatching(watching: Watching): Observable<Watching> {\r\n    return this.http.post<Watching>('/api/watchings', watching).pipe();\r\n  }\r\n\r\n  modifyWatching(watching: Watching): Observable<Watching> {\r\n    return this.http.put<Watching>(`/api/watchings/${watching._id}`, watching).pipe();\r\n  }\r\n\r\n  removeWatching(_id: string): Observable<any> {\r\n    return this.http.delete(`/api/watchings/${_id}`).pipe();\r\n  }\r\n\r\n  /**\r\n   * @param year year when the animation ended, it is not needed when it is being aired\r\n   */\r\n  ohli(title: string, year?: number): Observable<Ohli[]> {\r\n    return this.http.get<Ohli[]>(year ? `/api/watchings/ohlis/${year}/${title}` : `/api/watchings/ohlis/airing/${title}`).pipe();\r\n  }\r\n\r\n  getVideos(title: string): Observable<WatchingVideo[]> {\r\n    return this.http.get<WatchingVideo[]>(`/api/watchings/airing/videos/${title}`).pipe();\r\n  }\r\n\r\n  getOhys(title: string): Observable<Ohys[]> {\r\n    return this.http.get<Ohys[]>(`/api/watchings/airing/ohys/${title}`).pipe();\r\n  }\r\n\r\n  getSubtitles(ohli_id: number): Observable<WatchingSubtitle[]> {\r\n    return this.http.get<WatchingSubtitle[]>(`/api/watchings/airing/subtitles/${ohli_id}`).pipe();\r\n  }\r\n\r\n  count(): Observable<number> {\r\n    return this.http.get<number>(`/api/watchings/count`).pipe();\r\n  }\r\n\r\n  getRandom(): Observable<Watching> {\r\n    return this.http.get<Watching>('/api/watchings/random').pipe();\r\n  }\r\n\r\n}\r\n","// This file can be replaced during build by using the `fileReplacements` array.\r\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\r\n// The list of file replacements can be found in `angular.json`.\r\n\r\nexport const environment = {\r\n  production: false\r\n};\r\n\r\n/*\r\n * For easier debugging in development mode, you can import the following file\r\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\r\n *\r\n * This import should be commented out in production mode because it will have a negative impact\r\n * on performance if an error is thrown.\r\n */\r\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\r\n","import { enableProdMode } from '@angular/core';\r\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\n\r\nimport { AppModule } from './app/app.module';\r\nimport { environment } from './environments/environment';\r\n\r\nimport 'hammerjs';\r\n\r\nif (environment.production) {\r\n  enableProdMode();\r\n}\r\n\r\nplatformBrowserDynamic().bootstrapModule(AppModule)\r\n  .catch(err => console.error(err));\r\n"],"sourceRoot":"webpack:///"}